import{c as C,B as S,u as q,j as v,k as $,C as B,l as D,o as j,q as Q}from"./frappe-ui-DY2hYblR.js";import{F as V,bk as L,av as R,c as y,a8 as F,t as c,b as t,g as m,z as g,e as n,u as e,D as h,w as i,H as _,O as k,a as d,C as G}from"./vendor-BwXEY6tq.js";const I={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},M={key:0,class:"md:w-3/4 md:mx-auto py-5 mx-5"},P={class:"text-xl font-semibold mb-5"},T={class:"flex justify-center my-5"},O={__name:"QuizSubmissionCS",props:{quizID:{type:String,required:!0},courseName:{type:String,required:!0}},setup(x){const w=V(),p=L("$user");R(()=>{var s,a;!((s=p.data)!=null&&s.is_instructor)&&!((a=p.data)!=null&&a.is_moderator)&&w.push({name:"Courses"})});const r=x,l=C({url:"seminary.seminary.utils.get_course_details",cache:["course",r.courseName],params:{course:r.courseName},auto:!0}),o=S({doctype:"Quiz Submission",filters:{quiz:r.quizID,course:r.courseName},fields:["name","member_name","score","percentage","quiz_title"],orderBy:"creation desc",auto:!0}),b=y(()=>[{label:__("Student"),key:"member_name",width:1},{label:__("Score"),key:"score",width:1,align:"center"},{label:__("Percentage"),key:"percentage",width:1,align:"center"}]),N=y(()=>{var a;let s=[{label:__("Courses"),route:{name:"Courses"}}];return s.push({label:(a=l==null?void 0:l.data)==null?void 0:a.course,route:{name:"CourseDetail",params:{courseName:r.courseName}}}),s.push({label:__("Gradebook"),route:{name:"Gradebook",params:{courseName:r.courseName}}}),s.push({label:__("Quiz Submissions")}),s});return(s,a)=>{var f;const z=F("router-link");return t(),c(_,null,[m("header",I,[n(e(q),{items:N.value},null,8,["items"])]),(f=e(o).data)!=null&&f.length?(t(),c("div",M,[m("div",P,h(e(o).data[0].quiz_title),1),n(e(j),{columns:b.value,rows:e(o).data,"row-key":"name",options:{showTooltip:!1,selectable:!1}},{default:i(()=>[n(e(v),{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2"},{default:i(()=>[(t(!0),c(_,null,k(b.value,u=>(t(),d(e($),{item:u},null,8,["item"]))),256))]),_:1}),n(e(B),null,{default:i(()=>[(t(!0),c(_,null,k(e(o).data,u=>(t(),d(z,{to:{name:"QuizSubmission",params:{submission:u.name}}},{default:i(()=>[n(e(D),{row:u},null,8,["row"])]),_:2},1032,["to"]))),256))]),_:1})]),_:1},8,["columns","rows"]),m("div",T,[e(o).hasNextPage?(t(),d(e(Q),{key:0,onClick:a[0]||(a[0]=u=>e(o).next())},{default:i(()=>[G(h(s.__("Load More")),1)]),_:1})):g("",!0)])])):g("",!0)],64)}}};export{O as default};
//# sourceMappingURL=QuizSubmissionCS-6Qire0sM.js.map
