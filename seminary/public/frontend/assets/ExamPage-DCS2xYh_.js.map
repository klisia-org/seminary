{"version":3,"file":"ExamPage-DCS2xYh_.js","sources":["../../../../frontend/src/pages/ExamPage.vue"],"sourcesContent":["<template>\n\t<header\n\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t>\n\t\t<Breadcrumbs :items=\"breadcrumbs\" />\n\t</header>\n\t<div class=\"md:w-7/12 md:mx-auto mx-4 py-10\">\n\t\t<Exam :examName=\"examID\" />\n\t</div>\n\t      <!-- Right Section (1/3 width) -->\n\t\t  <div class=\"col-span-1 space-y-4\">\n        <div class=\"space-y-4 border p-5 rounded-md\">\n          <Discussions\n\t\t\tv-if=\"(user.data?.is_student && submisisonDetails.data?.name) || user.data?.is_instructor\"\n            :title=\"'Exam Comments'\"\n            :doctype=\"'Exam Submission'\"\n            :docname=\"submisisonDetails.doc.name\"\n            :key=\"submisisonDetails.doc.name\"\n            type=\"single\"\n          />\n        </div>\n      </div>\n</template>\n<script setup>\nimport Exam from '@/components/Exam.vue'\nimport { createResource, Breadcrumbs } from 'frappe-ui'\nimport { computed, inject, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport { updateDocumentTitle } from '@/utils'\nimport Discussions from '@/components/Discussions.vue'\n\nconst user = inject('$user')\nconst router = useRouter()\n\nonMounted(() => {\n\tif (!user.data) {\n\t\trouter.push({ name: 'Courses' })\n\t}\n})\n\nconst props = defineProps({\n\texamID: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst title = createResource({\n\turl: 'frappe.client.get_value',\n\tparams: {\n\t\tdoctype: 'Exam Activity',\n\t\tfieldname: 'title',\n\t\tfilters: {\n\t\t\tname: props.examID,\n\t\t},\n\t},\n\tauto: true,\n})\n\n\nconst submissionDetails = createResource({\n\turl: 'frappe.client.get_value',\n\tparams: {\n\t\tdoctype: 'Exam Submission',\n\t\tfieldname: 'name',\n\t\tfilters: {\n\t\t\texam: props.examID,\n\t\t\tmember: user.data.name,\n\t\t},\n\t},\n\tauto: true,\n\tcache: ['exam-submission', props.examID],\n})\nconsole.log('User in Exam Page:', user.data)\nconst breadcrumbs = computed(() => {\n\treturn [{ label: __('Exam Submission') }, { label: title.data?.title }]\n})\n\nconst pageMeta = computed(() => {\n\treturn {\n\t\ttitle: title.data?.title,\n\t\tdescription: __('Exam Submission'),\n\t}\n})\n\nupdateDocumentTitle(pageMeta)\n</script>\n"],"names":["user","inject","router","useRouter","onMounted","props","__props","title","createResource","breadcrumbs","computed","_a","pageMeta","updateDocumentTitle","_createElementVNode","_hoisted_1","_createVNode","_unref","Breadcrumbs","_hoisted_2","Exam","_hoisted_3","_hoisted_4","submisisonDetails","_createBlock","Discussions"],"mappings":"+pBA+BA,MAAMA,EAAOC,EAAO,OAAO,EACrBC,EAASC,EAAS,EAExBC,EAAU,IAAM,CACVJ,EAAK,MACTE,EAAO,KAAK,CAAE,KAAM,SAAS,CAAE,CAEjC,CAAC,EAED,MAAMG,EAAQC,EAORC,EAAQC,EAAe,CAC5B,IAAK,0BACL,OAAQ,CACP,QAAS,gBACT,UAAW,QACX,QAAS,CACR,KAAMH,EAAM,MACf,CACA,EACC,KAAM,EACP,CAAC,EAGyBG,EAAe,CACxC,IAAK,0BACL,OAAQ,CACP,QAAS,kBACT,UAAW,OACX,QAAS,CACR,KAAMH,EAAM,OACZ,OAAQL,EAAK,KAAK,IACrB,CACA,EACC,KAAM,GACN,MAAO,CAAC,kBAAmBK,EAAM,MAAM,CACxC,CAAC,EACD,QAAQ,IAAI,qBAAsBL,EAAK,IAAI,EAC3C,MAAMS,EAAcC,EAAS,IAAM,OAClC,MAAO,CAAC,CAAE,MAAO,GAAG,iBAAiB,GAAK,CAAE,OAAOC,EAAAJ,EAAM,OAAN,YAAAI,EAAY,KAAK,CAAE,CACvE,CAAC,EAEKC,EAAWF,EAAS,IAAM,OAC/B,MAAO,CACN,OAAOC,EAAAJ,EAAM,OAAN,YAAAI,EAAY,MACnB,YAAa,GAAG,iBAAiB,CACnC,CACA,CAAC,EAED,OAAAE,EAAoBD,CAAQ,yCApF3BE,EAIS,SAJTC,EAIS,CADRC,EAAoCC,EAAAC,CAAA,EAAA,CAAtB,MAAOT,EAAA,OAAW,KAAA,EAAA,CAAA,OAAA,CAAA,IAEjCK,EAEM,MAFNK,EAEM,CADLH,EAA2BI,EAAA,CAApB,SAAUd,EAAA,MAAM,EAAA,KAAA,EAAA,CAAA,UAAA,CAAA,IAGrBQ,EAWQ,MAXRO,EAWQ,CAVJP,EASM,MATNQ,EASM,EAPJL,EAAAA,EAAAjB,CAAA,EAAK,OAALiB,MAAAA,EAAW,cAAcM,EAAAA,EAAAA,kBAAkB,OAAlBA,MAAAA,EAAwB,QAASN,EAAAA,EAAAjB,CAAA,EAAK,OAALiB,MAAAA,EAAW,mBADrEO,EAOEC,EAAA,CALC,MAAO,gBACP,QAAS,kBACT,QAASF,EAAAA,kBAAkB,IAAI,KAC/B,IAAKA,EAAAA,kBAAkB,IAAI,KAC5B,KAAK"}