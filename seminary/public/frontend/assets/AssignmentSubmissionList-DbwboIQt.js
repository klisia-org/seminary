var P=Object.defineProperty,U=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var A=(i,s,n)=>s in i?P(i,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[s]=n,N=(i,s)=>{for(var n in s||(s={}))T.call(s,n)&&A(i,n,s[n]);if($)for(var n of $(s))z.call(s,n)&&A(i,n,s[n]);return i},G=(i,s)=>U(i,L(s));import{E,w as O,y as H,l as K,m as M,G as J,n as Q,o as W,q as X,t as Y}from"./frappe-ui-BzEkZ7NZ.js";import{bk as D,F as Z,r as y,av as ee,I as se,c as h,a8 as te,t as p,b as o,g as b,e as r,u as a,a as k,w as c,H as w,O as q,C as ae,D as v,ce as ne}from"./vendor-IWZbD1HA.js";import{_ as B}from"./Link-DmVUQNbJ.js";const le={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},ie={class:"md:w-3/4 md:mx-auto py-5 mx-5"},re={class:"grid grid-cols-3 gap-5 mb-5"},oe={key:0},ue={key:1},me={key:1,class:"text-center p-5 text-ink-gray-5 mt-52 w-3/4 md:w-1/2 mx-auto space-y-2"},de={class:"text-xl font-medium"},ce={class:"leading-5"},ve={__name:"AssignmentSubmissionList",setup(i){const s=D("$user"),n=D("$dayjs"),f=Z(),u=y(""),m=y(""),d=y("");ee(()=>{var e,l;!((e=s.data)!=null&&e.is_instructor)&&!((l=s.data)!=null&&l.is_moderator)&&f.push({name:"Courses"}),u.value=f.currentRoute.value.query.assignmentID,m.value=f.currentRoute.value.query.member,d.value=f.currentRoute.value.query.status,x()});const C=()=>{let e={};return u.value&&(e.assignment=u.value),m.value&&(e.member=m.value),d.value&&(e.status=d.value),e},_=E({doctype:"Assignment Submission",fields:["name","assignment","assignment_title","member_name","creation","status","grade"],orderBy:"creation desc",transform(e){return e.map(l=>G(N({},l),{creation:n(l.creation).fromNow()}))}});se([u,m,d],()=>{f.push({query:{assignmentID:u.value,member:m.value,status:d.value}}),x()});const x=()=>{_.update({filters:C()}),_.reload()},S=h(()=>[{label:"Student",key:"member_name",width:1},{label:"Assignment",key:"assignment_title",width:2},{label:"Submitted",key:"creation",width:1,align:"left"},{label:"Grade",key:"grade",width:1,align:"center"},{label:"Status",key:"status",width:1,align:"center"}]),F=h(()=>[{label:"",value:""},{label:"Pass",value:"Pass"},{label:"Fail",value:"Fail"},{label:"Not Graded",value:"Not Graded"},{label:"Graded",value:"Graded"}]),I=e=>e==="Pass"||e==="Graded"?"green":e==="Not Graded"?"blue":"red",R=h(()=>[{label:"Assignment Submissions"}]);return(e,l)=>{var V;const j=te("router-link");return o(),p(w,null,[b("header",le,[r(a(O),{items:R.value},null,8,["items"])]),b("div",ie,[b("div",re,[r(B,{doctype:"Assignment Activity",modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=t=>u.value=t),placeholder:e.__("Assignment")},null,8,["modelValue","placeholder"]),r(B,{doctype:"User",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=t=>m.value=t),placeholder:e.__("Student")},null,8,["modelValue","placeholder"]),r(a(H),{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=t=>d.value=t),type:"select",options:F.value,placeholder:e.__("Status")},null,8,["modelValue","options","placeholder"])]),a(_).loading||(V=a(_).data)!=null&&V.length?(o(),k(a(Y),{key:0,columns:S.value,rows:a(_).data,rowKey:"name"},{default:c(()=>[r(a(K),{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2"},{default:c(()=>[(o(!0),p(w,null,q(S.value,t=>(o(),k(a(M),{item:t},null,8,["item"]))),256))]),_:1}),r(a(J),null,{default:c(()=>[(o(!0),p(w,null,q(a(_).data,t=>(o(),k(j,{to:{name:"AssignmentSubmission",params:{assignmentID:t.assignment,submissionName:t.name}}},{default:c(()=>[r(a(Q),{row:t},{default:c(({column:g,item:_e})=>[r(a(W),{item:t[g.key],align:g.align},{default:c(()=>[g.key=="status"?(o(),p("div",oe,[r(a(X),{theme:I(t[g.key])},{default:c(()=>[ae(v(t[g.key]),1)]),_:2},1032,["theme"])])):(o(),p("div",ue,v(t[g.key]),1))]),_:2},1032,["item","align"])]),_:2},1032,["row"])]),_:2},1032,["to"]))),256))]),_:1})]),_:1},8,["columns","rows"])):(o(),p("div",me,[r(a(ne),{class:"size-8 mx-auto stroke-1 text-ink-gray-4"}),b("div",de,v(e.__("No submissions")),1),b("div",ce,v(e.__("There are no submissions for this assignment.")),1)]))])],64)}}};export{ve as default};
//# sourceMappingURL=AssignmentSubmissionList-DbwboIQt.js.map
