import{c as C,E as S,w as v,l as $,m as q,G as B,n as D,t as j,j as Q}from"./frappe-ui-BzEkZ7NZ.js";import{F as V,bk as G,av as L,c as y,a8 as R,t as c,b as a,g as m,z as g,e as n,u as e,D as h,w as i,H as d,O as k,a as _,C as E}from"./vendor-IWZbD1HA.js";const F={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},I={key:0,class:"md:w-3/4 md:mx-auto py-5 mx-5"},M={class:"text-xl font-semibold mb-5"},P={class:"flex justify-center my-5"},O={__name:"QuizSubmissionCS",props:{quizID:{type:String,required:!0},courseName:{type:String,required:!0}},setup(w){const x=V(),p=G("$user");L(()=>{var s,t;!((s=p.data)!=null&&s.is_instructor)&&!((t=p.data)!=null&&t.is_moderator)&&x.push({name:"Courses"})});const r=w,l=C({url:"seminary.seminary.utils.get_course_details",cache:["course",r.courseName],params:{course:r.courseName},auto:!0}),o=S({doctype:"Quiz Submission",filters:{quiz:r.quizID,course:r.courseName},fields:["name","member_name","score","percentage","quiz_title"],orderBy:"creation desc",auto:!0}),b=y(()=>[{label:__("Student"),key:"member_name",width:1},{label:__("Score"),key:"score",width:1,align:"center"},{label:__("Percentage"),key:"percentage",width:1,align:"center"}]),N=y(()=>{var t;let s=[{label:"Courses",route:{name:"Courses"}}];return s.push({label:(t=l==null?void 0:l.data)==null?void 0:t.course,route:{name:"CourseDetail",params:{courseName:r.courseName}}}),s.push({label:"Gradebook",route:{name:"Gradebook",params:{courseName:r.courseName}}}),s.push({label:"Quiz Submissions"}),s});return(s,t)=>{var f;const z=R("router-link");return a(),c(d,null,[m("header",F,[n(e(v),{items:N.value},null,8,["items"])]),(f=e(o).data)!=null&&f.length?(a(),c("div",I,[m("div",M,h(e(o).data[0].quiz_title),1),n(e(j),{columns:b.value,rows:e(o).data,"row-key":"name",options:{showTooltip:!1,selectable:!1}},{default:i(()=>[n(e($),{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2"},{default:i(()=>[(a(!0),c(d,null,k(b.value,u=>(a(),_(e(q),{item:u},null,8,["item"]))),256))]),_:1}),n(e(B),null,{default:i(()=>[(a(!0),c(d,null,k(e(o).data,u=>(a(),_(z,{to:{name:"QuizSubmission",params:{submission:u.name}}},{default:i(()=>[n(e(D),{row:u},null,8,["row"])]),_:2},1032,["to"]))),256))]),_:1})]),_:1},8,["columns","rows"]),m("div",P,[e(o).hasNextPage?(a(),_(e(Q),{key:0,onClick:t[0]||(t[0]=u=>e(o).next())},{default:i(()=>[E(h(s.__("Load More")),1)]),_:1})):g("",!0)])])):g("",!0)],64)}}};export{O as default};
//# sourceMappingURL=QuizSubmissionCS-CjYno8O8.js.map
