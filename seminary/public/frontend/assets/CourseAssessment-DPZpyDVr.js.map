{"version":3,"file":"CourseAssessment-DPZpyDVr.js","sources":["../../../../frontend/node_modules/frappe-ui/src/components/DatePicker/utils.ts","../../../../frontend/node_modules/frappe-ui/src/components/TimePicker/TimePicker.vue","../../../../frontend/node_modules/frappe-ui/src/components/DatePicker/DateTimePicker.vue","../../../../frontend/src/components/Modals/CourseAssessmentModal.vue","../../../../frontend/src/pages/CourseAssessment.vue"],"sourcesContent":["import { dayjs, dayjsLocal } from '../../utils/dayjs'\nimport type { Dayjs } from 'dayjs/esm'\nimport type { DatePickerDateObj as DateObj } from './types'\n\n// Constant list of month labels\nexport const months: string[] = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec',\n]\n\n// Start of given month (0-indexed month)\nexport function monthStart(year: number, monthIndex: number): Dayjs {\n  return dayjs(`${year}-${monthIndex + 1}-01`)\n}\n\n// Build weeks grid for the calendar\nexport function generateWeeks(\n  year: number,\n  monthIndex: number,\n  selected: string,\n): DateObj[][] {\n  const start = monthStart(year, monthIndex).startOf('week')\n  const end = monthStart(year, monthIndex).endOf('month').endOf('week')\n  const days: DateObj[] = []\n  let d: Dayjs = start\n  while (d.isBefore(end) || d.isSame(end)) {\n    const inMonth = d.month() === monthIndex\n    const sel = dayjs(selected)\n    days.push({\n      date: d,\n      key: d.format('YYYY-MM-DD'),\n      inMonth,\n      isToday: d.isSame(dayjsLocal().format('YYYY-MM-DD'), 'day'),\n      isSelected: sel.isValid() && d.isSame(sel, 'day'),\n    })\n    d = d.add(1, 'day')\n  }\n  const chunked: DateObj[][] = []\n  for (let i = 0; i < days.length; i += 7) chunked.push(days.slice(i, i + 7))\n  return chunked\n}\n\ntype DateConstructorParam = string | number | Date\n\nfunction getDate(...args: DateConstructorParam[]): Date {\n  return new Date(...(args as [DateConstructorParam]))\n}\n\nfunction getDateValue(date: Date | string) {\n  if (!date || date.toString() === 'Invalid Date') return ''\n\n  return dayjs(date)\n    .set('hour', 0)\n    .set('minute', 0)\n    .set('second', 0)\n    .set('millisecond', 0)\n    .format('YYYY-MM-DD')\n}\n\nfunction getDatesAfter(date: Date, count: number) {\n  let incrementer = 1\n  if (count < 0) {\n    incrementer = -1\n    count = Math.abs(count)\n  }\n  const dates: Date[] = []\n\n  while (count) {\n    date = getDate(\n      date.getFullYear(),\n      date.getMonth(),\n      date.getDate() + incrementer,\n    )\n    dates.push(date)\n    count--\n  }\n\n  if (incrementer === -1) {\n    return dates.reverse()\n  }\n  return dates\n}\n\nfunction getDaysInMonth(monthIndex: number, year: number) {\n  const daysInMonthMap = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n  const daysInMonth = daysInMonthMap[monthIndex]\n  if (monthIndex === 1 && isLeapYear(year)) {\n    return 29\n  }\n  return daysInMonth\n}\n\nfunction isLeapYear(year: number) {\n  if (year % 400 === 0) return true\n  if (year % 100 === 0) return false\n  if (year % 4 === 0) return true\n  return false\n}\n\nexport { getDate, getDateValue, getDatesAfter, getDaysInMonth, isLeapYear }\n","<template>\n  <Popover\n    v-model:show=\"showOptions\"\n    transition=\"default\"\n    :placement=\"placement\"\n  >\n    <template #target=\"{ togglePopover, isOpen }\">\n      <TextInput\n        ref=\"inputRef\"\n        v-model=\"displayValue\"\n        :variant=\"variant\"\n        type=\"text\"\n        class=\"text-sm w-full cursor-text\"\n        :placeholder=\"placeholder\"\n        :disabled=\"disabled\"\n        :readonly=\"!props.allowCustom\"\n        @focus=\"onFocus\"\n        @click=\"onClickInput(isOpen, togglePopover)\"\n        @keydown.enter.prevent=\"onEnter\"\n        @blur=\"onBlur\"\n        @keydown.down.prevent=\"onArrowDown(togglePopover, isOpen)\"\n        @keydown.up.prevent=\"onArrowUp(togglePopover, isOpen)\"\n        @keydown.esc.prevent=\"onEscape\"\n      >\n        <template v-if=\"$slots.prefix\" #prefix>\n          <slot name=\"prefix\" />\n        </template>\n        <template #suffix>\n          <slot name=\"suffix\" v-bind=\"{ togglePopover, isOpen }\">\n            <FeatherIcon\n              name=\"chevron-down\"\n              class=\"h-4 w-4 cursor-pointer\"\n              @mousedown.prevent=\"togglePopover\"\n            />\n          </slot>\n        </template>\n      </TextInput>\n    </template>\n    <template #body=\"{ isOpen }\">\n      <div\n        v-show=\"isOpen\"\n        ref=\"panelRef\"\n        class=\"mt-2 max-h-48 w-44 overflow-y-auto rounded-lg bg-surface-modal p-1 text-base shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n        role=\"listbox\"\n        :aria-activedescendant=\"activeDescendantId\"\n      >\n        <button\n          v-for=\"(opt, idx) in displayedOptions\"\n          :key=\"opt.value\"\n          :data-value=\"opt.value\"\n          :data-index=\"idx\"\n          type=\"button\"\n          class=\"group flex h-7 w-full items-center rounded px-2 text-left\"\n          :class=\"buttonClasses(opt, idx)\"\n          @click=\"select(opt.value)\"\n          @mouseenter=\"highlightIndex = idx\"\n          role=\"option\"\n          :id=\"optionId(idx)\"\n          :aria-selected=\"internalValue === opt.value\"\n        >\n          <span class=\"truncate\">{{ opt.label }}</span>\n        </button>\n      </div>\n    </template>\n  </Popover>\n</template>\n\n<script setup lang=\"ts\">\nimport Popover from '../Popover/Popover.vue'\nimport TextInput from '../TextInput/TextInput.vue'\nimport FeatherIcon from '../FeatherIcon.vue'\nimport { ref, computed, watch, nextTick } from 'vue'\nimport type {\n  Option,\n  ParsedTime,\n  TimePickerProps,\n  Placement,\n  Variant,\n  TimePickerEmits,\n} from './types'\n\nconst props = withDefaults(defineProps<TimePickerProps>(), {\n  value: '',\n  modelValue: '',\n  interval: 15,\n  options: () => [],\n  placement: 'bottom-start' as Placement,\n  placeholder: 'Select time',\n  variant: 'subtle' as Variant,\n  allowCustom: true,\n  autoClose: true,\n  use12Hour: true,\n  disabled: false,\n  scrollMode: 'center' as const,\n  minTime: '',\n  maxTime: '',\n})\n\nconst emit = defineEmits<TimePickerEmits>()\n\nconst panelRef = ref<HTMLElement | null>(null)\nconst isFocused = ref(false)\nconst showOptions = ref(false)\nconst highlightIndex = ref<number>(-1)\nconst hasSelectedOnFirstClick = ref(false)\nconst isTyping = ref(false)\nlet navUpdating = false\nlet invalidState = false\n\nconst inputRef = ref<any>(null)\nconst initial = props.modelValue || props.value || ''\nconst internalValue = ref<string>(initial)\nconst displayValue = ref<string>('')\ndisplayValue.value = formatDisplay(internalValue.value)\nconst uid = Math.random().toString(36).slice(2, 9)\nconst activeDescendantId = computed<string | undefined>(() =>\n  highlightIndex.value > -1 ? optionId(highlightIndex.value) : undefined,\n)\nfunction optionId(idx: number): string {\n  return `tp-${uid}-${idx}`\n}\n\nfunction minutesFromHHMM(str: string): number | null {\n  if (!str) return null\n  if (!/^\\d{2}:\\d{2}(:\\d{2})?$/.test(str)) return null\n  const [h, m] = str.split(':').map((n) => parseInt(n))\n  if (h > 23 || m > 59) return null\n  return h * 60 + m\n}\nconst minMinutes = computed<number | null>(() => minutesFromHHMM(props.minTime))\nconst maxMinutes = computed<number | null>(() => minutesFromHHMM(props.maxTime))\n\nconst displayedOptions = computed<Option[]>(() => {\n  if (props.options?.length) {\n    return props.options.map((o) => {\n      const value = normalize24(o.value)\n      return {\n        value,\n        label: o.label || formatDisplay(value),\n      }\n    })\n  }\n  const out: Option[] = []\n  for (let m = 0; m < 1440; m += props.interval) {\n    if (minMinutes.value != null && m < minMinutes.value) continue\n    if (maxMinutes.value != null && m > maxMinutes.value) continue\n    const hh = Math.floor(m / 60)\n      .toString()\n      .padStart(2, '0')\n    const mm = (m % 60).toString().padStart(2, '0')\n    const val = `${hh}:${mm}`\n    out.push({\n      value: val,\n      label: formatDisplay(val),\n    })\n  }\n  return out\n})\n\nwatch(\n  () => [props.modelValue, props.value],\n  ([m, v]) => {\n    const nv = m || v || ''\n    if (nv && nv !== internalValue.value) {\n      internalValue.value = normalize24(nv)\n      displayValue.value = formatDisplay(internalValue.value)\n    } else if (!nv) {\n      internalValue.value = ''\n      displayValue.value = ''\n    }\n  },\n)\n\nfunction normalize24(raw: string): string {\n  if (!raw) return ''\n  if (/^\\d{2}:\\d{2}$/.test(raw)) return raw\n  if (/^\\d{2}:\\d{2}:\\d{2}$/.test(raw)) return raw // keep seconds if present\n  const parsed = parseFlexibleTime(raw)\n  if (!parsed.valid) return ''\n  return parsed.ss\n    ? `${parsed.hh24}:${parsed.mm}:${parsed.ss}`\n    : `${parsed.hh24}:${parsed.mm}`\n}\n\nfunction formatDisplay(val24: string): string {\n  if (!val24) return ''\n  const segs = val24.split(':')\n  const h = parseInt(segs[0])\n  const m = parseInt(segs[1])\n  const s = segs[2]\n  const base24 = `${h.toString().padStart(2, '0')}:${m\n    .toString()\n    .padStart(2, '0')}${s ? `:${s}` : ''}`\n  if (!props.use12Hour) return base24\n  const am = h < 12\n  const hour12 = h % 12 === 0 ? 12 : h % 12\n  return `${hour12}:${m.toString().padStart(2, '0')}${s ? `:${s}` : ''} ${\n    am ? 'am' : 'pm'\n  }`\n}\n\nfunction parseFlexibleTime(input: string): ParsedTime {\n  if (!input) return { valid: false }\n  let s = input.trim().toLowerCase()\n  s = s.replace(/\\./g, '')\n  s = s.replace(/(\\d)(am|pm)$/, '$1 $2')\n  const re = /^(\\d{1,2})(?::(\\d{1,2}))?(?::(\\d{1,2}))?\\s*([ap]m)?$/\n  const m = s.match(re)\n  if (!m) return { valid: false }\n  let [, hhStr, mmStr, ssStr, ap] = m\n  let hh = parseInt(hhStr)\n  if (isNaN(hh) || hh < 0 || hh > 23) return { valid: false }\n  if (ssStr && !mmStr) return { valid: false }\n  let mm = mmStr != null && mmStr !== '' ? parseInt(mmStr) : 0\n  if (isNaN(mm) || mm < 0 || mm > 59) return { valid: false }\n  let ss: number | undefined\n  if (ssStr) {\n    ss = parseInt(ssStr)\n    if (isNaN(ss) || ss < 0 || ss > 59) return { valid: false }\n  }\n  if (ap) {\n    if (hh < 1 || hh > 12) return { valid: false }\n    if (hh === 12 && ap === 'am') hh = 0\n    else if (hh < 12 && ap === 'pm') hh += 12\n  }\n  return {\n    valid: true,\n    hh24: hh.toString().padStart(2, '0'),\n    mm: mm.toString().padStart(2, '0'),\n    ss: ss != null ? ss.toString().padStart(2, '0') : undefined,\n    total: hh * 60 + mm,\n  }\n}\n\nfunction findNearestIndex(targetMinutes: number, list: Option[]): number {\n  if (!list.length) return -1\n  const minutesArr = list.map((o) => {\n    const [hh, mm] = o.value.split(':').map(Number)\n    return hh * 60 + mm\n  })\n  let lo = 0,\n    hi = minutesArr.length - 1\n  while (lo <= hi) {\n    const mid = (lo + hi) >> 1\n    const val = minutesArr[mid]\n    if (val === targetMinutes) return mid\n    if (val < targetMinutes) lo = mid + 1\n    else hi = mid - 1\n  }\n  const candidates: number[] = []\n  if (lo < minutesArr.length) candidates.push(lo)\n  if (lo - 1 >= 0) candidates.push(lo - 1)\n  if (!candidates.length) return -1\n  return candidates.sort(\n    (a, b) =>\n      Math.abs(minutesArr[a] - targetMinutes) -\n      Math.abs(minutesArr[b] - targetMinutes),\n  )[0]\n}\n\nfunction isOutOfRange(totalMinutes: number): boolean {\n  if (minMinutes.value != null && totalMinutes < minMinutes.value) return true\n  if (maxMinutes.value != null && totalMinutes > maxMinutes.value) return true\n  return false\n}\n\nfunction applyValue(val24: string, commit = false) {\n  const prev = internalValue.value\n  internalValue.value = val24\n  displayValue.value = formatDisplay(val24)\n  if (commit || !isFocused.value) emit('update:modelValue', val24)\n  if (commit && val24 !== prev) emit('change', val24)\n  setInvalid(false)\n}\n\nfunction commitInput() {\n  const raw = displayValue.value\n  const parsed = parseFlexibleTime(raw)\n  if (!raw) {\n    const prev = internalValue.value\n    internalValue.value = ''\n    if (!isFocused.value) emit('update:modelValue', '')\n    if (prev && prev !== '') emit('change', '')\n    setInvalid(false)\n    return\n  }\n  if (!parsed.valid || isOutOfRange(parsed.total)) {\n    emit('input-invalid', raw)\n    setInvalid(true)\n    return\n  }\n  const normalized = parsed.ss\n    ? `${parsed.hh24}:${parsed.mm}:${parsed.ss}`\n    : `${parsed.hh24}:${parsed.mm}`\n  if (\n    !props.allowCustom &&\n    !displayedOptions.value.some((o) => {\n      const base = normalized.length === 8 ? normalized.slice(0, 5) : normalized\n      return o.value === base\n    })\n  ) {\n    const nearestIdx = findNearestIndex(parsed.total, displayedOptions.value)\n    if (nearestIdx > -1) {\n      const nearestVal = displayedOptions.value[nearestIdx].value\n      const committed =\n        normalized.length === 8 && nearestVal.length === 5\n          ? `${nearestVal}${normalized.slice(5)}`\n          : nearestVal\n      applyValue(committed, true)\n      return\n    }\n  }\n  applyValue(normalized, true)\n}\n\nfunction select(val: string, forceChange = false) {\n  const prev = internalValue.value\n  applyValue(val, true)\n  if (forceChange && prev === internalValue.value) {\n    emit('change', internalValue.value)\n  }\n  if (props.autoClose) showOptions.value = false\n}\n\nconst selectedAndNearest = computed<{\n  selected: Option | null\n  nearest: Option | null\n}>(() => {\n  const list = displayedOptions.value\n  if (!list.length) return { selected: null, nearest: null }\n  const parsedTyped = parseFlexibleTime(displayValue.value)\n  const candidate =\n    isTyping.value && parsedTyped.valid\n      ? parsedTyped.ss\n        ? `${parsedTyped.hh24}:${parsedTyped.mm}:${parsedTyped.ss}`\n        : `${parsedTyped.hh24}:${parsedTyped.mm}`\n      : internalValue.value || null\n  if (!candidate) return { selected: null, nearest: null }\n  const candidateCompare =\n    candidate && candidate.length === 8 ? candidate.slice(0, 5) : candidate\n  const selected = list.find((o) => o.value === candidateCompare) || null\n  if (selected) return { selected, nearest: null }\n  const parsed = parseFlexibleTime(candidate)\n  if (!parsed.valid) return { selected: null, nearest: null }\n  const idx = findNearestIndex(parsed.total, list)\n  return { selected: null, nearest: idx > -1 ? list[idx] : null }\n})\n\nfunction buttonClasses(opt: Option, idx: number): string {\n  if (idx === highlightIndex.value) return 'bg-surface-gray-3 text-ink-gray-8'\n  const { selected, nearest } = selectedAndNearest.value\n  if (isTyping.value && !selected) {\n    if (nearest && nearest.value === opt.value)\n      return 'text-ink-gray-7 italic bg-surface-gray-2'\n    return 'text-ink-gray-6 hover:bg-surface-gray-2 hover:text-ink-gray-8'\n  }\n  if (selected && selected.value === opt.value)\n    return 'bg-surface-gray-3 text-ink-gray-8'\n  if (nearest && nearest.value === opt.value)\n    return 'text-ink-gray-7 italic bg-surface-gray-2'\n  return 'text-ink-gray-6 hover:bg-surface-gray-2 hover:text-ink-gray-8'\n}\n\nwatch(\n  () => displayedOptions.value,\n  () => scheduleScroll(),\n)\n\nfunction scheduleScroll() {\n  nextTick(() => {\n    if (!panelRef.value || !showOptions.value) return\n    let targetEl: HTMLElement | null = null\n    if (highlightIndex.value > -1) {\n      targetEl = panelRef.value.querySelector(\n        `[data-index=\"${highlightIndex.value}\"]`,\n      ) as HTMLElement | null\n    } else {\n      const { selected, nearest } = selectedAndNearest.value\n      const target = selected || nearest\n      if (target)\n        targetEl = panelRef.value.querySelector(\n          `[data-value=\"${target.value}\"]`,\n        ) as HTMLElement | null\n    }\n    if (!targetEl) return\n    targetEl.scrollIntoView({\n      block:\n        props.scrollMode === 'center'\n          ? 'center'\n          : props.scrollMode === 'start'\n            ? 'start'\n            : 'nearest',\n    })\n  })\n}\n\nwatch(showOptions, (open) => {\n  if (open) {\n    emit('open')\n    initHighlight()\n    scheduleScroll()\n  } else {\n    emit('close')\n  }\n})\n\nwatch(\n  () => displayValue.value,\n  () => {\n    if (navUpdating) return\n    if (showOptions.value) scheduleScroll()\n    isTyping.value = true\n    highlightIndex.value = -1\n  },\n)\n\nfunction initHighlight() {\n  const { selected, nearest } = selectedAndNearest.value\n  const target = selected || nearest\n  if (!target) {\n    highlightIndex.value = -1\n    return\n  }\n  const idx = displayedOptions.value.findIndex((o) => o.value === target.value)\n  highlightIndex.value = idx\n}\n\nfunction moveHighlight(delta: number) {\n  const list = displayedOptions.value\n  if (!list.length) return\n  if (highlightIndex.value === -1) initHighlight()\n  else\n    highlightIndex.value =\n      (highlightIndex.value + delta + list.length) % list.length\n  const opt = list[highlightIndex.value]\n  if (opt) {\n    navUpdating = true\n    const val =\n      internalValue.value.length === 8 && opt.value.length === 5\n        ? `${opt.value}${internalValue.value.slice(5)}`\n        : opt.value\n    applyValue(val, false)\n    nextTick(() => {\n      navUpdating = false\n    })\n  }\n  isTyping.value = false\n  scheduleScroll()\n}\n\nfunction onArrowDown(togglePopover: () => void, isOpen?: boolean) {\n  if (!isOpen) togglePopover()\n  else moveHighlight(1)\n}\nfunction onArrowUp(togglePopover: () => void, isOpen?: boolean) {\n  if (!isOpen) togglePopover()\n  else moveHighlight(-1)\n}\n\nfunction onEnter() {\n  if (!showOptions.value) {\n    commitInput()\n    blurInput()\n    return\n  }\n  const parsed = parseFlexibleTime(displayValue.value)\n  const normalized = parsed.valid\n    ? parsed.ss\n      ? `${parsed.hh24}:${parsed.mm}:${parsed.ss}`\n      : `${parsed.hh24}:${parsed.mm}`\n    : null\n  const exists = normalized\n    ? displayedOptions.value.some((o) => {\n        const base =\n          normalized.length === 8 ? normalized.slice(0, 5) : normalized\n        return o.value === base\n      })\n    : false\n  if (parsed.valid && (!exists || isTyping.value)) {\n    commitInput()\n    if (props.autoClose) showOptions.value = false\n    blurInput()\n    return\n  }\n  if (highlightIndex.value > -1) {\n    const opt = displayedOptions.value[highlightIndex.value]\n    if (opt) select(opt.value, true)\n  } else {\n    commitInput()\n    if (props.autoClose) showOptions.value = false\n  }\n  blurInput()\n}\n\nfunction onClickInput(isOpen: boolean | undefined, togglePopover: () => void) {\n  if (!isOpen) togglePopover()\n  if (props.allowCustom) selectAll()\n}\n\nfunction onFocus() {\n  isFocused.value = true\n  if (props.allowCustom && !hasSelectedOnFirstClick.value) selectAll()\n}\n\nfunction onBlur() {\n  if (showOptions.value) {\n    isFocused.value = false\n    return\n  }\n  commitInput()\n  isFocused.value = false\n}\n\nfunction selectAll() {\n  nextTick(() => {\n    const el = inputRef.value?.el || inputRef.value\n    if (el && el.querySelector) {\n      const input: HTMLInputElement | any = el.querySelector('input') || el\n      input?.select?.()\n    } else if (el?.select) {\n      el.select()\n    }\n    hasSelectedOnFirstClick.value = true\n  })\n}\n\nfunction blurInput() {\n  nextTick(() => {\n    const el = inputRef.value?.el || inputRef.value\n    if (el && el.querySelector) {\n      const input: HTMLInputElement | any = el.querySelector('input') || el\n      input?.blur?.()\n    } else if (el?.blur) {\n      el.blur()\n    }\n    isFocused.value = false\n  })\n}\n\nfunction onEscape() {\n  if (showOptions.value) showOptions.value = false\n  blurInput()\n}\n\nfunction setInvalid(val: boolean) {\n  if (invalidState !== val) {\n    invalidState = val\n    emit('invalid-change', val)\n  }\n}\n</script>\n","<template>\n  <Popover\n    class=\"inline-block\"\n    :placement=\"placement\"\n    @open=\"initFromValue\"\n    @close=\"handleClose\"\n  >\n    <template #target=\"{ togglePopover, isOpen }\">\n      <slot\n        name=\"target\"\n        v-bind=\"{ togglePopover, isOpen, displayLabel, inputValue }\"\n      >\n        <TextInput\n          v-model=\"inputValue\"\n          type=\"text\"\n          class=\"cursor-text w-full\"\n          :class=\"props.inputClass\"\n          :label=\"props.label\"\n          :variant=\"props.variant\"\n          :placeholder=\"props.placeholder || 'Select date & time'\"\n          :disabled=\"props.disabled\"\n          :readonly=\"props.readonly || !props.allowCustom\"\n          @focus=\"activateInput(isOpen, togglePopover)\"\n          @click=\"activateInput(isOpen, togglePopover)\"\n          @blur=\"onBlur\"\n          @keydown.enter.prevent=\"onEnter(togglePopover)\"\n        >\n          <template v-if=\"$slots.prefix\" #prefix>\n            <slot\n              name=\"prefix\"\n              v-bind=\"{ togglePopover, isOpen, displayLabel, inputValue }\"\n            />\n          </template>\n          <template #suffix>\n            <slot\n              name=\"suffix\"\n              v-bind=\"{ togglePopover, isOpen, displayLabel, inputValue }\"\n            >\n              <FeatherIcon\n                name=\"chevron-down\"\n                class=\"h-4 w-4 cursor-pointer\"\n                @mousedown.prevent=\"togglePopover\"\n              />\n            </slot>\n          </template>\n        </TextInput>\n      </slot>\n    </template>\n\n    <template #body=\"{ togglePopover }\">\n      <div\n        ref=\"popoverContentRef\"\n        class=\"w-fit min-w-60 select-none text-base text-ink-gray-9 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 mt-2\"\n      >\n        <!-- Header (Month/Year navigation) -->\n        <div class=\"flex items-center justify-between p-2 pb-0 gap-1\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            class=\"text-sm font-medium text-ink-gray-7\"\n            @click=\"cycleView\"\n          >\n            <span v-if=\"view === 'date'\"\n              >{{ months[currentMonth] }} {{ currentYear }}</span\n            >\n            <span v-else-if=\"view === 'month'\">{{ currentYear }}</span>\n            <span v-else>{{ yearRangeStart }} - {{ yearRangeStart + 11 }}</span>\n          </Button>\n          <div class=\"flex items-center\">\n            <Button\n              variant=\"ghost\"\n              icon=\"chevron-left\"\n              class=\"size-7\"\n              @click=\"prev\"\n            />\n            <Button\n              v-if=\"!clearable\"\n              variant=\"ghost\"\n              class=\"text-xs\"\n              :label=\"'Now'\"\n              @click=\"() => handleNowClick(togglePopover)\"\n            />\n            <Button\n              variant=\"ghost\"\n              icon=\"chevron-right\"\n              class=\"size-7\"\n              @click=\"next\"\n            />\n          </div>\n        </div>\n\n        <!-- Calendar -->\n        <div class=\"p-2\">\n          <div v-if=\"view === 'date'\" role=\"grid\" aria-label=\"Calendar dates\">\n            <div\n              class=\"flex items-center text-xs font-medium uppercase text-ink-gray-4 mb-1\"\n            >\n              <div\n                v-for=\"d in ['S', 'M', 'T', 'W', 'T', 'F', 'S']\"\n                :key=\"d\"\n                class=\"flex h-6 w-8 items-center justify-center\"\n              >\n                {{ d }}\n              </div>\n            </div>\n            <div v-for=\"(week, wi) in weeks\" :key=\"wi\" class=\"flex\" role=\"row\">\n              <button\n                v-for=\"dateObj in week\"\n                type=\"button\"\n                :key=\"dateObj.key\"\n                class=\"flex h-8 w-8 items-center justify-center rounded cursor-pointer text-sm focus:outline-none focus:ring-2 focus:ring-outline-gray-2\"\n                :class=\"[\n                  dateObj.inMonth ? 'text-ink-gray-8' : 'text-ink-gray-3',\n                  dateObj.isToday ? 'font-extrabold text-ink-gray-9' : '',\n                  dateObj.disabled\n                    ? 'opacity-30 cursor-not-allowed hover:bg-transparent'\n                    : dateObj.isSelected\n                      ? 'bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6'\n                      : 'hover:bg-surface-gray-2',\n                ]\"\n                role=\"gridcell\"\n                :aria-selected=\"dateObj.isSelected ? 'true' : 'false'\"\n                :aria-label=\"\n                  dateObj.date.format('YYYY-MM-DD') +\n                  (dateObj.isToday ? ' (Today)' : '')\n                \"\n                :disabled=\"dateObj.disabled\"\n                @click=\"\n                  !dateObj.disabled &&\n                    handleDateCellClick(dateObj.date, togglePopover)\n                \"\n              >\n                {{ dateObj.date.date() }}\n              </button>\n            </div>\n          </div>\n          <div\n            v-else-if=\"view === 'month'\"\n            class=\"grid grid-cols-3 gap-1\"\n            role=\"grid\"\n            aria-label=\"Select month\"\n          >\n            <button\n              v-for=\"(m, i) in months\"\n              type=\"button\"\n              :key=\"m\"\n              class=\"py-2 text-sm rounded cursor-pointer text-center hover:bg-surface-gray-2 focus:outline-none focus:ring-2 focus:ring-brand-6\"\n              :class=\"{\n                'bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6':\n                  i === currentMonth,\n              }\"\n              :aria-selected=\"i === currentMonth ? 'true' : 'false'\"\n              @click=\"selectMonth(i)\"\n            >\n              {{ m.slice(0, 3) }}\n            </button>\n          </div>\n          <div\n            v-else\n            class=\"grid grid-cols-3 gap-1\"\n            role=\"grid\"\n            aria-label=\"Select year\"\n          >\n            <button\n              v-for=\"y in yearRange\"\n              type=\"button\"\n              :key=\"y\"\n              class=\"py-2 text-sm rounded cursor-pointer text-center hover:bg-surface-gray-2 focus:outline-none focus:ring-2 focus:ring-brand-6\"\n              :class=\"{\n                'bg-surface-gray-6 text-ink-white hover:bg-surface-gray-6':\n                  y === currentYear,\n              }\"\n              :aria-selected=\"y === currentYear ? 'true' : 'false'\"\n              @click=\"selectYear(y)\"\n            >\n              {{ y }}\n            </button>\n          </div>\n        </div>\n\n        <!-- Time Picker Section -->\n        <div class=\"flex flex-col gap-2 p-2 pt-0\">\n          <TimePicker\n            :value=\"timeValue\"\n            :allowCustom=\"props.allowCustomTime\"\n            :placement=\"'bottom-start'\"\n            placeholder=\"Select time\"\n            :minTime=\"computedMinTime\"\n            :maxTime=\"computedMaxTime\"\n            @change=\"onTimeChange\"\n          />\n        </div>\n\n        <!-- Footer Actions (clearable variant) -->\n        <div\n          v-if=\"props.clearable\"\n          class=\"flex items-center justify-between gap-1 p-2 border-t\"\n        >\n          <div class=\"flex gap-1\">\n            <Button\n              variant=\"outline\"\n              :label=\"'Now'\"\n              @click=\"() => handleNowClick(togglePopover)\"\n            />\n            <Button\n              variant=\"outline\"\n              :label=\"'Tomorrow'\"\n              @click=\"() => handleTomorrowClick()\"\n            />\n          </div>\n          <Button\n            v-if=\"selectedDate\"\n            size=\"sm\"\n            variant=\"outline\"\n            :label=\"'Clear'\"\n            @click=\"() => handleClearClick(togglePopover)\"\n          />\n        </div>\n      </div>\n    </template>\n  </Popover>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch, toRefs } from 'vue'\nimport { Popover } from '../Popover'\nimport { Button } from '../Button'\nimport { TextInput } from '../TextInput'\n// @ts-ignore - Vue SFC without explicit types\nimport FeatherIcon from '../FeatherIcon.vue'\nimport TimePicker from '../TimePicker/TimePicker.vue'\nimport { dayjs, dayjsLocal, dayjsSystem } from '../../utils/dayjs'\nimport { months, monthStart, generateWeeks, getDateValue } from './utils'\nimport type { Dayjs } from 'dayjs/esm'\nimport type {\n  DatePickerProps,\n  DatePickerEmits,\n  DatePickerViewMode as ViewMode,\n} from './types'\n\ninterface ExtraDateTimeProps {\n  minDateTime?: string\n  maxDateTime?: string\n  allowCustomTime?: boolean\n}\n\nconst props = withDefaults(\n  defineProps<DatePickerProps & ExtraDateTimeProps>(),\n  {\n    value: '',\n    modelValue: '',\n    placement: 'bottom-start',\n    variant: 'subtle',\n    placeholder: 'Select date & time',\n    readonly: false,\n    allowCustom: true,\n    autoClose: true,\n    disabled: false,\n    clearable: true,\n    allowCustomTime: true,\n  },\n)\nconst emit = defineEmits<DatePickerEmits>()\n\nconst { autoClose } = toRefs(props)\n\nconst view = ref<ViewMode>('date')\nconst currentYear = ref<number>(dayjs().year())\nconst currentMonth = ref<number>(dayjs().month())\nconst DATE_FORMAT = 'YYYY-MM-DD'\nconst DATE_TIME_FORMAT = 'YYYY-MM-DD HH:mm:ss'\n\nconst selectedDate = ref<string>('') // YYYY-MM-DD\nconst timeValue = ref<string>('') // HH:mm:ss\n\nconst initialValue = props.modelValue || props.value || ''\n\nfunction coerceDateTime(val?: string | null): Dayjs | null {\n  if (!val) return null\n  const raw = String(val).trim()\n  if (!raw) return null\n\n  if (props.format) {\n    const dStrict = dayjs(raw, props.format, true)\n    if (dStrict.isValid()) return dStrict\n  }\n\n  const dLoose = dayjs(raw)\n  if (dLoose.isValid()) return dLoose\n\n  const normalized = getDateValue(raw)\n  if (normalized) {\n    const dNorm = dayjs(normalized)\n    if (dNorm.isValid()) return dNorm\n  }\n  return null\n}\n\nfunction syncFromValue(val?: string): void {\n  if (!val) {\n    if (!props.clearable) {\n      const now = dayjsLocal()\n      currentYear.value = now.year()\n      currentMonth.value = now.month()\n      selectedDate.value = now.format(DATE_FORMAT)\n      timeValue.value = now.format('HH:mm:ss')\n    } else {\n      selectedDate.value = ''\n      timeValue.value = ''\n    }\n    return\n  }\n  const d = coerceDateTime(val)\n  if (!d) {\n    selectedDate.value = ''\n    timeValue.value = ''\n    return\n  }\n  currentYear.value = d.year()\n  currentMonth.value = d.month()\n  selectedDate.value = d.format(DATE_FORMAT)\n  timeValue.value = d.format('HH:mm:ss')\n}\n\nsyncFromValue(initialValue)\n\nfunction initFromValue(): void {\n  syncFromValue(props.modelValue || props.value)\n}\n\nwatch(\n  () => [props.modelValue, props.value],\n  ([m, v]) => {\n    const val = m || v\n    syncFromValue(val)\n  },\n)\n\nconst combinedValue = computed<string>(() => {\n  if (!selectedDate.value) return ''\n  const base = `${selectedDate.value} ${timeValue.value || '00:00:00'}`\n  const local = dayjsLocal(base)\n  if (!local.isValid()) return ''\n  const sys = dayjsSystem(local.format(DATE_TIME_FORMAT))\n  return sys.format(DATE_TIME_FORMAT)\n})\n\nconst displayLabel = computed<string>(() => {\n  if (!combinedValue.value) return ''\n  if (props.format) return dayjs(combinedValue.value).format(props.format)\n  return combinedValue.value\n})\n\nconst inputValue = ref<string>(displayLabel.value)\nconst isTyping = ref(false)\nwatch(displayLabel, (val) => {\n  if (!isTyping.value) inputValue.value = val\n})\n\nfunction maybeClose(togglePopover?: () => void, condition = true) {\n  if (condition && autoClose.value && togglePopover) togglePopover()\n}\n\nfunction clearSelection() {\n  if (!selectedDate.value && !timeValue.value) return\n  selectedDate.value = ''\n  timeValue.value = ''\n  emit('update:modelValue', '')\n  emit('change', '')\n  inputValue.value = ''\n}\n\nfunction commitInput(close = false, togglePopover?: () => void): void {\n  const raw = inputValue.value.trim()\n  if (!raw) {\n    if (!props.clearable) {\n      const now = dayjsLocal()\n      selectDate(now)\n      timeValue.value = now.format('HH:mm:ss')\n      emitChange()\n      maybeClose(togglePopover, close)\n    } else {\n      clearSelection()\n      maybeClose(togglePopover, close)\n    }\n    return\n  }\n  const parsed = coerceDateTime(raw)\n  if (parsed) {\n    selectDate(parsed)\n    timeValue.value = parsed.format('HH:mm:ss')\n    emitChange()\n    maybeClose(togglePopover, close)\n  }\n}\n\nconst popoverContentRef = ref<HTMLElement | null>(null)\nfunction onBlur(e: FocusEvent) {\n  const next = e.relatedTarget as Node | null\n  if (next && popoverContentRef.value?.contains(next)) return\n  commitInput()\n  isTyping.value = false\n}\nfunction onEnter(togglePopover: () => void) {\n  commitInput(true, togglePopover)\n  isTyping.value = false\n}\nfunction activateInput(isOpen: boolean | undefined, togglePopover: () => void) {\n  isTyping.value = true\n  if (!isOpen) togglePopover()\n}\n\nconst minDT = computed<Dayjs | null>(() =>\n  props.minDateTime ? coerceDateTime(props.minDateTime) : null,\n)\nconst maxDT = computed<Dayjs | null>(() =>\n  props.maxDateTime ? coerceDateTime(props.maxDateTime) : null,\n)\n\nfunction dateDisabled(d: Dayjs): boolean {\n  if (minDT.value && d.endOf('day').isBefore(minDT.value)) return true\n  if (maxDT.value && d.startOf('day').isAfter(maxDT.value)) return true\n  return false\n}\n\nconst weeks = computed<any[][]>(() => {\n  const base = generateWeeks(\n    currentYear.value,\n    currentMonth.value,\n    selectedDate.value,\n  )\n  return base.map((week) =>\n    week.map((obj) => ({ ...obj, disabled: dateDisabled(obj.date) })),\n  )\n})\n\nconst computedMinTime = computed<string>(() => {\n  if (!minDT.value || !selectedDate.value) return ''\n  if (dayjs(selectedDate.value).isSame(minDT.value, 'day'))\n    return minDT.value.format('HH:mm:ss')\n  return ''\n})\nconst computedMaxTime = computed<string>(() => {\n  if (!maxDT.value || !selectedDate.value) return ''\n  if (dayjs(selectedDate.value).isSame(maxDT.value, 'day'))\n    return maxDT.value.format('HH:mm:ss')\n  return ''\n})\n\nwatch([computedMinTime, computedMaxTime, timeValue, selectedDate], () => {\n  if (!selectedDate.value || !timeValue.value) return\n  const cur = dayjs(`${selectedDate.value} ${timeValue.value}`)\n  if (minDT.value && cur.isBefore(minDT.value))\n    timeValue.value = computedMinTime.value || timeValue.value\n  if (maxDT.value && cur.isAfter(maxDT.value))\n    timeValue.value = computedMaxTime.value || timeValue.value\n})\n\nfunction selectDate(date: string | Date | Dayjs): void {\n  const d = dayjs(date as any)\n  if (!d.isValid()) return\n  if (dateDisabled(d)) return\n  selectedDate.value = d.format(DATE_FORMAT)\n  currentYear.value = d.year()\n  currentMonth.value = d.month()\n}\nfunction selectMonth(i: number): void {\n  currentMonth.value = i\n  view.value = 'date'\n}\nfunction selectYear(y: number): void {\n  currentYear.value = y\n  view.value = 'month'\n}\nfunction prev(): void {\n  if (view.value === 'date') {\n    const m = monthStart(currentYear.value, currentMonth.value).subtract(\n      1,\n      'month',\n    )\n    currentYear.value = m.year()\n    currentMonth.value = m.month()\n  } else if (view.value === 'month') currentYear.value -= 1\n  else currentYear.value -= 12\n}\nfunction next(): void {\n  if (view.value === 'date') {\n    const m = monthStart(currentYear.value, currentMonth.value).add(1, 'month')\n    currentYear.value = m.year()\n    currentMonth.value = m.month()\n  } else if (view.value === 'month') currentYear.value += 1\n  else currentYear.value += 12\n}\nfunction handleDateCellClick(\n  date: string | Date | Dayjs,\n  togglePopover: () => void,\n) {\n  selectDate(date)\n  emitChange(true, togglePopover)\n  isTyping.value = false\n  view.value = 'date'\n}\n\nfunction onTimeChange(val: string) {\n  timeValue.value = val\n  isTyping.value = false\n  if (selectedDate.value) emitChange()\n}\n\nfunction emitChange(close = false, togglePopover?: () => void) {\n  if (!selectedDate.value) {\n    clearSelection()\n    return\n  }\n  const out = combinedValue.value\n\n  emit('update:modelValue', out)\n  emit('change', out)\n  if (!isTyping.value) inputValue.value = displayLabel.value\n  maybeClose(togglePopover, close)\n}\n\nfunction handleNowClick(togglePopover: () => void) {\n  const now = dayjsLocal()\n  selectDate(now)\n  timeValue.value = now.format('HH:mm:ss')\n  emitChange(true, togglePopover)\n  isTyping.value = false\n}\nfunction handleTomorrowClick() {\n  const tomorrow = dayjsLocal().add(1, 'day')\n  selectDate(tomorrow)\n  // keep current time value if any, else set to now's time\n  if (!timeValue.value) timeValue.value = dayjsLocal().format('HH:mm:ss')\n  emitChange()\n  isTyping.value = false\n}\nfunction handleClearClick(togglePopover: () => void) {\n  clearSelection()\n  maybeClose(togglePopover)\n  isTyping.value = false\n  view.value = 'date'\n}\n\nfunction cycleView(): void {\n  if (view.value === 'date') view.value = 'month'\n  else if (view.value === 'month') view.value = 'year'\n  else view.value = 'date'\n}\nfunction handleClose() {\n  view.value = 'date'\n  if (isTyping.value) {\n    commitInput()\n    isTyping.value = false\n  }\n}\n\nconst yearRangeStart = computed(\n  () => currentYear.value - (currentYear.value % 12),\n)\nconst yearRange = computed<number[]>(() =>\n  Array.from({ length: 12 }, (_, i) => yearRangeStart.value + i),\n)\n</script>\n","<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{\n      title: 'Add Course Assessment',\n      size: 'lg',\n      actions: [\n        {\n          label: 'Create',\n          variant: 'solid',\n          onClick: (close) => insertCriteria(close),\n        },\n        {\n          label: 'Cancel',\n          variant: 'text',\n          onClick: (close) => close(),\n        },\n      ],\n    }\"\n  >\n    <template #body-content>\n      <div class=\"space-y-4 text-base\">\n        <FormControl\n          v-model=\"criteria.title\"\n          :label=\"__('Title')\"\n          class=\"mb-4\"\n          :required=\"true\"\n        />\n        <Link\n          v-model=\"criteria.assesscriteria_scac\"\n          :label=\"__('Assessment Criteria')\"\n          class=\"mb-4\"\n          doctype=\"Assessment Criteria\"\n          :required=\"true\"\n          @update:modelValue=\"(val) => { console.log('update:modelValue triggered:', val); fetchType(criteria); }\"\n        />\n        <p> {{ criteria.type }}</p>\n        <Link\n          v-if=\"criteria.type === 'Quiz'\"\n          v-model=\"criteria.quiz\"\n          doctype=\"Quiz\"\n          :label=\"__('Select a Quiz')\"\n          :filters=\"{ course: course?.data?.course }\"\n          :onCreate=\"(value, close) => redirectToQuiz(value, close)\"\n        />\n        <Link\n          v-else-if=\"criteria.type === 'Exam'\"\n          v-model=\"criteria.exam\"\n          doctype=\"Exam Activity\"\n          :label=\"__('Select an Exam')\"\n          :filters=\"{ course: course?.data?.course }\"\n          :onCreate=\"(value, close) => redirectToExam(value, close)\"\n        />\n        <Link\n          v-else-if=\"criteria.type === 'Assignment'\"\n          v-model=\"criteria.assignment\"\n          doctype=\"Assignment Activity\"\n          :label=\"__('Select an Assignment')\"\n          :filters=\"{ course: course?.data?.course }\"\n          :onCreate=\"(value, close) => redirectToAssignment(value, close)\"\n        />\n        <template v-else>\n          <p>Offline</p>\n        </template>\n        <FormControl\n          v-model=\"criteria.weight_scac\"\n          :label=\"__('Weight')\"\n          class=\"mb-4\"\n          :required=\"true\"\n          maxlength=\"10\"\n        />\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport {\n  Button,\n  createResource,\n  Dialog,\n  FormControl\n} from 'frappe-ui'\nimport { reactive, watch } from 'vue'\nimport { showToast } from '@/utils/'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useSettings } from '@/stores/settings'\nimport { createDialog } from '@/utils/dialogs'\nimport Link from '@/components/Controls/Link.vue'\nimport { examStore } from '@/stores/exam'\n\nconst $dialog = createDialog\nconst route = useRoute()\nconst router = useRouter()\nconst show = defineModel()\nconst CourseAssessment = defineModel('CourseAssessment')\nconst settingsStore = useSettings()\nconst emit = defineEmits(['assessment-saved'])\n\nconst props = defineProps({\n  courseName: {\n    type: String,\n    required: true,\n  },\n})\n\nconst courseassess = reactive({\n  title: '',\n  assesscriteria_scac: '',\n  type: '',\n  weight_scac: '',\n  quiz: '',\n  exam: '',\n  assignment: '',\n  extracredit_scac: '',\n  fudgepoints_scac: '',\n  parent: props.courseName,\n  parenttype: 'Course Schedule',\n  parentfield: 'courseassescrit_sc'\n})\n\nconst criteria = reactive({\n  title: '',\n  assesscriteria_scac: '',\n  type: '',\n  weight_scac: '',\n  quiz: '',\n  exam: '',\n  assignment: '',\n  extracredit_scac: '',\n  fudgepoints_scac: '',\n  parent: props.courseName,\n  parenttype: 'Course Schedule',\n  parentfield: 'courseassescrit_sc'\n})\n\nasync function fetchType(criteria) {\n  if (criteria.assesscriteria_scac) {\n    try {\n      const response = await fetch(`/api/resource/Assessment Criteria/${criteria.assesscriteria_scac}`);\n      const data = await response.json();\n      criteria.type = data.data.type;\n    } catch (error) {\n      console.error('Error fetching type:', error);\n    }\n  }\n}\nconst course = createResource({\n  url: 'seminary.seminary.utils.get_course_details',\n  cache: ['course', props.courseName],\n  params: {\n    course: props.courseName,\n  },\n  auto: true,\n})\n\nfunction redirectToExam(value, close) {\n  // Set the prefill data in store\n  examStore.setPrefillData({\n    title: criteria.title,\n    course: course?.data?.course,\n  })\n  // Navigate to the exam creation page\n  \n  router.push({\n    name: 'ExamForm',\n    params: { examID: 'new' },\n   \n  });\n  close();\n  console.log('Navigating to Exam creation page with prefill data:', examStore.prefillData);\n}\n\n\nfunction redirectToQuiz(value, close) {\n  // Set the prefill data in store\n  examStore.setPrefillData({\n    title: criteria.title,\n    course: course?.data?.course,\n  })\n  // Navigate to the quiz creation page\n\n  router.push({\n    name: 'QuizForm',\n    params: { quizID: 'new' },\n\n  });\n  close();\n  console.log('Navigating to Quiz creation page with prefill data:', examStore.prefillData);\n}\n\nconst redirectToAssignment = (value, close) => {\n  // Set the prefill data in store\n  examStore.setPrefillData({\n    title: criteria.title,\n    course: course?.data?.course,\n  })\n  // Navigate to the assignment creation page\n\n  router.push({\n    name: 'AssignmentForm',\n    params: { assignmentID: 'new' },\n\n  });\n  close();\n  console.log('Navigating to Assignment creation page with prefill data:', examStore.prefillData);\n}\n\nconst insertCriteria = () => {\n  console.log('Inserting Criteria:', criteria)\n  if (criteria) {\n    fetch('/api/method/seminary.seminary.api.insert_cs_assessment', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ criteria }) // Serialize criteria to JSON string\n    })\n    .then(response => response.json())\n    .then(data => {\n     \n      showToast('Success', 'Course Assessment added successfully', 'check');\n      emit('assessment-saved');\n      close();\n    })\n    .catch(error => {\n      console.error('Error:', error)\n      showToast('Failed to add Course Assessment', 'error')\n    })\n  }\n}\n</script>\n","<template>\n\n        <header\n          class=\"sticky top-0 z-10 flex flex-col md:flex-row md:items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n        >\n          <Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n          <div v-if=\"totalPoints !== 100\" class=\"flex items-center mt-3 md:mt-0\">\n            <Tooltip \n              :text=\"__('Save is only allowed when Total Points = 100')\" placement=\"bottom\">\n              <Button variant=\"subtle\" class=\"ml-2\">\n                <span>\n                  {{ __('Adjust totals to save') }}\n                </span>\n              </Button>\n            </Tooltip>\n          </div>\n          <div v-else class=\"flex items-center mt-3 md:mt-0\">\n            <Button variant=\"solid\" @click=\"submitCourseAssessment()\" class=\"ml-2\">\n              <span>\n                {{ __('Save') }}\n              </span>\n            </Button>\n          </div>\n        </header>\n        <div class=\"mt-5 mb-10 w-full px-5\">\n          <div class=\"container max-w-full mb-5 \">\n            <div v-if=\"!course.data\" class=\"text-lg font-semibold mb-4\">\n              {{ __('Assessment Criteria') }}\n            </div>\n            <div v-else class=\"text-lg font-semibold mb-4\">\n              {{ __('Assessment Criteria for ' + course.data.course) }}\n            </div>\n            <div :class=\"{'flex justify-between mb-4 p-3 text-xl': true, 'bg-red-400 rounded': totalPoints !== 100}\">\n              <div>\n                <strong>{{ __('Total Points') }}:</strong> {{ totalPoints }}\n              </div>\n              <div>\n                <strong>{{ __('Max Fudge Points') }}:</strong> {{ maxFudgePoints }}\n              </div>\n            </div>\n          </div>\n          </div>\n       \n               \n          <table class=\"min-w-full table-auto border-collapse overflow-auto\">\n            <thead>\n  <tr>\n    <th class=\"p-2 border\">{{ __('Title') }}</th>\n    <th class=\"p-2 border\">{{ __('Assessment Type') }}</th>\n    <th class=\"p-2 border\">{{ __('Activity Selection') }}</th>\n    <th class=\"p-2 border\">{{ __('Extra Credit?') }}</th>\n    <th class=\"p-2 border\">{{ __('Points') }}</th>\n    <th class=\"p-2 border\">{{ __('Due Date') }}</th>\n    <th class=\"p-2 border\">{{ __('In Lesson') }}</th>\n    <th class=\"p-2 border\">{{ __('Delete') }}</th>\n  </tr>\n</thead>\n  <tbody>\n    <tr v-for=\"(criteria, index) in assessmentCriteria\" :key=\"index\">\n      <td class=\"p-2 border\">\n        <FormControl v-model=\"criteria.title\" class=\"mb-4 overflow-visible\" :required=\"false\" />\n      </td>\n      <td class=\"p-2 border\">\n        <Link\n          v-model=\"criteria.assesscriteria_scac\"\n          class=\"mb-4\"\n          doctype=\"Assessment Criteria\"\n          :required=\"true\"\n          @update:modelValue=\"(val) => { console.log('update:modelValue triggered:', val); fetchType(criteria); }\"\n        />\n      </td>\n      <td class=\"p-2 border\">\n        <template v-if=\"criteria.type === 'Quiz'\">\n          <Link v-model=\"criteria.quiz\" doctype=\"Quiz\" :label=\"__('Select a Quiz')\" :required=\"true\" :filters=\"{ course: course.data.course }\" :onCreate=\"(value, close) => redirectToForm()\" />\n        </template>\n        <template v-else-if=\"criteria.type === 'Exam'\">\n          <Link v-model=\"criteria.exam\" doctype=\"Exam Activity\" :label=\"__('Select an Exam')\" :required=\"true\" :filters=\"{ course: course.data.course }\" />\n        </template>\n        <template v-else-if=\"criteria.type === 'Assignment'\">\n          <Link v-model=\"criteria.assignment\" doctype=\"Assignment Activity\" :label=\"__('Select an Assignment')\" :required=\"true\" :filters=\"{ course: course.data.course }\" :onCreate=\"(value, close) => redirectToForm()\" />\n        </template>\n        <template v-else>\n          <p>Offline</p>\n        </template>\n      </td>\n      <td class=\"p-2 border text-center\">\n        <FormControl v-model=\"criteria.extracredit_scac\" type=\"checkbox\" :required=\"false\" class=\"mb-4 inline-block\" :default=\"false\" />\n      </td>\n      <td class=\"p-2 border\" style=\"width: 10%;\">\n        <div v-if=\"criteria.extracredit_scac\" class=\"mb-4 light-blue-bg p-2 rounded\">\n          <FormControl v-model=\"criteria.fudgepoints_scac\" :label=\"__('Fudge Points')\" type=\"float\" class=\"max-w-14ch\" :required=\"true\" />\n        </div>\n        <div v-else class=\"mb-4\">\n          <FormControl v-model=\"criteria.weight_scac\" :label=\"__('Weight')\" type=\"float\" class=\"max-w-14ch\" :required=\"true\" />\n        </div>\n      </td>\n      <td class=\"p-2 border\">\n        <DateTimePicker v-model=\"criteria.due_date\" variant=\"subtle\" :required=\"false\" class=\"date-column\" :formatter=\"formatDate\" />\n      </td>\n      <td class=\"p-2 border text-center\">\n        <span v-if=\"criteria.lesson\" class=\"checkmark\">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            class=\"h-5 w-5 text-green-500\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n            stroke-width=\"2\"\n          >\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n          </svg>\n        </span>\n        <span v-else class=\"text-red-500\">\n          âœ˜\n        </span>\n      </td>\n      <td class=\"p-2 border text-center align-middle\">\n        <Button variant=\"ghost\" size=\"sm\" theme=\"red\" @click=\"removeCriteria(index)\">\n          <Trash2 class=\"h-4 w-4 stroke-1.5\" />\n        </Button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n\n\n             \n            \n            <br>\n            <Button size=\"sm\" @click=\"openCourseAssessmentModal\">\n              {{ __('Add Evaluation') }}\n            </Button>\n     \n \n \n  <CourseAssessmentModal\n    v-model=\"showCourseAssessmentModal\"\n    v-model:modalcriteria=\"modalcriteria\"\n    :courseName=\"props.courseName\"\n    @assessment-saved=\"onAssessmentSaved\" \n  />\n</template>\n\n<script setup>\nimport { createResource, Breadcrumbs, Button, FormControl, Tooltip } from 'frappe-ui'\nimport { computed, reactive, onMounted, inject, ref, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { Trash2 } from 'lucide-vue-next'\nimport { showToast, updateDocumentTitle } from '@/utils'\nimport CourseAssessmentModal from '@/components/Modals/CourseAssessmentModal.vue'\nimport { useSettings } from '@/stores/settings'\nimport Link from '@/components/Controls/Link.vue'\nimport DateTimePicker from 'frappe-ui/src/components/DatePicker/DateTimePicker.vue'\n\n\nconst route = useRoute()\nconst router = useRouter()\nconst user = inject('$user')\nconst settingsStore = useSettings()\nconst showCourseAssessmentModal = ref(false)\nconst show = defineModel()\n\nconst props = defineProps({\n  courseName: {\n    type: String,\n    required: true,\n  },\n})\n\nconst modalcriteria = reactive({\n  title: '',\n  assesscriteria_scac: '',\n  type: '',\n  weight_scac: '',\n  quiz: '',\n  exam: '',\n  assignment: '',\n  extracredit_scac: 0,\n  fudgepoints_scac: '',\n  parent: props.courseName,\n  parenttype: 'Course Schedule',\n  parentfield: 'courseassescrit_sc'\n})\n\nconst course = createResource({\n  url: 'seminary.seminary.utils.get_course_details',\n  cache: ['course', props.courseName],\n  params: {\n    course: props.courseName,\n  },\n  auto: true,\n})\n\nconst assessments = createResource({\n  url: 'seminary.seminary.utils.get_assessments',\n  cache: ['assessments', props.courseName],\n  params: {\n    course: props.courseName,\n  },\n  auto: true,\n})\n\nconst breadcrumbs = computed(() => {\n  let items = [{ label: 'Courses', route: { name: 'Courses' } }]\n  items.push({\n    label: course?.data?.course,\n    route: { name: 'CourseDetail', params: { courseName: props.courseName } },\n  })\n  items.push({\n    label: 'Assessment',\n    route: { name: 'CourseAssessment', params: { courseName: props.courseName } }\n  })\n  return items\n})\n\nconst pageMeta = computed(() => {\n  return {\n    title: course?.data?.title,\n    description: \"Assessment Configuration for the course\",\n  }\n})\n\nupdateDocumentTitle(pageMeta)\n\nconst assessmentCriteria = reactive([]);\n\nconst totalPoints = computed(() => {\n  return assessmentCriteria.reduce((sum, criteria) => {\n    return criteria.extracredit_scac === 0 ? sum + parseFloat(criteria.weight_scac || 0) : sum;\n  }, 0);\n});\n\nconst maxFudgePoints = computed(() => {\n  return assessmentCriteria.reduce((sum, criteria) => {\n    return criteria.extracredit_scac ? sum + parseFloat(criteria.fudgepoints_scac || 0) : sum;\n  }, 0);\n});\n\nonMounted(() => {\n  watch(() => assessments.data, (newVal) => {\n    if (newVal) {\n      loadAssessmentCriteria();\n    }\n  });\n  assessments.reload();\n})\n\nfunction loadAssessmentCriteria() {\n  assessmentCriteria.length = 0; // Clear the array before populating it\n  if (assessments.data) {\n    if (Array.isArray(assessments.data)) {\n      assessments.data.forEach(item => {\n        assessmentCriteria.push({\n          name: item.name || '',\n          title: item.title || '',\n          assesscriteria_scac: item.assesscriteria_scac || '',\n          type: item.type || '',\n          weight_scac: item.weight_scac || 0,\n          quiz: item.quiz || '',\n          exam: item.exam || '',\n          assignment: item.assignment || '',\n          creator: item.creator || '',\n          extracredit_scac: item.extracredit_scac || 0,\n          fudgepoints_scac: item.fudgepoints_scac || '',\n          name: item.name || '',\n          parent: item.parent || '',\n          parenttype: item.parenttype || '',\n          parentfield: item.parentfield || '',\n          due_date: item.due_date || '',\n          lesson: item.lesson || ''\n        });\n      });\n    } else {\n      assessmentCriteria.push({\n        name: assessments.data.name || '',\n        title: assessments.data.title || '',\n        assesscriteria_scac: assessments.data.assesscriteria_scac || '',\n        type: assessments.data.type || '',\n        weight_scac: assessments.data.weight_scac || 0,\n        quiz: assessments.data.quiz || '',\n        exam: assessments.data.exam || '',\n        assignment: assessments.data.assignment || '',\n        creator: assessments.data.creator || '',\n        extracredit_scac: assessments.data.extracredit_scac || 0,\n        fudgepoints_scac: assessments.data.fudgepoints_scac || '',\n        name: assessments.data.name || '',\n        parent: assessments.data.parent || '',\n        parenttype: assessments.data.parenttype || '',\n        parentfield: assessments.data.parentfield || '',\n        due_date: assessments.data.due_date || '',\n        lesson: assessments.data.lesson || ''\n      });\n    }\n  } else {\n    console.log('No assessments data found');\n  }\n}\n\nfunction addCriteria() {\n  const newCriteria = reactive({\n    name: '',\n    title: '',\n    assesscriteria_scac: '',\n    type: '',\n    weight_scac: 0,\n    quiz: '',\n    exam: '',\n    assignment: '',\n    extracredit_scac: 0,\n    fudgepoints_scac: '',\n    parent: props.courseName,\n    parenttype: 'Course Schedule',\n    parentfield: 'courseassescrit_sc',\n    due_date: '',\n    lesson: ''\n  });\n  \n  // Add the new criteria to the reactive array.\n  assessmentCriteria.push(newCriteria);\n  \n  // Attach a watcher to this new criteria.\n  watch(\n    () => newCriteria.assesscriteria_scac,\n    (newVal) => {\n      if (newVal) {\n        fetchType(newCriteria);\n        console.log('New Criteria:', newCriteria);\n      }\n    }\n  );\n}\n\nasync function removeCriteria(index) {\n  const criteria = assessmentCriteria[index];\n\n  // Confirm deletion (optional)\n  if (!confirm(__('Are you sure you want to delete this record?'))) {\n    return;\n  }\n\n  // Check if the criteria has a `name` (only delete from backend if it exists)\n  if (criteria.name) {\n    try {\n      // Call the deleteAssessmentResource to delete the record from the backend\n      await deleteAssessmentResource.reload([criteria.name]);\n      console.log(`Record with name ${criteria.name} deleted from backend.`);\n      showToast('Success', 'Assessment criteria deleted successfully', 'check');\n    } catch (error) {\n      console.error('Error deleting assessment criteria:', error);\n      showToast('Error', 'Failed to delete assessment criteria', 'error');\n      return; // Stop further execution if backend deletion fails\n    }\n  }\n\n  // Remove the record from the frontend array\n  assessmentCriteria.splice(index, 1);\n  console.log(`Record at index ${index} removed from frontend.`);\n}\n\nconst deleteAssessmentResource = createResource({\n  url: 'seminary.seminary.api.delete_documents',\n  makeParams(values) {\n    return {\n      doctype: 'Scheduled Course Assess Criteria',\n      documents: values, // Pass the array of document names\n    };\n  },\n  onSuccess(data) {\n    console.log('Delete successful:', data);\n  },\n  onError(err) {\n    console.error('Error deleting documents:', err);\n  },\n});\n\nfunction openCourseAssessmentModal() {\n  showCourseAssessmentModal.value = true;\n}\n\nfunction validateCriteria() {\n  for (const criteria of assessmentCriteria) {\n    if (!criteria.assesscriteria_scac) {\n      return false;\n    }\n    if (criteria.type === 'Quiz' && !criteria.quiz) {\n      return false;\n    }\n    if (criteria.type === 'Exam' && !criteria.exam) {\n      return false;\n    }\n    if (criteria.type === 'Assignment' && !criteria.assignment) {\n      return false;\n    }\n    if (!criteria.extracredit_scac && !criteria.weight_scac) {\n      return false;\n    }\n    if (criteria.extracredit_scac && !criteria.fudgepoints_scac) {\n      return false;\n    }\n  }\n  return true;\n}\n\n\nfunction submitCourseAssessment() {\n  if (!validateCriteria()) {\n    showToast('Error', 'Please fill in all required fields', 'error');\n    return;\n  }\n\n  // Handle form submission logic here\n  fetch('/api/method/seminary.seminary.api.save_course_assessment', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      course: props.courseName,\n      assessment_data: assessmentCriteria,\n    }),\n  })\n    .then(response => response.json())\n    .then(data => {\n      console.log('Success:', data);\n      if (data.message) {\n        showToast('Success', 'Course updated successfully', 'check');\n      }\n    })\n    .catch((error) => {\n      console.error('Error:', error);\n    });\n}\n\nasync function fetchType(criteria) {\n  if (criteria.assesscriteria_scac) {\n    try {\n      const response = await fetch(`/api/resource/Assessment Criteria/${criteria.assesscriteria_scac}`);\n      const data = await response.json();\n      criteria.type = data.data.type;\n    } catch (error) {\n      console.error('Error fetching type:', error);\n    }\n  }\n}\n\nfunction formatDate(value) {\n  if (!value) return '';\n  const date = new Date(value);\n  const month = String(date.getMonth() + 1).padStart(2, '0'); // Month (MM)\n  const day = String(date.getDate()).padStart(2, '0'); // Day (DD)\n  const hours = String(date.getHours()).padStart(2, '0'); // Hours (HH)\n  const minutes = String(date.getMinutes()).padStart(2, '0'); // Minutes (mm)\n  return `${month}/${day} ${hours}:${minutes}`; // Format: MM/DD HH:mm\n}\n\nfunction onAssessmentSaved() {\n  // Reload the parent's resource (e.g., assessments)\n  assessments.reload()\n  // Now, close the Modal\n  showCourseAssessmentModal.value = false;\n}\n</script>\n\n<style scoped>\n.input {\n  display: block;\n  width: 100%;\n  padding: 0.5rem;\n  margin-bottom: 0.5rem;\n}\n.btn {\n  margin-right: 0.5rem;\n}\n.light-blue-bg {\n  background-color: #E6F4FF;\n}\n.date-column {\n  max-width: 10ch; /* Adjust as needed */\n}\n.checkmark {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #46B37E !important; /* Tailwind's green-500 color */\n}\n</style>"],"names":["months","monthStart","year","monthIndex","dayjs","generateWeeks","selected","start","end","days","d","inMonth","sel","dayjsLocal","chunked","i","getDateValue","date","props","__props","emit","__emit","panelRef","ref","isFocused","showOptions","highlightIndex","hasSelectedOnFirstClick","isTyping","navUpdating","invalidState","inputRef","initial","internalValue","displayValue","formatDisplay","uid","activeDescendantId","computed","optionId","idx","minutesFromHHMM","str","h","m","n","minMinutes","maxMinutes","displayedOptions","_a","o","value","normalize24","out","hh","mm","val","watch","v","nv","raw","parsed","parseFlexibleTime","val24","segs","s","base24","am","input","re","hhStr","mmStr","ssStr","ap","ss","findNearestIndex","targetMinutes","list","minutesArr","lo","hi","mid","candidates","a","b","isOutOfRange","totalMinutes","applyValue","commit","prev","setInvalid","commitInput","normalized","base","nearestIdx","nearestVal","committed","select","forceChange","selectedAndNearest","parsedTyped","candidate","candidateCompare","buttonClasses","opt","nearest","scheduleScroll","nextTick","targetEl","target","open","initHighlight","moveHighlight","delta","onArrowDown","togglePopover","isOpen","onArrowUp","onEnter","blurInput","exists","onClickInput","selectAll","onFocus","onBlur","el","_b","onEscape","_createBlock","Popover","$event","placement","_withCtx","_createVNode","TextInput","variant","placeholder","disabled","_renderSlot","_ctx","_normalizeProps","_guardReactiveProps","FeatherIcon","$slots","_createElementVNode","_openBlock","_createElementBlock","_Fragment","_renderList","_hoisted_3","_toDisplayString","DATE_FORMAT","DATE_TIME_FORMAT","autoClose","toRefs","view","currentYear","currentMonth","selectedDate","timeValue","initialValue","coerceDateTime","dStrict","dLoose","dNorm","syncFromValue","now","initFromValue","combinedValue","local","dayjsSystem","displayLabel","inputValue","maybeClose","condition","clearSelection","close","selectDate","emitChange","popoverContentRef","next","activateInput","minDT","maxDT","dateDisabled","weeks","week","obj","__spreadProps","__spreadValues","computedMinTime","computedMaxTime","cur","selectMonth","selectYear","y","handleDateCellClick","onTimeChange","handleNowClick","handleTomorrowClick","tomorrow","handleClearClick","cycleView","handleClose","yearRangeStart","yearRange","_","_unref","_normalizeClass","_withKeys","_withModifiers","_hoisted_1","Button","_hoisted_4","_hoisted_5","clearable","_hoisted_6","_hoisted_7","_hoisted_8","wi","dateObj","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","TimePicker","_hoisted_15","_hoisted_16","useRoute","router","useRouter","show","_useModel","useSettings","reactive","criteria","fetchType","__async","data","error","course","createResource","redirectToExam","examStore","redirectToQuiz","redirectToAssignment","insertCriteria","response","showToast","Dialog","FormControl","_cache","__","Link","inject","showCourseAssessmentModal","modalcriteria","assessments","breadcrumbs","items","pageMeta","updateDocumentTitle","assessmentCriteria","totalPoints","sum","maxFudgePoints","onMounted","newVal","loadAssessmentCriteria","item","removeCriteria","index","deleteAssessmentResource","values","err","openCourseAssessmentModal","validateCriteria","submitCourseAssessment","formatDate","month","day","hours","minutes","onAssessmentSaved","Breadcrumbs","_hoisted_2","Tooltip","_createTextVNode","_hoisted_17","_hoisted_18","_hoisted_19","redirectToForm","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","DateTimePicker","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","Trash2","CourseAssessmentModal"],"mappings":"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","x_google_ignoreList":[0,1,2]}