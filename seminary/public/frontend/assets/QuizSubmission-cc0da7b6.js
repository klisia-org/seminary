import{x as k,i as h,m as x,$ as z,ac as S,l as w,d,e as l,b as e,f,g as m,h as n,w as L,t as c,F as g,k as U,o as i,A as q,_ as M}from"./index-99ce2d99.js";import{_ as $}from"./Badge.vue_vue_type_script_setup_true_lang-cc7b8027.js";import{_ as D}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-d765e83c.js";import{a as r}from"./plus-5e4fea15.js";import{s as T}from"./index-424b6fdc.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-89c1576a.js";import"./Link-ea839e37.js";import"./pencil-5a62532b.js";import"./FolderPlugin.vue_vue_type_style_index_0_scoped_84b7d54d_lang-09f2e4ee.js";import"./book-open-check-a8ea3893.js";const B={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},E={class:"space-x-2"},N={key:0,class:"w-1/2 mx-auto py-5 space-y-5"},Q={class:"text-xl font-semibold text-ink-gray-9"},C={class:"space-y-4 border p-5 rounded-md"},H={class:"grid grid-cols-2 gap-5"},P={class:"grid grid-cols-2 gap-5"},j={class:"border p-5 rounded-md space-y-4"},A={class:"flex items-start space-x-1 font-semibold text-ink-gray-9"},F=["innerHTML"],K={class:"leading-5 text-ink-gray-7 space-x-1"},R=["innerHTML"],I={class:"grid grid-cols-2 gap-5"},le={__name:"QuizSubmission",props:{submission:{type:String,required:!0}},setup(V){const y=k(),_=h("$user");x(()=>{var s,t;!((s=_.data)!=null&&s.is_instructor)&&!((t=_.data)!=null&&t.is_moderator)&&y.push({name:"Courses"}),window.addEventListener("keydown",p)}),z(()=>{window.removeEventListener("keydown",p)});const p=s=>{s.key==="s"&&(s.ctrlKey||s.metaKey)&&!s.target.classList.contains("ProseMirror")&&(b(),s.preventDefault())},o=S({doctype:"Quiz Submission",name:V.submission,auto:!0}),v=w(()=>[{label:__("Quiz Submissions"),route:{name:"QuizSubmissionList",params:{quizID:o.doc.quiz}}},{label:o.doc.quiz_title}]),b=()=>{o.save.submit({},{onError(s){var t;T(__("Error"),__(((t=s.messages)==null?void 0:t[0])||s),"x")}})};return(s,t)=>(i(),d(g,null,[l("header",B,[e(o).doc?(i(),f(e(D),{key:0,items:v.value},null,8,["items"])):m("",!0),l("div",E,[e(o).isDirty?(i(),f(e($),{key:0,label:s.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):m("",!0),n(e(M),{variant:"solid",onClick:t[0]||(t[0]=a=>b())},{default:L(()=>[q(c(s.__("Save")),1)]),_:1})])]),e(o).doc?(i(),d("div",N,[l("div",Q,c(e(o).doc.member_name),1),l("div",C,[l("div",H,[n(e(r),{modelValue:e(o).doc.quiz_title,"onUpdate:modelValue":t[1]||(t[1]=a=>e(o).doc.quiz_title=a),label:s.__("Quiz"),disabled:!0},null,8,["modelValue","label"]),n(e(r),{modelValue:e(o).doc.member_name,"onUpdate:modelValue":t[2]||(t[2]=a=>e(o).doc.member_name=a),label:s.__("Member"),disabled:!0},null,8,["modelValue","label"])]),l("div",P,[n(e(r),{modelValue:e(o).doc.score,"onUpdate:modelValue":t[3]||(t[3]=a=>e(o).doc.score=a),label:s.__("Score"),disabled:!0},null,8,["modelValue","label"]),n(e(r),{modelValue:e(o).doc.percentage,"onUpdate:modelValue":t[4]||(t[4]=a=>e(o).doc.percentage=a),label:s.__("Percentage"),disabled:!0},null,8,["modelValue","label"])])]),(i(!0),d(g,null,U(e(o).doc.result,(a,J)=>(i(),d("div",j,[l("div",A,[l("span",{class:"leading-5",innerHTML:a.question},null,8,F)]),l("div",K,[l("span",null,c(s.__("Answer"))+": ",1),l("span",{innerHTML:a.answer},null,8,R)]),l("div",I,[n(e(r),{modelValue:a.points,"onUpdate:modelValue":u=>a.points=u,label:s.__("Points")},null,8,["modelValue","onUpdate:modelValue","label"]),n(e(r),{modelValue:a.points_out_of,"onUpdate:modelValue":u=>a.points_out_of=u,label:s.__("Points out of"),disabled:!0},null,8,["modelValue","onUpdate:modelValue","label"])])]))),256))])):m("",!0)],64))}};export{le as default};
//# sourceMappingURL=QuizSubmission-cc0da7b6.js.map
