var T=Object.defineProperty,z=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var C=(o,s,n)=>s in o?T(o,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[s]=n,D=(o,s)=>{for(var n in s||(s={}))E.call(s,n)&&C(o,n,s[n]);if(G)for(var n of G(s))K.call(s,n)&&C(o,n,s[n]);return o},q=(o,s)=>z(o,L(s));import{i as I,x as M,r as k,m as O,c as H,aa as J,n as Q,l as N,d as g,e as y,h as l,b as r,f as S,w as c,t as v,F as x,j as W,o as u,k as R,A as X}from"./index-aa2d5c8c.js";import{_ as Y}from"./Badge.vue_vue_type_script_setup_true_lang-db3ab37b.js";import{_ as Z}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-f4602792.js";import{a as ee}from"./plus-35171fed.js";import{_ as se,a as ae,b as te,c as re,e as ne,d as oe}from"./ListView-c88e1529.js";import{_ as j}from"./Link-4414b9a7.js";import{P as le}from"./pencil-d10cdea0.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-98ed7af9.js";const ue={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},ie={class:"md:w-3/4 md:mx-auto py-5 mx-5"},me={class:"grid grid-cols-3 gap-5 mb-5"},de={key:0},ce={key:1},_e={key:1,class:"text-center p-5 text-ink-gray-5 mt-52 w-3/4 md:w-1/2 mx-auto space-y-2"},pe={class:"text-xl font-medium"},fe={class:"leading-5"},Ve={__name:"AssignmentSubmissionCS",props:{assignmentID:{type:String,required:!1},courseName:{type:String,required:!0}},setup(o){const s=I("$user"),n=I("$dayjs"),b=M(),i=k(""),m=k(""),d=k("");O(()=>{var e,a;!((e=s.data)!=null&&e.is_instructor)&&!((a=s.data)!=null&&a.is_moderator)&&b.push({name:"Courses"}),i.value=_.assignmentID||b.currentRoute.value.query.assignmentID,m.value=b.currentRoute.value.query.member,d.value=b.currentRoute.value.query.status,V()});const _=o,h=H({url:"seminary.seminary.utils.get_course_details",cache:["course",_.courseName],params:{course:_.courseName},auto:!0}),w=()=>{let e={course:_.courseName};return i.value&&(e.assignment=i.value),m.value&&(e.member=m.value),d.value&&(e.status=d.value),e},p=J({doctype:"Assignment Submission",fields:["name","assignment","assignment_title","member_name","creation","status","grade"],filters:w(),orderBy:"creation desc",transform(e){return e.map(a=>q(D({},a),{creation:n(a.creation).fromNow()}))}});Q([i,m,d],()=>{b.push({query:{assignmentID:i.value,member:m.value,status:d.value}}),V()});const V=()=>{p.update({filters:w()}),p.reload()},$=N(()=>[{label:"Student",key:"member_name",width:1},{label:"Assignment",key:"assignment_title",width:2},{label:"Submitted",key:"creation",width:1,align:"left"},{label:"Grade",key:"grade",width:1,align:"center"},{label:"Status",key:"status",width:1,align:"center"}]),B=N(()=>[{label:"",value:""},{label:"Pass",value:"Pass"},{label:"Fail",value:"Fail"},{label:"Not Graded",value:"Not Graded"},{label:"Graded",value:"Graded"}]),F=e=>e==="Pass"||e==="Graded"?"green":e==="Not Graded"?"blue":"red",P=N(()=>{var a;let e=[{label:"Courses",route:{name:"Courses"}}];return e.push({label:(a=h==null?void 0:h.data)==null?void 0:a.course,route:{name:"CourseDetail",params:{courseName:_.courseName}}}),e.push({label:"Gradebook",route:{name:"Gradebook",params:{courseName:_.courseName}}}),e.push({label:"Assignment Submissions"}),e});return(e,a)=>{var A;const U=W("router-link");return u(),g(x,null,[y("header",ue,[l(r(Z),{items:P.value},null,8,["items"])]),y("div",ie,[y("div",me,[l(j,{doctype:"Assignment Activity",modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=t=>i.value=t),placeholder:e.__("Assignment")},null,8,["modelValue","placeholder"]),l(j,{doctype:"User",modelValue:m.value,"onUpdate:modelValue":a[1]||(a[1]=t=>m.value=t),placeholder:e.__("Student")},null,8,["modelValue","placeholder"]),l(r(ee),{modelValue:d.value,"onUpdate:modelValue":a[2]||(a[2]=t=>d.value=t),type:"select",options:B.value,placeholder:e.__("Status")},null,8,["modelValue","options","placeholder"])]),r(p).loading||(A=r(p).data)!=null&&A.length?(u(),S(r(oe),{key:0,columns:$.value,rows:r(p).data,rowKey:"name"},{default:c(()=>[l(r(ae),{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2"},{default:c(()=>[(u(!0),g(x,null,R($.value,t=>(u(),S(r(se),{item:t},null,8,["item"]))),256))]),_:1}),l(r(ne),null,{default:c(()=>[(u(!0),g(x,null,R(r(p).data,t=>(u(),S(U,{to:{name:"AssignmentSubmission",params:{assignmentID:t.assignment,submissionName:t.name}}},{default:c(()=>[l(r(te),{row:t},{default:c(({column:f,item:ge})=>[l(r(re),{item:t[f.key],align:f.align},{default:c(()=>[f.key=="status"?(u(),g("div",de,[l(r(Y),{theme:F(t[f.key])},{default:c(()=>[X(v(t[f.key]),1)]),_:2},1032,["theme"])])):(u(),g("div",ce,v(t[f.key]),1))]),_:2},1032,["item","align"])]),_:2},1032,["row"])]),_:2},1032,["to"]))),256))]),_:1})]),_:1},8,["columns","rows"])):(u(),g("div",_e,[l(r(le),{class:"size-8 mx-auto stroke-1 text-ink-gray-4"}),y("div",pe,v(e.__("No submissions")),1),y("div",fe,v(e.__("There are no submissions for this course.")),1)]))])],64)}}};export{Ve as default};
//# sourceMappingURL=AssignmentSubmissionCS-279178ad.js.map
