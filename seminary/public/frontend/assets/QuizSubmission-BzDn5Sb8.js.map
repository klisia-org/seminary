{"version":3,"file":"QuizSubmission-BzDn5Sb8.js","sources":["../../../../frontend/src/pages/QuizSubmission.vue"],"sourcesContent":["<template>\n\t<header class=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\">\n\t\t<Breadcrumbs v-if=\"submisisonDetails.doc\" :items=\"breadcrumbs\" />\n\t\t<div class=\"space-x-2\">\n\t\t\t<Badge v-if=\"submisisonDetails.isDirty\" :label=\"__('Not Saved')\" variant=\"subtle\" theme=\"orange\" />\n\t\t\t<Button variant=\"solid\" @click=\"saveSubmission()\">\n\t\t\t\t{{ __('Save') }}\n\t\t\t</Button>\n\t\t</div>\n\t</header>\n\t<div v-if=\"submisisonDetails.doc\" class=\"w-1/2 mx-auto py-5 space-y-5\">\n\t\t<div class=\"text-xl font-semibold text-ink-gray-9\">\n\t\t\t{{ submisisonDetails.doc.member_name }}\n\t\t</div>\n\t\t<div class=\"space-y-4 border p-5 rounded-md\">\n\t\t\t<div class=\"grid grid-cols-2 gap-5\">\n\t\t\t\t<FormControl v-model=\"submisisonDetails.doc.quiz_title\" :label=\"__('Quiz')\" :disabled=\"true\" />\n\t\t\t\t<FormControl v-model=\"submisisonDetails.doc.member_name\" :label=\"__('Student')\" :disabled=\"true\" />\n\t\t\t</div>\n\n\t\t\t<div class=\"grid grid-cols-2 gap-5\">\n\t\t\t\t<FormControl v-model=\"submisisonDetails.doc.score\" :label=\"__('Score')\" :disabled=\"true\" />\n\t\t\t\t<FormControl v-model=\"submisisonDetails.doc.percentage\" :label=\"__('Percentage')\" :disabled=\"true\" />\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div v-for=\"(row, index) in submisisonDetails.doc.result\" class=\"border p-5 rounded-md space-y-4\">\n\t\t\t<div class=\"flex items-start space-x-1 font-semibold text-ink-gray-9\">\n\t\t\t\t<!-- <span>\n\t\t\t\t\t{{ index + 1 }}.\n\t\t\t\t</span> -->\n\t\t\t\t<span class=\"leading-5\" v-html=\"row.question\"> </span>\n\t\t\t</div>\n\t\t\t<div class=\"leading-5 text-ink-gray-7 space-x-1\">\n\t\t\t\t<span> {{ __('Answer') }}: </span>\n\t\t\t\t<span v-html=\"row.answer\"></span>\n\t\t\t</div>\n\t\t\t<div class=\"grid grid-cols-2 gap-5\">\n\t\t\t\t<FormControl v-model=\"row.points\" :label=\"__('Points')\" />\n\t\t\t\t<FormControl v-model=\"row.points_out_of\" :label=\"__('Points out of')\" :disabled=\"true\" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport {\n\tcreateDocumentResource,\n\tBreadcrumbs,\n\tFormControl,\n\tButton,\n\tBadge,\n\ttoast\n} from 'frappe-ui'\nimport { computed, onBeforeUnmount, onMounted, inject } from 'vue'\nimport { useRouter } from 'vue-router'\n\n\nconst router = useRouter()\nconst user = inject('$user')\n\nonMounted(() => {\n\tif (!user.data?.is_instructor && !user.data?.is_moderator)\n\t\trouter.push({ name: 'Courses' })\n\n\twindow.addEventListener('keydown', keyboardShortcut)\n})\n\nonBeforeUnmount(() => {\n\twindow.removeEventListener('keydown', keyboardShortcut)\n})\n\nconst keyboardShortcut = (e) => {\n\tif (\n\t\te.key === 's' &&\n\t\t(e.ctrlKey || e.metaKey) &&\n\t\t!e.target.classList.contains('ProseMirror')\n\t) {\n\t\tsaveSubmission()\n\t\te.preventDefault()\n\t}\n}\n\nconst props = defineProps({\n\tsubmission: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst submisisonDetails = createDocumentResource({\n\tdoctype: 'Quiz Submission',\n\tname: props.submission,\n\tauto: true,\n})\n\nconst breadcrumbs = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Quiz Submissions'),\n\t\t\troute: {\n\t\t\t\tname: 'QuizSubmissionList',\n\t\t\t\tparams: {\n\t\t\t\t\tquizID: submisisonDetails.doc.quiz,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tlabel: submisisonDetails.doc.quiz_title,\n\t\t},\n\t]\n})\n\nconst saveSubmission = () => {\n\tsubmisisonDetails.save.submit(\n\t\t{},\n\t\t{\n\t\t\tonError(err) {\n\t\t\t\ttoast.error(err.messages?.[0] || err)\n\t\t\t},\n\t\t}\n\t)\n}\n</script>\n"],"names":["router","useRouter","user","inject","onMounted","_a","_b","keyboardShortcut","onBeforeUnmount","e","saveSubmission","submisisonDetails","createDocumentResource","__props","breadcrumbs","computed","err","toast","_createElementVNode","_hoisted_1","_unref","_createBlock","Breadcrumbs","_hoisted_2","Badge","__","_createVNode","Button","_openBlock","_createElementBlock","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","FormControl","$event","_hoisted_7","_Fragment","_renderList","row","index","_hoisted_8","_hoisted_9","_hoisted_11","_hoisted_13"],"mappings":"63BAyDA,MAAMA,EAASC,EAAS,EAClBC,EAAOC,EAAO,OAAO,EAE3BC,EAAU,IAAM,SACX,GAACC,EAAAH,EAAK,OAAL,MAAAG,EAAW,gBAAiB,GAACC,EAAAJ,EAAK,OAAL,MAAAI,EAAW,eAC5CN,EAAO,KAAK,CAAE,KAAM,SAAS,CAAE,EAEhC,OAAO,iBAAiB,UAAWO,CAAgB,CACpD,CAAC,EAEDC,EAAgB,IAAM,CACrB,OAAO,oBAAoB,UAAWD,CAAgB,CACvD,CAAC,EAED,MAAMA,EAAoBE,GAAM,CAE9BA,EAAE,MAAQ,MACTA,EAAE,SAAWA,EAAE,UAChB,CAACA,EAAE,OAAO,UAAU,SAAS,aAAa,IAE1CC,EAAc,EACdD,EAAE,eAAc,EAElB,EASME,EAAoBC,EAAuB,CAChD,QAAS,kBACT,KATaC,EASD,WACZ,KAAM,EACP,CAAC,EAEKC,EAAcC,EAAS,IACrB,CACN,CACC,MAAO,GAAG,kBAAkB,EAC5B,MAAO,CACN,KAAM,qBACN,OAAQ,CACP,OAAQJ,EAAkB,IAAI,IACnC,CACA,CACA,EACE,CACC,MAAOA,EAAkB,IAAI,UAChC,CACA,CACC,EAEKD,EAAiB,IAAM,CAC5BC,EAAkB,KAAK,OACtB,CAAA,EACA,CACC,QAAQK,EAAK,OACZC,EAAM,QAAMZ,EAAAW,EAAI,WAAJ,YAAAX,EAAe,KAAMW,CAAG,CACrC,CACH,CACA,CACA,8BAxHCE,EAQS,SARTC,EAQS,CAPWC,EAAAT,CAAA,EAAkB,SAArCU,EAAiED,EAAAE,CAAA,EAAA,OAAtB,MAAOR,EAAA,mCAClDI,EAKM,MALNK,EAKM,CAJQH,EAAAT,CAAA,EAAkB,aAA/BU,EAAmGD,EAAAI,CAAA,EAAA,OAA1D,MAAOC,EAAAA,GAAE,WAAA,EAAe,QAAQ,SAAS,MAAM,sCACxFC,EAESN,EAAAO,CAAA,EAAA,CAFD,QAAQ,QAAS,uBAAOjB,iBAC/B,IAAgB,KAAbe,EAAAA,GAAE,MAAA,CAAA,EAAA,CAAA,cAIGL,EAAAT,CAAA,EAAkB,KAA7BiB,IAAAC,EAgCM,MAhCNC,EAgCM,CA/BLZ,EAEM,MAFNa,EAEMC,EADFZ,KAAkB,IAAI,WAAW,EAAA,CAAA,EAErCF,EAUM,MAVNe,EAUM,CATLf,EAGM,MAHNgB,EAGM,CAFLR,EAA+FN,EAAAe,CAAA,EAAA,YAAzEf,EAAAT,CAAA,EAAkB,IAAI,gDAAtBS,EAAAT,CAAA,EAAkB,IAAI,WAAUyB,GAAG,MAAOX,EAAAA,GAAE,MAAA,EAAW,SAAU,mCACvFC,EAAmGN,EAAAe,CAAA,EAAA,YAA7Ef,EAAAT,CAAA,EAAkB,IAAI,iDAAtBS,EAAAT,CAAA,EAAkB,IAAI,YAAWyB,GAAG,MAAOX,EAAAA,GAAE,SAAA,EAAc,SAAU,qCAG5FP,EAGM,MAHNmB,EAGM,CAFLX,EAA2FN,EAAAe,CAAA,EAAA,YAArEf,EAAAT,CAAA,EAAkB,IAAI,2CAAtBS,EAAAT,CAAA,EAAkB,IAAI,MAAKyB,GAAG,MAAOX,EAAAA,GAAE,OAAA,EAAY,SAAU,mCACnFC,EAAqGN,EAAAe,CAAA,EAAA,YAA/Ef,EAAAT,CAAA,EAAkB,IAAI,gDAAtBS,EAAAT,CAAA,EAAkB,IAAI,WAAUyB,GAAG,MAAOX,EAAAA,GAAE,YAAA,EAAiB,SAAU,8CAI/FI,EAeMS,EAAA,KAAAC,EAfsBnB,KAAkB,IAAI,OAAM,CAA3CoB,EAAKC,KAAlBb,EAAA,EAAAC,EAeM,MAfNa,EAeM,CAdLxB,EAKM,MALNyB,EAKM,CADLzB,EAAsD,OAAA,CAAhD,MAAM,YAAY,UAAQsB,EAAI,sBAErCtB,EAGM,MAHN0B,EAGM,CAFL1B,EAAkC,OAAA,KAAAc,EAAxBP,EAAAA,GAAE,QAAA,CAAA,EAAa,KAAE,CAAA,EAC3BP,EAAiC,OAAA,CAA3B,UAAQsB,EAAI,oBAEnBtB,EAGM,MAHN2B,EAGM,CAFLnB,EAA0DN,EAAAe,CAAA,EAAA,CAApC,WAAAK,EAAI,OAAJ,sBAAAJ,GAAAI,EAAI,OAAMJ,EAAG,MAAOX,EAAAA,GAAE,QAAA,wDAC5CC,EAAyFN,EAAAe,CAAA,EAAA,CAAnE,WAAAK,EAAI,cAAJ,sBAAAJ,GAAAI,EAAI,cAAaJ,EAAG,MAAOX,EAAAA,GAAE,eAAA,EAAoB,SAAU"}