{"version":3,"file":"telemetry-2432aede.js","sources":["../../../../frontend/node_modules/lucide-vue-next/dist/esm/icons/chevron-right.js","../../../../../frappe/frappe/public/js/lib/posthog.js","../../../../frontend/src/telemetry.ts"],"sourcesContent":["/**\n * @license lucide-vue-next v0.479.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ChevronRight = createLucideIcon(\"ChevronRightIcon\", [\n  [\"path\", { d: \"m9 18 6-6-6-6\", key: \"mthhwq\" }]\n]);\n\nexport { ChevronRight as default };\n//# sourceMappingURL=chevron-right.js.map\n","!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(\".\");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement(\"script\")).type=\"text/javascript\",p.async=!0,p.src=s.api_host+\"/static/array.js\",(r=t.getElementsByTagName(\"script\")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a=\"posthog\",u.people=u.people||[],u.toString=function(t){var e=\"posthog\";return\"posthog\"!==a&&(e+=\".\"+a),t||(e+=\" (stub)\"),e},u.people.toString=function(){return u.toString(1)+\".people (stub)\"},o=\"capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags\".split(\" \"),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);\n","import '../../../frappe/frappe/public/js/lib/posthog.js'\nimport { createResource } from 'frappe-ui'\n\ndeclare global {\n  interface Window {\n    posthog: any\n  }\n}\n\ntype PosthogSettings = {\n  posthog_project_id: string\n  posthog_host: string\n  enable_telemetry: boolean\n  telemetry_site_age: number\n}\n\ninterface CaptureOptions {\n  data: {\n    user: string\n    [key: string]: string | number | boolean | object\n  }\n}\n\nlet posthog: typeof window.posthog = window.posthog\n\n// Posthog Settings\nlet posthogSettings = createResource({\n  url: 'seminary.seminary.telemetry.get_posthog_settings',\n  cache: 'posthog_settings',\n  onSuccess: (ps: PosthogSettings) => initPosthog(ps),\n})\n\nlet isTelemetryEnabled = () => {\n  if (!posthogSettings.data) return false\n\n  return (\n    posthogSettings.data.enable_telemetry &&\n    posthogSettings.data.posthog_project_id &&\n    posthogSettings.data.posthog_host\n  )\n}\n\n// Posthog Initialization\nfunction initPosthog(ps: PosthogSettings) {\n  if (!isTelemetryEnabled()) return\n\n  posthog.init(ps.posthog_project_id, {\n    api_host: ps.posthog_host,\n    person_profiles: 'identified_only',\n    autocapture: false,\n    capture_pageview: true,\n    capture_pageleave: true,\n    enable_heatmaps: false,\n    disable_session_recording: false,\n    loaded: (ph: typeof posthog) => {\n      window.posthog = ph\n      ph.identify(window.location.hostname)\n    },\n  })\n}\n\n// Posthog Functions\nfunction capture(\n  event: string,\n  options: CaptureOptions = { data: { user: '' } },\n) {\n  if (!isTelemetryEnabled()) return\n  window.posthog.capture(`lms_${event}`, options)\n}\n\nfunction startRecording() {\n}\n\nfunction stopRecording() {\n}\n\n// Posthog Plugin\nfunction posthogPlugin(app: any) {\n    app.config.globalProperties.posthog = posthog\n    if (!window.posthog?.length) posthogSettings.fetch()\n}\n\nexport {\n  posthog,\n  posthogSettings,\n  posthogPlugin,\n  capture,\n  startRecording,\n  stopRecording,\n}"],"names":["ChevronRight","createLucideIcon","t","e","o","n","p","r","i","s","a","g","u","posthog","posthogSettings","createResource","ps","initPosthog","isTelemetryEnabled","ph","capture","event","options"],"mappings":"+CAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASK,MAACA,EAAeC,EAAiB,mBAAoB,CACxD,CAAC,OAAQ,CAAE,EAAG,gBAAiB,IAAK,QAAQ,CAAE,CAChD,CAAC,GCXA,SAASC,EAAEC,EAAE,CAAC,IAAIC,EAAEC,EAAEC,EAAEC,EAAEJ,EAAE,OAAO,OAAO,QAAQA,EAAEA,EAAE,GAAG,CAAA,EAAGA,EAAE,KAAK,SAASK,EAAEC,EAAEC,EAAE,CAAC,SAASC,EAAET,EAAEC,EAAE,CAAC,IAAIC,EAAED,EAAE,MAAM,GAAG,EAAKC,EAAE,QAAL,IAAcF,EAAEA,EAAEE,EAAE,CAAC,CAAC,EAAED,EAAEC,EAAE,CAAC,GAAGF,EAAEC,CAAC,EAAE,UAAU,CAACD,EAAE,KAAK,CAACC,CAAC,EAAE,OAAO,MAAM,UAAU,MAAM,KAAK,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEG,EAAEJ,EAAE,cAAc,QAAQ,GAAG,KAAK,kBAAkBI,EAAE,MAAM,GAAGA,EAAE,IAAIG,EAAE,SAAS,oBAAoBF,EAAEL,EAAE,qBAAqB,QAAQ,EAAE,CAAC,GAAG,WAAW,aAAaI,EAAEC,CAAC,EAAE,IAAIK,EAAET,EAAE,IAAaO,IAAT,OAAWE,EAAET,EAAEO,CAAC,EAAE,CAAE,EAACA,EAAE,UAAUE,EAAE,OAAOA,EAAE,QAAQ,GAAGA,EAAE,SAAS,SAASV,EAAE,CAAC,IAAIC,EAAE,UAAU,OAAkBO,IAAZ,YAAgBP,GAAG,IAAIO,GAAGR,IAAIC,GAAG,WAAWA,CAAC,EAAES,EAAE,OAAO,SAAS,UAAU,CAAC,OAAOA,EAAE,SAAS,CAAC,EAAE,gBAAgB,EAAER,EAAE,kMAAkM,MAAM,GAAG,EAAEC,EAAE,EAAEA,EAAED,EAAE,OAAOC,IAAIM,EAAEC,EAAER,EAAEC,CAAC,CAAC,EAAEF,EAAE,GAAG,KAAK,CAACK,EAAEC,EAAEC,CAAC,CAAC,CAAC,EAAEP,EAAE,KAAK,EAAE,GAAE,SAAS,OAAO,SAAS,EAAE,ECuBt5B,IAAIU,EAAiC,OAAO,QAGxCC,EAAkBC,EAAe,CACnC,IAAK,mDACL,MAAO,mBACP,UAAYC,GAAwBC,EAAYD,CAAE,CACpD,CAAC,EAEGE,EAAqB,IAClBJ,EAAgB,KAGnBA,EAAgB,KAAK,kBACrBA,EAAgB,KAAK,oBACrBA,EAAgB,KAAK,aALW,GAUpC,SAASG,EAAYD,EAAqB,CACnCE,EAAmB,GAEhBL,EAAA,KAAKG,EAAG,mBAAoB,CAClC,SAAUA,EAAG,aACb,gBAAiB,kBACjB,YAAa,GACb,iBAAkB,GAClB,kBAAmB,GACnB,gBAAiB,GACjB,0BAA2B,GAC3B,OAASG,GAAuB,CAC9B,OAAO,QAAUA,EACdA,EAAA,SAAS,OAAO,SAAS,QAAQ,CACtC,CAAA,CACD,CACH,CAGA,SAASC,EACPC,EACAC,EAA0B,CAAE,KAAM,CAAE,KAAM,EAAG,GAC7C,CACKJ,EAAmB,GACxB,OAAO,QAAQ,QAAQ,OAAOG,CAAK,GAAIC,CAAO,CAChD","x_google_ignoreList":[0]}