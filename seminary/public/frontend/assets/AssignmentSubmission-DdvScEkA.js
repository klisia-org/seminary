import{F as x,bk as A,r as y,av as C,c as D,I as B,a8 as $,t as b,b as p,g as r,e as l,u as i,w as S,C as w,D as c,L as V,aR as j,H as I,O as q}from"./vendor-IWZbD1HA.js";import{c as g,w as L}from"./frappe-ui-BzEkZ7NZ.js";import{i as R}from"./index-DYgOoCE_.js";import"./Link-DmVUQNbJ.js";import"./index-B0k3CMx6.js";/* empty css                                                                     */const F={class:"flex justify-between sticky top-0 z-10 border-b bg-surface-white px-3 py-2.5 sm:px-5"},G={class:"flex items-center justify-between mb-5"},M={class:"w-1/3"},z={for:"submissionDropdown",class:"block text-sm font-medium text-gray-700"},E=["value"],H={class:"overflow-hidden h-[calc(100vh-3.2rem)]"},Q={__name:"AssignmentSubmission",props:{assignmentID:{type:String,required:!0},submissionName:{type:String,required:!0},courseName:{type:String,required:!0}},setup(v){const _=x(),f=A("$user"),t=v,o=y(t.submissionName),N=y(t.submissionName);g({url:"frappe.client.get_value",params:{doctype:"Assignment Activity",fieldname:"title",filters:{name:t.assignmentID}},auto:!0});const a=g({url:"frappe.client.get_list",params:{doctype:"Assignment Submission",filters:[["assignment","=",t.assignmentID],["course","=",t.courseName]],fields:["name","member_name"],order_by:"member_name asc"},auto:!0});console.log("Submission List:",a),C(()=>{var e,s;!((e=f.data)!=null&&e.is_instructor)&&!((s=f.data)!=null&&s.is_moderator)&&_.push({name:"Courses"})});const m=D(()=>{var e;return(e=a.data)==null?void 0:e.findIndex(s=>s.name===o.value)});B(o,e=>{N.value=e,_.push({name:"AssignmentSubmission",params:{assignmentID:t.assignmentID,courseName:t.courseName,submissionName:e}})});const d=g({url:"seminary.seminary.utils.get_course_details",cache:["course",t.courseName],params:{course:t.courseName},auto:!0}),k=D(()=>{var s;let e=[{label:"Courses",route:{name:"Courses"}}];return e.push({label:(s=d==null?void 0:d.data)==null?void 0:s.course,route:{name:"CourseDetail",params:{courseName:t.courseName}}}),e.push({label:"Gradebook",route:{name:"Gradebook",params:{courseName:t.courseName}}}),e.push({label:"Assignment Submissions",route:{name:"AssignmentSubmissionCS",params:{courseName:t.courseName,assignmentID:t.assignmentID}}}),e});return console.log("Attendance:",attendance.value),console.log("Students Data:",students.data),console.log("Students Absent:",studentsAbsent),(e,s)=>{const h=$("Button");return p(),b(I,null,[r("header",F,[l(i(L),{items:k.value},null,8,["items"])]),r("div",G,[l(h,{variant:"subtle",disabled:m.value===0,onClick:s[0]||(s[0]=n=>{var u;return o.value=(u=i(a).data[m.value-1])==null?void 0:u.name})},{default:S(()=>[w(c(e.__("Previous")),1)]),_:1},8,["disabled"]),r("div",M,[r("label",z,c(e.__("Select Submission")),1),V(r("select",{id:"submissionDropdown","onUpdate:modelValue":s[1]||(s[1]=n=>o.value=n),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(p(!0),b(I,null,q(i(a).data,n=>(p(),b("option",{key:n.name,value:n.name},c(n.member_name),9,E))),128))],512),[[j,o.value]])]),l(h,{variant:"subtle",disabled:!i(a).data||m.value===i(a).data.length-1,onClick:s[2]||(s[2]=n=>{var u;return o.value=(u=i(a).data[m.value+1])==null?void 0:u.name})},{default:S(()=>[w(c(e.__("Next")),1)]),_:1},8,["disabled"])]),r("div",H,[l(R,{assignmentID:v.assignmentID,submissionName:N.value},null,8,["assignmentID","submissionName"])])],64)}}};export{Q as default};
//# sourceMappingURL=AssignmentSubmission-DdvScEkA.js.map
