import{S as U,az as q,l as y,o as r,c as d,a as c,K as _,e as t,s as b,t as S,g as x,i as k,av as p,f as m,_ as K,r as O,be as D,aw as R,ax as z,N as E,F as L,k as V,n as N,w as A,aO as j,E as F,z as P,h as C,q as X,bf as Z,ay as J,d as Q,C as Y,W as ee}from"./index-D2hg7nHX.js";let te=0;function se(){return++te}function oe(){return"frappe-ui-"+se()}const le=["disabled","id","checked"],re=["for"],B=U({__name:"Checkbox",props:{size:{default:"sm"},label:{},checked:{type:Boolean},disabled:{type:Boolean},padding:{type:Boolean,default:!1},modelValue:{type:[Boolean,Number]},id:{}},setup(o){var w;const s=o,e=q(),n=(w=s.id)!=null?w:oe(),l=y(()=>[{sm:"text-base font-medium",md:"text-lg font-medium"}[s.size],s.disabled?"text-gray-500":"text-gray-800","select-none"]),a=y(()=>{let i=s.disabled?"border-gray-300 bg-gray-50 text-gray-400":"border-gray-500 text-gray-900 hover:border-gray-600 focus:ring-offset-0 focus:border-gray-900 active:border-gray-700 transition",h=s.disabled?"":s.padding?"focus:ring-0":"hover:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400 active:bg-gray-100",u={sm:"w-3.5 h-3.5",md:"w-4 h-4"}[s.size];return[i,h,u]});return(i,h)=>(r(),d("div",{class:b(["inline-flex items-center space-x-2 rounded transition",{"px-2.5 py-1.5":i.padding&&i.size==="sm","px-3 py-2":i.padding&&i.size==="md","focus-within:bg-gray-100 focus-within:ring-2 focus-within:ring-gray-400 hover:bg-gray-200 active:bg-gray-300":i.padding&&!i.disabled}])},[c("input",_({class:["rounded-sm",a.value],type:"checkbox",disabled:i.disabled,id:t(n),checked:!!i.modelValue,onChange:h[0]||(h[0]=u=>i.$emit("update:modelValue",u.target.checked))},t(e)),null,16,le),i.label?(r(),d("label",{key:0,class:b(["block",l.value]),for:t(n)},S(i.label),11,re)):x("",!0)],2))}}),ne={class:"flex h-full w-full flex-col items-center justify-center text-base"},ae={class:"text-xl font-medium"},ie={class:"mt-1 text-base text-gray-600"},ue={__name:"ListEmptyState",setup(o){const s=k("list");return(e,n)=>(r(),d("div",ne,[p(e.$slots,"default",{},()=>[c("div",ae,S(t(s).options.emptyState.title),1),c("div",ie,S(t(s).options.emptyState.description),1),t(s).options.emptyState.button?(r(),m(K,_({key:0},t(s).options.emptyState.button,{class:"mt-4"}),null,16)):x("",!0)])]))}};function G(o,s=!0){let e=s?"14px ":"",n=o.map(l=>{let a=l.width||1;return typeof a=="number"?a+"fr":a}).join(" ");return e+n}const T={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},ce={class:"truncate"},de={__name:"ListHeaderItem",props:{item:{type:Object,required:!0},debounce:{type:Number,default:1e3}},emits:["columnWidthUpdated"],setup(o,{emit:s}){const e=o,n=s,l=O(null),a=O(null),w=y(()=>{if(typeof e.item.width=="string"){const g=parseInt(e.item.width);if(e.item.width.includes("rem"))return g*16;if(e.item.width.includes("px"))return g}return a.value.offsetWidth}),i=g=>{const W=g.clientX,f=w.value,v=M=>{document.body.classList.add("select-none"),document.body.classList.add("cursor-col-resize"),l.value.style.backgroundColor="rgb(199 199 199)";let H=f+(M.clientX-W);e.item.width=`${H<50?50:H}px`,h(e.item.width)},$=()=>{document.body.classList.remove("select-none"),document.body.classList.remove("cursor-col-resize"),l.value.style.backgroundColor="",window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",$)};window.addEventListener("mousemove",v),window.addEventListener("mouseup",$)},h=D(g=>{e.item.width=g,n("columnWidthUpdated")},e.debounce),u=k("list");return(g,W)=>(r(),d("div",{ref_key:"columnRef",ref:a,class:b(["group flex items-center",o.item.align?t(T)[o.item.align]:"justify-between"])},[c("div",{class:b(["flex items-center space-x-2 truncate text-sm text-gray-600",g.$attrs.class])},[p(g.$slots,"prefix",R(z({item:o.item}))),p(g.$slots,"default",{},()=>[c("div",ce,S(o.item.label),1)]),p(g.$slots,"suffix",R(z({item:o.item})))],2),t(u).options.resizeColumn?p(g.$slots,"resizer",R(_({key:0},{item:o.item})),()=>[c("div",{class:"flex h-4 w-2 cursor-col-resize justify-center",onMousedown:i},[c("div",{ref_key:"resizer",ref:l,class:"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400"},null,512)],32)]):x("",!0)],2))}},fe={__name:"ListHeader",emits:["columnWidthUpdated"],setup(o,{emit:s}){const e=s,n=k("list");return(l,a)=>(r(),d("div",{class:"mb-2 grid items-center space-x-4 rounded bg-gray-100 p-2",style:N({gridTemplateColumns:t(G)(t(n).columns,t(n).options.selectable)})},[t(n).options.selectable?(r(),m(B,{key:0,class:"cursor-pointer duration-300",modelValue:t(n).allRowsSelected,onClick:E(t(n).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):x("",!0),p(l.$slots,"default",{},()=>[(r(!0),d(L,null,V(t(n).columns,w=>(r(),m(de,{key:w.key,item:w,onColumnWidthUpdated:i=>e("columnWidthUpdated",w)},null,8,["item","onColumnWidthUpdated"]))),128))])],4))}},me={class:"truncate text-base"},pe={__name:"ListRowItem",props:{column:{type:Object,default:{}},row:{type:Object,default:{}},item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(o){const s=o,e=y(()=>n(s.item).label||"");function n(a){return a&&typeof a=="object"?a:{label:a}}const l=k("list");return(a,w)=>(r(),m(j(t(l).options.showTooltip?t(F):"div"),R(z(t(l).options.showTooltip?{text:e.value}:{})),{default:A(()=>[c("div",{class:b(["flex items-center space-x-2",t(T)[o.align]])},[p(a.$slots,"prefix",{},()=>[o.column.prefix?(r(),m(j(typeof o.column.prefix=="function"?o.column.prefix({row:o.row}):o.column.prefix),{key:0})):x("",!0)]),p(a.$slots,"default",R(z({label:e.value})),()=>{var i;return[c("div",me,S((i=o.column)!=null&&i.getLabel?o.column.getLabel({row:o.row}):e.value),1)]}),p(a.$slots,"suffix")],2)]),_:3},16))}},ge={key:0,class:"mx-2 h-px border-t border-gray-200"},I={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(o){const s=o,e=k("list"),n=y(()=>{var i;return(i=e.value.rows)!=null&&i.length?e.value.rows[e.value.rows.length-1][e.value.rowKey]===s.row[e.value.rowKey]:!1}),l=y(()=>e.value.selections.has(s.row[e.value.rowKey])),a=y(()=>e.value.options.getRowRoute||e.value.options.onRowClick),w=y(()=>typeof e.value.options.rowHeight=="number"?`${e.value.options.rowHeight}px`:e.value.options.rowHeight);return(i,h)=>(r(),m(j(t(e).options.getRowRoute?"router-link":"div"),_({class:[{"cursor-pointer":a.value},"flex flex-col transition-all duration-300 ease-in-out"]},{to:t(e).options.getRowRoute?t(e).options.getRowRoute(o.row):void 0,onClick:t(e).options.onRowClick?()=>t(e).options.onRowClick(o.row):void 0}),{default:A(()=>[(r(),m(j(t(e).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:A(()=>[c("div",{class:b(["grid items-center space-x-4 rounded px-2",[l.value?"bg-gray-100":"",a.value?l.value?"hover:bg-gray-200":"hover:bg-gray-50":""]]),style:N({height:w.value,gridTemplateColumns:t(G)(t(e).columns,t(e).options.selectable)})},[t(e).options.selectable?(r(),m(B,{key:0,modelValue:t(e).selections.has(o.row[t(e).rowKey]),onClick:h[0]||(h[0]=E(u=>t(e).toggleRow(o.row[t(e).rowKey]),["stop"])),class:"cursor-pointer duration-300"},null,8,["modelValue"])):x("",!0),(r(!0),d(L,null,V(t(e).columns,(u,g)=>(r(),d("div",{key:u.key,class:b([t(T)[u.align],g==0?"text-gray-900":"text-gray-700"])},[p(i.$slots,"default",_({ref_for:!0},{idx:g,column:u,item:o.row[u.key]}),()=>[t(e).slots.cell?(r(),m(j(t(e).slots.cell),_({key:0,ref_for:!0},{column:u,row:o.row,item:o.row[u.key],align:u.align}),null,16)):(r(),m(pe,{key:1,column:u,row:o.row,item:o.row[u.key],align:u.align},null,8,["column","row","item","align"]))])],2))),128))],6),n.value?x("",!0):(r(),d("div",ge))]),_:3}))]),_:3},16,["class"]))}},we={class:"h-full overflow-y-auto"},ye={__name:"ListRows",setup(o){const s=k("list");return(e,n)=>(r(),d("div",we,[p(e.$slots,"default",{},()=>[(r(!0),d(L,null,V(t(s).rows,l=>(r(),m(I,{key:l[t(s).rowKey],row:l},null,8,["row"]))),128))])]))}},he={},ve={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"};function be(o,s){return r(),d("svg",ve,s[0]||(s[0]=[c("path",{fill:"currentColor",d:"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z"},null,-1)]))}const xe=P(he,[["render",be]]),$e={class:"flex items-center"},ke={class:"w-full py-1.5 pr-2"},Re={key:1,class:"text-base font-medium leading-6"},_e={__name:"ListGroupHeader",props:{group:{type:Object,required:!0}},setup(o){const s=o,e=k("list");function n(){s.group.collapsed==null&&(s.group.collapsed=!1),s.group.collapsed=!s.group.collapsed}return(l,a)=>(r(),d(L,null,[c("div",$e,[c("button",{onClick:n,class:"ml-[3px] mr-[11px] rounded p-1 hover:bg-gray-100"},[C(xe,{class:b(["h-4 w-4 text-gray-900 transition-transform duration-200",[o.group.collapsed?"-rotate-90":""]])},null,8,["class"])]),p(l.$slots,"default",{},()=>[c("div",ke,[t(e).slots["group-header"]?(r(),m(j(t(e).slots["group-header"]),R(_({key:0},{group:o.group})),null,16)):(r(),d("span",Re,S(o.group.group),1))])])]),a[0]||(a[0]=c("div",{class:"mx-2 h-px border-t border-gray-200"},null,-1))],64))}},Ce={key:0,class:"mb-5 mt-2"},Se={__name:"ListGroupRows",props:{group:{type:Object,required:!0}},setup(o){const s=k("list");return(e,n)=>o.group.collapsed?x("",!0):(r(),d("div",Ce,[p(e.$slots,"default",{},()=>[(r(!0),d(L,null,V(o.group.rows,l=>(r(),m(I,{key:l[t(s).rowKey],row:l},null,8,["row"]))),128))])]))}},ze={class:"h-full overflow-y-auto"},Le={__name:"ListGroups",setup(o){const s=k("list");return(e,n)=>(r(),d("div",ze,[(r(!0),d(L,null,V(t(s).rows,l=>(r(),d("div",{key:l.group},[p(e.$slots,"default",{},()=>[C(_e,{group:l},{default:A(()=>[e.$slots["group-header"]?p(e.$slots,"group-header",_({key:0,ref_for:!0},{group:l})):x("",!0)]),_:2},1032,["group"]),C(Se,{group:l},null,8,["group"])])]))),128))]))}},je={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},Ae={class:"flex flex-1 justify-between border-r border-gray-300 text-gray-900"},Ve={class:"flex items-center space-x-3"},We={class:"mr-3"},Ke={class:"flex items-center space-x-1"},Be=Object.assign({inheritAttrs:!1},{__name:"ListSelectBanner",setup(o){const s=k("list");let e=y(()=>{let n=s.value.selections.size===1?"Row":"Rows";return`${s.value.selections.size} ${n} selected`});return(n,l)=>(r(),m(Z,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:A(()=>[t(s).selections.size?(r(),d("div",je,[c("div",{class:b(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-white px-4 py-2 shadow-2xl",n.$attrs.class])},[p(n.$slots,"default",R(z({selections:t(s).selections,allRowsSelected:t(s).allRowsSelected,selectAll:()=>t(s).toggleAllRows(!0),unselectAll:()=>t(s).toggleAllRows(!1)})),()=>[c("div",Ae,[c("div",Ve,[C(B,{modelValue:!0,disabled:!0,class:"text-gray-900"}),c("div",null,S(t(e)),1)]),c("div",We,[p(n.$slots,"actions",R(z({selections:t(s).selections,allRowsSelected:t(s).allRowsSelected,selectAll:()=>t(s).toggleAllRows(!0),unselectAll:()=>t(s).toggleAllRows(!1)})))])]),c("div",Ke,[C(K,{class:b(["w- text-gray-700",t(s).allRowsSelected?"cursor-not-allowed":""]),disabled:t(s).allRowsSelected,variant:"ghost",onClick:l[0]||(l[0]=a=>t(s).toggleAllRows(!0))},{default:A(()=>l[2]||(l[2]=[X(" Select all ")])),_:1},8,["disabled","class"]),C(K,{icon:"x",variant:"ghost",onClick:l[1]||(l[1]=a=>t(s).toggleAllRows(!1))})])])],2)])):x("",!0)]),_:3}))}}),Te={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},Oe=Object.assign({inheritAttrs:!1},{__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:()=>({getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:40,emptyState:{title:"No Data",description:"No data available"}})}},emits:["update:selections"],setup(o,{emit:s}){const e=o,n=J();let l=Q(new Set);const a=s;Y(l,f=>{a("update:selections",f)});let w=y(()=>{function f($){return $===void 0?!0:$}function v($){return $===void 0?!1:$}return{getRowRoute:e.options.getRowRoute||null,onRowClick:e.options.onRowClick||null,showTooltip:f(e.options.showTooltip),selectable:f(e.options.selectable),resizeColumn:v(e.options.resizeColumn),rowHeight:e.options.rowHeight||40,emptyState:e.options.emptyState}});const i=y(()=>e.rows.length?u.value?l.size===e.rows.reduce((f,v)=>f+v.rows.length,0):l.size===e.rows.length:!1),h=y(()=>w.value.selectable);let u=y(()=>e.rows.every(f=>f.group&&f.rows&&Array.isArray(f.rows)));function g(f){l.delete(f)||l.add(f)}function W(f){if(!f||i.value){l.clear();return}if(u.value){e.rows.forEach(v=>{v.rows.forEach($=>l.add($[e.rowKey]))});return}e.rows.forEach(v=>l.add(v[e.rowKey]))}return ee("list",y(()=>({rowKey:e.rowKey,rows:e.rows,columns:e.columns,options:w.value,selections:l,allRowsSelected:i.value,slots:n,toggleRow:g,toggleAllRows:W}))),(f,v)=>(r(),d("div",Te,[c("div",{class:b(["flex w-max min-w-full flex-col overflow-y-hidden",f.$attrs.class])},[p(f.$slots,"default",R(z({showGroupedRows:t(u),selectable:h.value})),()=>[C(fe),e.rows.length?(r(),d(L,{key:0},[t(u)?(r(),m(Le,{key:0})):(r(),m(ye,{key:1}))],64)):(r(),m(ue,{key:1})),h.value?(r(),m(Be,{key:2})):x("",!0)])],2)]))}});export{de as _,fe as a,I as b,pe as c,Oe as d,ye as e,Be as f,B as g,oe as u};
