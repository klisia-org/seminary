{"version":3,"file":"Gradebook-DXxRiAOf.js","sources":["../../../../frontend/src/pages/Gradebook.vue"],"sourcesContent":["<template>\n  <div class=\"gradebook\">\n    <header class=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\">\n      <Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n\n    </header>\n    <h1 class=\"text-2xl font-bold mt-5 mb-4\">{{ __('Gradebook for') }} {{ course?.data?.course }}</h1>\n\n\n    <!-- No Students Message -->\n    <div v-if=\"students.length === 0\" class=\"text-gray-500 text-center mt-4\">\n      {{ __('There are no students enrolled in this course.') }}\n    </div>\n\n    <!-- Gradebook Table -->\n    <div v-else class=\"overflow-auto\">\n      <table class=\"table-auto border-collapse border border-gray-300  w-full\">\n        <thead>\n          <tr>\n            <th class=\"border border-gray-300 px-4 py-2 bg-gray-100\">{{ __('Student') }}</th>\n            <th v-for=\"assessment in sortedAssessments\" :key=\"assessment.assessment_criteria\"\n              class=\"border border-gray-300 px-4 py-2 bg-gray-100\">\n              <router-link v-if=\"assessment.type === 'Exam'\"\n                :to=\"{ name: 'ExamSubmissionCS', params: { courseName: props.courseName, examID: assessment.exam } }\"\n                class=\"underline\">\n                {{ assessment.title }}\n                <span v-if=\"assessment.due_date\" class=\"block text-gray-500 text-sm\">\n                  ({{ formatDueDate(assessment.due_date) }})\n                </span>\n              </router-link>\n              <router-link v-else-if=\"assessment.type === 'Assignment'\"\n                :to=\"{ name: 'AssignmentSubmissionCS', params: { courseName: props.courseName, assignmentID: assessment.assignment } }\"\n                class=\"underline\">\n                {{ assessment.title }}\n                <span v-if=\"assessment.due_date\" class=\"block text-gray-500 text-sm\">\n                  ({{ formatDueDate(assessment.due_date) }})\n                </span>\n              </router-link>\n              <router-link v-else-if=\"assessment.type === 'Quiz'\"\n                :to=\"{ name: 'QuizSubmissionCS', params: { courseName: props.courseName, quizID: assessment.quiz } }\"\n                class=\"underline\">\n                {{ assessment.title }}\n                <span v-if=\"assessment.due_date\" class=\"block text-gray-500 text-sm\">\n                  ({{ formatDueDate(assessment.due_date) }})\n                </span>\n              </router-link>\n              <router-link v-else-if=\"assessment.type === 'Discussion'\"\n                :to=\"{ name: 'DiscussionActivitySubmissionCS', params: { courseName: props.courseName, discussionID: assessment.discussion } }\"\n                class=\"underline\">\n                {{ assessment.title }}\n                <span v-if=\"assessment.due_date\" class=\"block text-gray-500 text-sm\">\n                  ({{ formatDueDate(assessment.due_date) }})\n                </span>\n              </router-link>\n              <span v-else>\n                {{ assessment.title }}\n                <span v-if=\"assessment.due_date\" class=\"block text-gray-500 text-sm\">\n                  ({{ formatDueDate(assessment.due_date) }})\n                </span>\n              </span>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"student in students\" :key=\"student.student_card\">\n            <!-- Student Name with Send Icon -->\n            <td class=\"border border-gray-300 px-4 py-2 relative\">\n              <Tooltip\n                :text=\"`${__('Program')}: ${student.program_std_scr}\\n${__('Audit')}: ${student.audit_bool ? __('Yes') : __('No')}\\n${__('Active')}: ${student.active ? __('Yes') : __('No')}`\"\n                placement=\"bottom\" arrow-class=\"fill-surface-white\">\n                <span>{{ student.stuname_roster }}</span>\n              </Tooltip>\n              <Tooltip :text=\"`${__('Send Email to')} ${student.stuname_roster}`\" placement=\"bottom\"\n                arrow-class=\"fill-surface-white\">\n                <a :href=\"`mailto:${student.stuemail_rc}`\">\n                  <Send class=\"absolute right-2 top-2 text-blue-300 cursor-pointer\" />\n                </a>\n              </Tooltip>\n\n            </td>\n            <td v-for=\"assessment in assessments\" :key=\"assessment.assessment_criteria\"\n              :class=\"assessment.extracredit_scac ? 'bg-blue-100' : ''\"\n              class=\"border border-gray-300 px-4 py-2 text-center relative\">\n              <!-- Extra Credit Field -->\n              <div v-if=\"assessment.extracredit_scac\">\n                <input type=\"number\" class=\"w-full text-center border border-gray-300 rounded\"\n                  :value=\"getExtraCredit(student, assessment)\"\n                  @input=\"markExtraCreditAsChanged(student, assessment, $event.target.value)\" />\n              </div>\n              <!-- Regular Grade Field -->\n              <div v-else>\n                <input type=\"number\" class=\"w-full text-center border border-gray-300 rounded\"\n                  :value=\"getRegularGrade(student, assessment)\"\n                  @input=\"markRegularGradeAsChanged(student, assessment, $event.target.value)\" />\n              </div>\n              <Save v-if=\"isCellChanged(student, assessment)\" class=\"absolute right-12 top-4 text-blue-300\"\n                @click=\"saveCell(student, assessment)\">\n\n              </Save>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n  </div>\n</template>\n\n<script setup>\nimport { Button, Breadcrumbs, createResource, createDocumentResource, Tooltip, Dialog, call, toast } from 'frappe-ui'\nimport { getCurrentInstance, inject, ref, computed, watch } from 'vue'\nimport { Disclosure, DisclosureButton, DisclosurePanel } from '@headlessui/vue'\nimport {\n  Check,\n  Send,\n  CircleChevronRight,\n  Save,\n  FileText,\n  FilePenLine,\n  CircleHelp,\n  MonitorPlay,\n  BookOpenCheck,\n  Trash2,\n  FileUp,\n} from 'lucide-vue-next'\nimport { useRoute } from 'vue-router';\nconst route = useRoute();\nconst props = defineProps({\n  courseName: {\n    type: String,\n    required: true,\n  },\n})\n\nconst students = ref([]); // Array of students\nconst assessments = ref([]); // Array of assessment criteria\nconst changedCells = ref({}); // Track changed cells\nconst course = createResource({\n  url: 'seminary.seminary.utils.get_course_details',\n  cache: ['course', props.courseName],\n  params: {\n    course: props.courseName,\n  },\n  auto: true,\n}) //Neded for the breadcrumbs\n\n// Gradebook resource\nconst gradebook = createResource({\n  url: 'seminary.seminary.utils.get_gradebook',\n  cache: ['gradebook', props.courseName],\n  params: {\n    course: props.courseName,\n  },\n  auto: true,\n  onSuccess(data) {\n    students.value = data.map((student) => ({\n      ...student,\n      assessments: student.assessments.map((assessment) => ({\n        ...assessment,\n        rawscore_card: assessment.rawscore_card || 0,\n        actualextrapt_card: assessment.actualextrapt_card || 0, // Default to 0 if undefined\n      })),\n    }));\n    assessments.value = data[0]?.assessments || [];\n  },\n  onError(err) {\n    console.error('Error loading gradebook:', err);\n  },\n});\n\n//Sort Assessments by due_date and alphabetically\nconst sortedAssessments = computed(() => {\n  return [...assessments.value].sort((a, b) => {\n    // Sort by due_date (earlier dates first, null dates last)\n    if (!a.due_date && b.due_date) return 1; // `a` has no due_date, move it to the right\n    if (a.due_date && !b.due_date) return -1; // `b` has no due_date, move it to the right\n    if (a.due_date && b.due_date) {\n      const dateA = new Date(a.due_date);\n      const dateB = new Date(b.due_date);\n      if (dateA < dateB) return -1; // Earlier date first\n      if (dateA > dateB) return 1; // Later date last\n    }\n\n    // If due_date is the same or null, sort alphabetically by title\n    return a.title.localeCompare(b.title);\n  });\n});\n\n// Get cell data for a specific student and assessment\nconst getCellData = (student, assessment) => {\n  const cell = student.assessments.find(\n    (a) => a.assessment_criteria === assessment.assessment_criteria\n  );\n  return assessment.extracredit_scac ? cell.actualextrapt_card : cell.rawscore_card;\n};\n\n// Get extra credit for a specific student and assessment\nconst getExtraCredit = (student, assessment) => {\n  const cell = student.assessments.find(\n    (a) => a.assessment_criteria === assessment.assessment_criteria\n  );\n  return cell ? cell.actualextrapt_card : 0;\n};\n\n// Get regular grade for a specific student and assessment\nconst getRegularGrade = (student, assessment) => {\n  const cell = student.assessments.find(\n    (a) => a.assessment_criteria === assessment.assessment_criteria\n  );\n  return cell ? cell.rawscore_card : 0;\n};\n\n// Mark a cell as changed\nconst markCellAsChanged = (student, assessment, value) => {\n  const cell = student.assessments.find(\n    (a) => a.assessment_criteria === assessment.assessment_criteria\n  );\n  if (cell) {\n    if (assessment.extracredit_scac) {\n      cell.actualextrapt_card = parseFloat(value) || 0; // Update extra credit points\n    } else {\n      cell.rawscore_card = parseFloat(value) || 0; // Update regular score\n    }\n    changedCells.value[cell.name] = true; // Mark the cell as changed\n  }\n};\n\n// Mark extra credit as changed\nconst markExtraCreditAsChanged = (student, assessment, value) => {\n  const cell = student.assessments.find(\n    (a) => a.assessment_criteria === assessment.assessment_criteria\n  );\n  if (cell) {\n    cell.actualextrapt_card = parseFloat(value) || 0; // Update extra credit points\n    changedCells.value[cell.name] = true; // Mark the cell as changed\n  }\n};\n\n// Mark regular grade as changed\nconst markRegularGradeAsChanged = (student, assessment, value) => {\n  const cell = student.assessments.find(\n    (a) => a.assessment_criteria === assessment.assessment_criteria\n  );\n  if (cell) {\n    cell.rawscore_card = parseFloat(value) || 0; // Update regular score\n    changedCells.value[cell.name] = true; // Mark the cell as changed\n  }\n};\n\n// Check if a cell is changed\nconst isCellChanged = (student, assessment) => {\n  const cell = student.assessments.find(\n    (a) => a.assessment_criteria === assessment.assessment_criteria\n  );\n  return cell && changedCells.value[cell.name];\n};\n\n// Save an individual cell\nconst saveCell = async (student, assessment) => {\n  const cell = student.assessments.find(\n    (a) => a.assessment_criteria === assessment.assessment_criteria\n  );\n  if (!cell) return;\n\n  try {\n    const fieldToUpdate = assessment.extracredit_scac ? 'actualextrapt_card' : 'rawscore_card';\n    const valueToUpdate = assessment.extracredit_scac ? cell.actualextrapt_card : cell.rawscore_card;\n\n    console.log('Saving cell:', cell.name, 'with value:', valueToUpdate); // Debugging\n\n    // Call the backend to save the updated value\n    await call('frappe.client.set_value', {\n      doctype: 'Course Assess Results Detail',\n      name: cell.name,\n      fieldname: fieldToUpdate,\n      value: valueToUpdate,\n    });\n\n    // Remove the cell from the changedCells tracker\n    delete changedCells.value[cell.name];\n    toast.success(__('Grade saved successfully'));\n  } catch (error) {\n    console.error('Error saving cell:', error);\n    toast.error(err.messages?.[0] || err)\n  }\n};\n\nwatch(\n  () => route.fullPath,\n  (newVal, oldVal) => {\n    // Call your data loading function here\n    gradebook.reload();\n  },\n  { immediate: true }\n);\nconst formatDueDate = (dateString) => {\n  if (!dateString) return ''; // Handle empty or undefined dates\n\n  const date = new Date(dateString); // Parse the date string\n  if (isNaN(date)) return ''; // Handle invalid dates\n\n  // Format the date to show only day and month\n  return new Intl.DateTimeFormat(undefined, { day: '2-digit', month: 'short' }).format(date);\n};\n\nconst breadcrumbs = computed(() => {\n  let items = [{ label: __('Courses'), route: { name: 'Courses' } }]\n  items.push({\n    label: course?.data?.course,\n    route: { name: 'CourseDetail', params: { courseName: props.courseName } },\n  })\n  items.push({\n    label: __('Gradebook'),\n    route: { name: 'Gradebook', params: { courseName: props.courseName } },\n  })\n  return items\n})\n</script>"],"names":["route","useRoute","props","__props","students","ref","assessments","changedCells","course","createResource","gradebook","data","student","__spreadProps","__spreadValues","assessment","_a","err","sortedAssessments","computed","a","b","dateA","dateB","getExtraCredit","cell","getRegularGrade","markExtraCreditAsChanged","value","markRegularGradeAsChanged","isCellChanged","saveCell","__async","fieldToUpdate","valueToUpdate","call","toast","error","watch","newVal","oldVal","formatDueDate","dateString","date","breadcrumbs","items","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_unref","Breadcrumbs","_hoisted_3","_toDisplayString","__","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","_createBlock","_component_router_link","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","Tooltip","Send","_normalizeClass","_hoisted_16","$event","_hoisted_18","Save"],"mappings":"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"}