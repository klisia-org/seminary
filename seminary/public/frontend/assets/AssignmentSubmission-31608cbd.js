import{x as k,i as A,r as y,c as p,m as C,l as D,n as B,d as b,e as r,h as l,b as i,w as S,t as d,p as $,v as j,F as w,k as V,j as q,o as g,A as x}from"./index-99ce2d99.js";import{_ as F}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-d765e83c.js";import{m as G}from"./index-424b6fdc.js";import"./Badge.vue_vue_type_script_setup_true_lang-cc7b8027.js";import"./plus-5e4fea15.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-89c1576a.js";import"./Link-ea839e37.js";import"./pencil-5a62532b.js";import"./FolderPlugin.vue_vue_type_style_index_0_scoped_84b7d54d_lang-09f2e4ee.js";import"./book-open-check-a8ea3893.js";const L={class:"flex justify-between sticky top-0 z-10 border-b bg-surface-white px-3 py-2.5 sm:px-5"},M={class:"flex items-center justify-between mb-5"},R={class:"w-1/3"},z={for:"submissionDropdown",class:"block text-sm font-medium text-gray-700"},E=["value"],P={class:"overflow-hidden h-[calc(100vh-3.2rem)]"},Z={__name:"AssignmentSubmission",props:{assignmentID:{type:String,required:!0},submissionName:{type:String,required:!0},courseName:{type:String,required:!0}},setup(_){const v=k(),f=A("$user"),t=_,o=y(t.submissionName),N=y(t.submissionName);p({url:"frappe.client.get_value",params:{doctype:"Assignment Activity",fieldname:"title",filters:{name:t.assignmentID}},auto:!0});const a=p({url:"frappe.client.get_list",params:{doctype:"Assignment Submission",filters:[["assignment","=",t.assignmentID],["course","=",t.courseName]],fields:["name","member_name"],order_by:"member_name asc"},auto:!0});console.log("Submission List:",a),C(()=>{var e,s;!((e=f.data)!=null&&e.is_instructor)&&!((s=f.data)!=null&&s.is_moderator)&&v.push({name:"Courses"})});const u=D(()=>{var e;return(e=a.data)==null?void 0:e.findIndex(s=>s.name===o.value)});B(o,e=>{N.value=e,v.push({name:"AssignmentSubmission",params:{assignmentID:t.assignmentID,courseName:t.courseName,submissionName:e}})});const c=p({url:"seminary.seminary.utils.get_course_details",cache:["course",t.courseName],params:{course:t.courseName},auto:!0}),I=D(()=>{var s;let e=[{label:"Courses",route:{name:"Courses"}}];return e.push({label:(s=c==null?void 0:c.data)==null?void 0:s.course,route:{name:"CourseDetail",params:{courseName:t.courseName}}}),e.push({label:"Gradebook",route:{name:"Gradebook",params:{courseName:t.courseName}}}),e.push({label:"Assignment Submissions",route:{name:"AssignmentSubmissionCS",params:{courseName:t.courseName,assignmentID:t.assignmentID}}}),e});return console.log("Attendance:",attendance.value),console.log("Students Data:",students.data),console.log("Students Absent:",studentsAbsent),(e,s)=>{const h=q("Button");return g(),b(w,null,[r("header",L,[l(i(F),{items:I.value},null,8,["items"])]),r("div",M,[l(h,{variant:"subtle",disabled:u.value===0,onClick:s[0]||(s[0]=n=>{var m;return o.value=(m=i(a).data[u.value-1])==null?void 0:m.name})},{default:S(()=>[x(d(e.__("Previous")),1)]),_:1},8,["disabled"]),r("div",R,[r("label",z,d(e.__("Select Submission")),1),$(r("select",{id:"submissionDropdown","onUpdate:modelValue":s[1]||(s[1]=n=>o.value=n),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(g(!0),b(w,null,V(i(a).data,n=>(g(),b("option",{key:n.name,value:n.name},d(n.member_name),9,E))),128))],512),[[j,o.value]])]),l(h,{variant:"subtle",disabled:!i(a).data||u.value===i(a).data.length-1,onClick:s[2]||(s[2]=n=>{var m;return o.value=(m=i(a).data[u.value+1])==null?void 0:m.name})},{default:S(()=>[x(d(e.__("Next")),1)]),_:1},8,["disabled"])]),r("div",P,[l(G,{assignmentID:_.assignmentID,submissionName:N.value},null,8,["assignmentID","submissionName"])])],64)}}};export{Z as default};
//# sourceMappingURL=AssignmentSubmission-31608cbd.js.map
