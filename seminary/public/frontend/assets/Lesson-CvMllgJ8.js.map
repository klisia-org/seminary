{"version":3,"file":"Lesson-CvMllgJ8.js","sources":["../../../../frontend/src/components/LessonContent.vue","../../../../frontend/src/pages/Lesson.vue"],"sourcesContent":["<template>\n\t<div v-if=\"youtube\">\n\t\t<iframe\n\t\t\tclass=\"youtube-video\"\n\t\t\t:src=\"getYouTubeVideoSource(youtube.split('/').pop())\"\n\t\t\twidth=\"100%\"\n\t\t\theight=\"400\"\n\t\t\tframeborder=\"0\"\n\t\t\tallowfullscreen\n\t\t></iframe>\n\t</div>\n\t<div v-for=\"block in content?.split('\\n\\n')\">\n\t\t<div v-if=\"block.includes('{{ YouTubeVideo')\">\n\t\t\t<iframe\n\t\t\t\tclass=\"youtube-video\"\n\t\t\t\t:src=\"getYouTubeVideoSource(block)\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\theight=\"400\"\n\t\t\t\tframeborder=\"0\"\n\t\t\t\tallowfullscreen\n\t\t\t></iframe>\n\t\t</div>\n\n\t\t<div v-else-if=\"block.includes('{{ Video')\">\n\t\t\t<video\n\t\t\t\tcontrols\n\t\t\t\twidth=\"100%\"\n\t\t\t\tcontrolsList=\"nodownload\"\n\t\t\t\toncontextmenu=\"return false;\"\n\t\t\t>\n\t\t\t\t<source :src=\"getId(block)\" type=\"video/mp4\" />\n\t\t\t</video>\n\t\t</div>\n\t\t<div v-else-if=\"block.includes('{{ PDF')\">\n\t\t\t<iframe\n\t\t\t\t:src=\"getPDFSource(block)\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\theight=\"700px\"\n\t\t\t\tframeborder=\"0\"\n\t\t\t\tallowfullscreen\n\t\t\t></iframe>\n\t\t</div>\n\t\t<div v-else-if=\"block.includes('{{ Audio')\">\n\t\t\t<audio width=\"100%\" controls controlsList=\"nodownload\">\n\t\t\t\t<source :src=\"getId(block)\" type=\"audio/mp3\" />\n\t\t\t</audio>\n\t\t</div>\n\t\t<div v-else-if=\"block.includes('{{ Embed')\">\n\t\t\t<iframe\n\t\t\t\twidth=\"100%\"\n\t\t\t\theight=\"400\"\n\t\t\t\t:src=\"getId(block)\"\n\t\t\t\tframeborder=\"0\"\n\t\t\t\tallowfullscreen\n\t\t\t>\n\t\t\t</iframe>\n\t\t</div>\n\t\t<div v-else v-html=\"markdown.render(block)\"></div>\n\t</div>\n\t<div v-if=\"quizId\">\n\t\t<Quiz :quiz=\"quizId\" />\n\t</div>\n\t<div v-if=\"exam\">\n\t\t<Exam :exam=\"exam\" />\n\t</div>\n\t<div v-if=\"discussionID\">\n\t\t<DiscussionActivity :discussion=\"discussionID\" />\n\t</div>\n\t<div v-if=\"folder\">\n\t\t<Folder :folder=\"folder\" />\n\t</div>\n</template>\n<script setup>\nimport Quiz from '@/components/QuizBlock.vue'\nimport Exam from '@/components/ExamBlock.vue'\nimport DiscussionActivity from '@/components/DiscussionActivityBlock.vue'\nimport Folder from '@/components/FolderBlock.vue'\n\nimport MarkdownIt from 'markdown-it'\n\nconst markdown = new MarkdownIt({\n\thtml: true,\n\tlinkify: true,\n})\n\nconst props = defineProps({\n\tcontent: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tyoutube: {\n\t\ttype: String,\n\t\trequired: false,\n\t},\n\tquizId: {\n\t\ttype: String,\n\t\trequired: false,\n\t},\n\texam: {\n\t\ttype: String,\n\t\trequired: false,\n\t},\n\tdiscussionID: {\n\t\ttype: String,\n\t\trequired: false,\n\t},\n\tfolder: {\n\t\ttype: String,\n\t\trequired: false,\n\t},\n\n})\n\n\nconst getYouTubeVideoSource = (block) => {\n\tif (block.includes('{{')) {\n\t\tblock = getId(block)\n\t}\n\treturn `https://www.youtube.com/embed/${block}`\n}\n\nconst getPDFSource = (block) => {\n\treturn `${getId(block)}#toolbar=0`\n}\n\nconst getId = (block) => {\n\treturn block.match(/\\([\"']([^\"']+?)[\"']\\)/)[1]\n}\n</script>\n","<template>\n\t<div v-if=\"lesson.data\" class=\"\">\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\">\n\t\t\t<Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n\n\t\t</header>\n\t\t<div class=\"grid md:grid-cols-[70%,30%] h-screen\">\n\t\t\t<div class=\"border-r container pt-5 pb-10 px-5\">\n\t\t\t\t<div class=\"flex flex-col md:flex-row md:items-center justify-between\">\n\t\t\t\t\t<div class=\"text-3xl font-semibold text-ink-gray-9\">\n\t\t\t\t\t\t{{ lesson.data.lesson_title }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"flex items-center mt-2 md:mt-0\">\n\t\t\t\t\t\t<router-link v-if=\"lesson.data.prev\" :to=\"{\n\t\t\t\t\t\t\tname: 'Lesson',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tcourseName: courseName,\n\t\t\t\t\t\t\t\tchapterNumber: lesson.data.prev.split('.')[0],\n\t\t\t\t\t\t\t\tlessonNumber: lesson.data.prev.split('.')[1],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\">\n\t\t\t\t\t\t\t<Button class=\"mr-2\">\n\t\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t\t<ChevronLeft class=\"w-4 h-4 stroke-1\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{{ __('Previous') }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t<router-link v-if=\"user?.data?.is_moderator || is_instructor()\" :to=\"{\n\t\t\t\t\t\t\tname: 'LessonForm',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tcourseName: courseName,\n\t\t\t\t\t\t\t\tchapterNumber: props.chapterNumber,\n\t\t\t\t\t\t\t\tlessonNumber: props.lessonNumber,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\">\n\t\t\t\t\t\t\t<Button variant=\"solid\" class=\"mr-2\">\n\t\t\t\t\t\t\t\t{{ __('Edit') }}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t<router-link v-if=\"lesson.data.next\" :to=\"{\n\t\t\t\t\t\t\tname: 'Lesson',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tcourseName: courseName,\n\t\t\t\t\t\t\t\tchapterNumber: lesson.data.next.split('.')[0],\n\t\t\t\t\t\t\t\tlessonNumber: lesson.data.next.split('.')[1],\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}\">\n\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t<template #suffix>\n\t\t\t\t\t\t\t\t\t<ChevronRight class=\"w-4 h-4 stroke-1\" />\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{{ __('Next') }}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t<router-link v-else :to=\"{\n\t\t\t\t\t\t\tname: 'CourseDetail',\n\t\t\t\t\t\t\tparams: { courseName: courseName },\n\t\t\t\t\t\t}\">\n\t\t\t\t\t\t\t<Button>\n\t\t\t\t\t\t\t\t{{ __('Back to Course') }}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div v-for=\"instructor in lesson.data.instructors\" class=\"flex items-center\">\n\t\t\t\t\t<br>\n\n\n\n\t\t\t\t\t<InstructorAvatar :instructor=\"instructor\" size=\"xl\" />\n\t\t\t\t\t<br>\n\n\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"\n\t\t\t\t\tlesson.data.instructor_content &&\n\t\t\t\t\tJSON.parse(lesson.data.instructor_content)?.blocks?.length > 1 &&\n\t\t\t\t\t(user?.data?.is_moderator || is_instructor())\n\t\t\t\t\" class=\"bg-surface-gray-2 p-3 rounded-md mt-6\">\n\t\t\t\t\t<div class=\"text-ink-gray-5 font-medium\">\n\t\t\t\t\t\t{{ __('Instructor Notes') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id=\"instructor-content\"\n\t\t\t\t\t\tclass=\"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal\">\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"lesson.data.instructor_notes\"\n\t\t\t\t\tclass=\"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal mt-6\">\n\t\t\t\t\t<LessonContent :content=\"lesson.data.instructor_notes\" />\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"lesson.data.due_date\" class=\"rounded-md bg-[#E6F7F4] p-2 mt-2\">\n\t\t\t\t\t{{ __('Due: ') + new Intl.DateTimeFormat(user.data.language || 'en-US', {\n\t\t\t\t\t\tdateStyle: 'medium'\n\t\t\t\t\t}).format(new\n\t\t\t\t\t\tDate(lesson.data.due_date)) }}\n\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"lesson.data.content\"\n\t\t\t\t\tclass=\"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal mt-5\">\n\t\t\t\t\t<div id=\"editor\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div v-else\n\t\t\t\t\tclass=\"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal mt-5\">\n\t\t\t\t\t<LessonContent v-if=\"lesson.data?.body\" :content=\"lesson.data.body\" :youtube=\"lesson.data.youtube\"\n\t\t\t\t\t\t:quizId=\"lesson.data.quiz_id\" :exam=\"lesson.data.exam\" :assignmentID=\"lesson.data.assignment_id\"\n\t\t\t\t\t\t:discussionID=\"lesson.data.discussion_id\" :socket=\"socket\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mt-20\">\n\t\t\t\t\t<Discussions v-if=\"allowDiscussions && lesson.data?.name\" :title=\"__('Questions')\"\n\t\t\t\t\t\t:doctype=\"'Course Lesson'\" :docname=\"lesson.data.name\" :key=\"lesson.data.name\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"sticky top-10\">\n\t\t\t\t<div class=\"bg-surface-menu-bar py-5 px-2 border-b\">\n\t\t\t\t\t<div class=\"text-lg font-semibold text-ink-gray-9\">\n\t\t\t\t\t\t{{ lesson.data.lesson_title }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"user && lesson.data.membership\" class=\"text-sm mt-4 mb-2 text-ink-gray-5\">\n\t\t\t\t\t\t{{ Math.ceil(lessonProgress) }}% {{ __('completed') }}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ProgressBar v-if=\"user && lesson.data.membership\" :progress=\"lessonProgress\" />\n\t\t\t\t</div>\n\t\t\t\t<CourseOutline :courseName=\"courseName\" :key=\"chapterNumber\"\n\t\t\t\t\t:getProgress=\"lesson.data.membership ? true : false\" />\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { createResource, Breadcrumbs, Button } from 'frappe-ui'\nimport { computed, watch, inject, ref, onMounted, onBeforeUnmount } from 'vue'\nimport CourseOutline from '@/components/CourseOutline.vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { ChevronLeft, ChevronRight, GraduationCap } from 'lucide-vue-next'\nimport { getEditorTools, updateDocumentTitle } from '../utils'\nimport EditorJS from '@editorjs/editorjs'\nimport LessonContent from '@/components/LessonContent.vue'\nimport ProgressBar from '@/components/ProgressBar.vue'\nimport InstructorAvatar from '@/components/InstructorAvatar.vue'\nimport Discussions from '@/components/Discussions.vue'\n\n\nconst user = inject('$user')\nconst router = useRouter()\nconst route = useRoute()\nconst allowDiscussions = ref(false)\nconst editor = ref(null)\nconst instructorEditor = ref(null)\nconst lessonProgress = ref(0)\nconst timer = ref(0)\nlet timerInterval\nconst socket = inject('$socket')\nif (!socket) {\n\tconsole.error('Socket connection not found in Lesson.vue.');\n} else {\n\tconsole.log('Socket connection available in Lesson.vue:', socket);\n}\n\nconst props = defineProps({\n\tcourseName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tchapterNumber: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tlessonNumber: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nonMounted(() => {\n\tstartTimer()\n})\n\n\nconst lesson = createResource({\n\turl: 'seminary.seminary.utils.get_lesson',\n\tcache: ['lesson', props.courseName, props.chapterNumber, props.lessonNumber],\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tcourse: props.courseName,\n\t\t\tchapter: values ? values.chapter : props.chapterNumber,\n\t\t\tlesson: values ? values.lesson : props.lessonNumber,\n\t\t}\n\t},\n\tauto: true,\n\tonSuccess(data) {\n\t\tif (Object.keys(data).length === 0) {\n\t\t\trouter.push({\n\t\t\t\tname: 'CourseDetail',\n\t\t\t\tparams: { courseName: props.courseName },\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tlessonProgress.value = data.membership?.progress\n\t\tif (data.content) editor.value = renderEditor('editor', data.content)\n\t\tif (\n\t\t\tdata.instructor_content &&\n\t\t\tJSON.parse(data.instructor_content)?.blocks?.length > 1\n\t\t)\n\t\t\tinstructorEditor.value = renderEditor(\n\t\t\t\t'instructor-content',\n\t\t\t\tdata.instructor_content\n\t\t\t)\n\n\n\t\teditor.value?.isReady.then(() => {\n\t\t\tcheckIfDiscussionsAllowed()\n\t\t})\n\t},\n})\n\nconst renderEditor = (holder, content) => {\n\t// empty the holder\n\tif (document.getElementById(holder))\n\t\tdocument.getElementById(holder).innerHTML = ''\n\treturn new EditorJS({\n\t\tholder: holder,\n\t\ttools: getEditorTools(),\n\t\tdata: JSON.parse(content),\n\t\treadOnly: true,\n\t\tdefaultBlock: 'embed', // editor adds an empty block at the top, so to avoid that added default block as embed\n\t})\n}\nconsole.log(lesson)\nconst markProgress = () => {\n\tif (user.data && lesson.data && !lesson.data.progress) {\n\t\tprogress.submit()\n\t}\n}\n\nconst progress = createResource({\n\turl: 'seminary.seminary.doctype.course_lesson.course_lesson.save_progress',\n\tmakeParams() {\n\t\treturn {\n\t\t\tlesson: lesson.data.name,\n\t\t\tcourse: props.courseName,\n\t\t}\n\n\t},\n\tonSuccess(data) {\n\t\tlessonProgress.value = data\n\t},\n})\n\nconst breadcrumbs = computed(() => {\n\tlet items = [{ label: __('Courses'), route: { name: 'Courses' } }]\n\titems.push({\n\t\tlabel: lesson?.data?.course_title,\n\t\troute: { name: 'CourseDetail', params: { courseName: props.courseName } },\n\t})\n\titems.push({\n\t\tlabel: lesson?.data?.lesson_title,\n\t\troute: {\n\t\t\tname: 'Lesson',\n\t\t\tparams: {\n\t\t\t\tcourseName: props.courseName,\n\t\t\t\tchapterNumber: props.chapterNumber,\n\t\t\t\tlessonNumber: props.lessonNumber,\n\t\t\t},\n\t\t},\n\t})\n\treturn items\n})\n\nwatch(\n\t[() => route.params.chapterNumber, () => route.params.lessonNumber],\n\t(\n\t\t[newChapterNumber, newLessonNumber],\n\t\t[oldChapterNumber, oldLessonNumber]\n\t) => {\n\t\tif (newChapterNumber || newLessonNumber) {\n\t\t\teditor.value = null\n\t\t\tinstructorEditor.value = null\n\t\t\tallowDiscussions.value = false\n\t\t\tlesson.submit({\n\t\t\t\tchapter: newChapterNumber,\n\t\t\t\tlesson: newLessonNumber,\n\t\t\t})\n\t\t\tclearInterval(timerInterval)\n\t\t\ttimer.value = 0\n\t\t\tstartTimer()\n\t\t}\n\t}\n)\n\nconst startTimer = () => {\n\ttimerInterval = setInterval(() => {\n\t\ttimer.value++\n\t\tif (timer.value == 30) {\n\t\t\tclearInterval(timerInterval)\n\t\t\tmarkProgress()\n\t\t}\n\t}, 1000)\n}\n\nonBeforeUnmount(() => {\n\tclearInterval(timerInterval)\n})\n\n\n\nconst is_instructor = () => {\n\tlet user_is_instructor = false\n\tif (lesson.data?.instructors) {\n\t\tlesson.data.instructors.forEach((instructor) => {\n\t\t\tif (!user_is_instructor && instructor.user == user.data?.name) {\n\t\t\t\tuser_is_instructor = true\n\t\t\t}\n\t\t})\n\t}\n\treturn user_is_instructor\n}\n\nconst enrollment = createResource({\n\turl: 'frappe.client.insert',\n\tmakeParams() {\n\t\treturn {\n\t\t\tdoc: {\n\t\t\t\tdoctype: 'Scheduled Course Roster',\n\t\t\t\tcourse: props.courseName,\n\t\t\t\tmember: user.data?.name,\n\t\t\t},\n\t\t}\n\t},\n})\n\nconst checkIfDiscussionsAllowed = () => {\n\tconsole.log('Lesson Data:', lesson.data); // Debugging\n\tconsole.log('allow_discuss:', lesson.data?.allow_discuss); // Debugging\n\n\tlet quizPresent = false;\n\n\t// Parse the content and check for blocks\n\tif (lesson.data?.content) {\n\t\ttry {\n\t\t\tconst parsedContent = JSON.parse(lesson.data.content);\n\t\t\t//   console.log('Parsed Content:', parsedContent); // Debugging\n\n\t\t\tparsedContent.blocks?.forEach((block) => {\n\t\t\t\t// Check if the block is of type 'quiz'  and has meaningful data\n\t\t\t\tif (\n\t\t\t\t\t(block.type === 'quiz') &&\n\t\t\t\t\tblock.data &&\n\t\t\t\t\tObject.keys(block.data).some((key) => block.data[key] !== null && block.data[key] !== '')\n\t\t\t\t) {\n\t\t\t\t\tquizPresent = true;\n\t\t\t\t}\n\t\t\t});\n\t\t} catch (error) {\n\t\t\tconsole.error('Error parsing content:', error);\n\t\t}\n\t}\n\n\t//   console.log('Quiz  Present:', quizPresent); // Debugging\n\n\t// Set allowDiscussions based on conditions\n\tif ((lesson.data?.allow_discuss === true || lesson.data?.allow_discuss === 1) && !quizPresent) {\n\t\tallowDiscussions.value = true;\n\t} else {\n\t\tallowDiscussions.value = false;\n\t}\n\n\t//   console.log('allowDiscussions:', allowDiscussions.value); // Debugging\n};\n\nconst enrollStudent = () => {\n\tenrollment.submit(\n\t\t{},\n\t\t{\n\t\t\tonSuccess() {\n\t\t\t\twindow.location.reload()\n\t\t\t},\n\t\t}\n\t)\n}\n\nconst redirectToLogin = () => {\n\twindow.location.href = `/login?redirect-to=/seminary/courses/${props.courseName}`\n}\n\nconst pageMeta = computed(() => {\n\treturn {\n\t\ttitle: lesson.data?.lesson_title,\n\t\tdescription: lesson.data?.course_sc,\n\t}\n})\n\nupdateDocumentTitle(pageMeta)\nconst isValidJSON = (str) => {\n\ttry {\n\t\tJSON.parse(str);\n\t\treturn true;\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n</script>\n<style>\n.avatar-group {\n\tdisplay: inline-flex;\n\talign-items: center;\n}\n\n.avatar-group .avatar {\n\ttransition: margin 0.1s ease-in-out;\n}\n\n.lesson-content p {\n\tmargin-bottom: 1rem;\n\tline-height: 1.7;\n}\n\n.lesson-content li {\n\tline-height: 1.7;\n}\n\n.lesson-content ol {\n\tlist-style: auto;\n\tmargin: revert;\n\tpadding: 1rem;\n}\n\n.lesson-content ul {\n\tlist-style: auto;\n\tpadding: 1rem;\n\tmargin: revert;\n}\n\n.lesson-content img {\n\tborder: 1px solid theme('colors.gray.200');\n\tborder-radius: 0.5rem;\n}\n\n.lesson-content code {\n\tdisplay: block;\n\toverflow-x: auto;\n\tpadding: 1rem 1.25rem;\n\tbackground: #011627;\n\tcolor: #d6deeb;\n\tborder-radius: 0.5rem;\n\tmargin: 1rem 0;\n}\n\n.lesson-content a {\n\tcolor: theme('colors.gray.900');\n\ttext-decoration: underline;\n\tfont-weight: 500;\n}\n\n.embed-tool__caption,\n.cdx-simple-image__caption {\n\tdisplay: none;\n}\n\n.ce-block__content {\n\tmax-width: unset;\n}\n\n.codex-editor__redactor {\n\tpadding-bottom: 0px !important;\n}\n\n.codeBoxHolder {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n}\n\n.codeBoxTextArea {\n\twidth: 100%;\n\tmin-height: 30px;\n\tpadding: 10px;\n\tborder-radius: 2px 2px 2px 0;\n\tborder: none !important;\n\toutline: none !important;\n\tfont: 14px monospace;\n}\n\n.codeBoxSelectDiv {\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n\tposition: relative;\n}\n\n.codeBoxSelectInput {\n\tborder-radius: 0 0 20px 2px;\n\tpadding: 2px 26px;\n\tpadding-top: 0;\n\tpadding-right: 0;\n\ttext-align: left;\n\tcursor: pointer;\n\tborder: none !important;\n\toutline: none !important;\n}\n\n.codeBoxSelectDropIcon {\n\tposition: absolute !important;\n\tleft: 10px !important;\n\tbottom: 0 !important;\n\twidth: unset !important;\n\theight: unset !important;\n\tfont-size: 16px !important;\n}\n\n.codeBoxSelectPreview {\n\tdisplay: none;\n\tflex-direction: column;\n\tjustify-content: flex-start;\n\talign-items: flex-start;\n\tborder-radius: 2px;\n\tbox-shadow: 0 3px 15px -3px rgba(13, 20, 33, 0.13);\n\tposition: absolute;\n\ttop: 100%;\n\tmargin: 5px 0;\n\tmax-height: 30vh;\n\toverflow-x: hidden;\n\toverflow-y: auto;\n\tz-index: 10000;\n}\n\n.codeBoxSelectItem {\n\twidth: 100%;\n\tpadding: 5px 20px;\n\tmargin: 0;\n\tcursor: pointer;\n}\n\n.codeBoxSelectItem:hover {\n\topacity: 0.7;\n}\n\n.codeBoxSelectedItem {\n\tbackground-color: lightblue !important;\n}\n\n.codeBoxShow {\n\tdisplay: flex !important;\n}\n\n.dark {\n\tcolor: #abb2bf;\n\tbackground-color: #282c34;\n}\n\n.light {\n\tcolor: #383a42;\n\tbackground-color: #fafafa;\n}\n\n.codeBoxTextArea {\n\tline-height: 1.7;\n}\n\niframe {\n\tborder-top: 3px solid theme('colors.gray.700');\n\tborder-bottom: 3px solid theme('colors.gray.700');\n}\n\n.tc-table {\n\tborder-left: 1px solid #e8e8eb;\n}\n</style>"],"names":["markdown","MarkdownIt","getYouTubeVideoSource","block","getId","getPDFSource","__props","_createElementBlock","_hoisted_1","_createElementVNode","_openBlock","_Fragment","_renderList","_a","_hoisted_3","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_10","_hoisted_11","_hoisted_13","_unref","_hoisted_16","_createVNode","Quiz","_hoisted_17","Exam","_hoisted_18","DiscussionActivity","_hoisted_19","Folder","user","inject","router","useRouter","route","useRoute","allowDiscussions","ref","editor","instructorEditor","lessonProgress","timer","timerInterval","socket","props","onMounted","startTimer","lesson","createResource","values","data","renderEditor","_c","_b","_d","checkIfDiscussionsAllowed","holder","content","EditorJS","getEditorTools","markProgress","progress","breadcrumbs","computed","items","watch","newChapterNumber","newLessonNumber","oldChapterNumber","oldLessonNumber","onBeforeUnmount","is_instructor","user_is_instructor","instructor","quizPresent","key","error","_e","pageMeta","updateDocumentTitle","_hoisted_2","Breadcrumbs","_hoisted_4","_toDisplayString","_hoisted_7","_createBlock","_component_router_link","Button","ChevronLeft","__","ChevronRight","InstructorAvatar","_hoisted_9","LessonContent","_hoisted_12","_cache","_hoisted_14","_hoisted_15","Discussions","ProgressBar","CourseOutline"],"mappings":"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"}