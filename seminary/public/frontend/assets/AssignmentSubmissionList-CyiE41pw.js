var P=Object.defineProperty,U=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var A=(i,s,n)=>s in i?P(i,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[s]=n,N=(i,s)=>{for(var n in s||(s={}))T.call(s,n)&&A(i,n,s[n]);if($)for(var n of $(s))z.call(s,n)&&A(i,n,s[n]);return i},G=(i,s)=>U(i,L(s));import{B as O,u as E,w as H,j as K,k as M,C as J,l as Q,m as W,n as X,o as Y}from"./frappe-ui-Qp90XKmJ.js";import{bk as B,F as Z,r as y,av as ee,I as se,c as h,a8 as te,t as p,b as u,g as b,e as r,u as a,a as k,w as c,H as w,O as C,C as ae,D as v,ce as ne}from"./vendor-CrP-kEM1.js";import{_ as D}from"./Link-B7v9_qE9.js";const le={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},ie={class:"md:w-3/4 md:mx-auto py-5 mx-5"},re={class:"grid grid-cols-3 gap-5 mb-5"},ue={key:0},oe={key:1},me={key:1,class:"text-center p-5 text-ink-gray-5 mt-52 w-3/4 md:w-1/2 mx-auto space-y-2"},de={class:"text-xl font-medium"},ce={class:"leading-5"},ve={__name:"AssignmentSubmissionList",setup(i){const s=B("$user"),n=B("$dayjs"),f=Z(),o=y(""),m=y(""),d=y("");ee(()=>{var e,l;!((e=s.data)!=null&&e.is_instructor)&&!((l=s.data)!=null&&l.is_moderator)&&f.push({name:"Courses"}),o.value=f.currentRoute.value.query.assignmentID,m.value=f.currentRoute.value.query.member,d.value=f.currentRoute.value.query.status,x()});const j=()=>{let e={};return o.value&&(e.assignment=o.value),m.value&&(e.member=m.value),d.value&&(e.status=d.value),e},_=O({doctype:"Assignment Submission",fields:["name","assignment","assignment_title","member_name","creation","status","grade"],orderBy:"creation desc",transform(e){return e.map(l=>G(N({},l),{creation:n(l.creation).fromNow()}))}});se([o,m,d],()=>{f.push({query:{assignmentID:o.value,member:m.value,status:d.value}}),x()});const x=()=>{_.update({filters:j()}),_.reload()},S=h(()=>[{label:__("Student"),key:"member_name",width:1},{label:__("Assignment"),key:"assignment_title",width:2},{label:__("Submitted"),key:"creation",width:1,align:"left"},{label:__("Grade"),key:"grade",width:1,align:"center"},{label:__("Status"),key:"status",width:1,align:"center"}]),F=h(()=>[{label:"",value:""},{label:"Pass",value:"Pass"},{label:"Fail",value:"Fail"},{label:"Not Graded",value:"Not Graded"},{label:"Graded",value:"Graded"}]),I=e=>e==="Pass"||e==="Graded"?"green":e==="Not Graded"?"blue":"red",R=h(()=>[{label:"Assignment Submissions"}]);return(e,l)=>{var V;const q=te("router-link");return u(),p(w,null,[b("header",le,[r(a(E),{items:R.value},null,8,["items"])]),b("div",ie,[b("div",re,[r(D,{doctype:"Assignment Activity",modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=t=>o.value=t),placeholder:e.__("Assignment")},null,8,["modelValue","placeholder"]),r(D,{doctype:"User",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=t=>m.value=t),placeholder:e.__("Student")},null,8,["modelValue","placeholder"]),r(a(H),{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=t=>d.value=t),type:"select",options:F.value,placeholder:e.__("Status")},null,8,["modelValue","options","placeholder"])]),a(_).loading||(V=a(_).data)!=null&&V.length?(u(),k(a(Y),{key:0,columns:S.value,rows:a(_).data,rowKey:"name"},{default:c(()=>[r(a(K),{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2"},{default:c(()=>[(u(!0),p(w,null,C(S.value,t=>(u(),k(a(M),{item:t},null,8,["item"]))),256))]),_:1}),r(a(J),null,{default:c(()=>[(u(!0),p(w,null,C(a(_).data,t=>(u(),k(q,{to:{name:"AssignmentSubmission",params:{assignmentID:t.assignment,submissionName:t.name}}},{default:c(()=>[r(a(Q),{row:t},{default:c(({column:g,item:_e})=>[r(a(W),{item:t[g.key],align:g.align},{default:c(()=>[g.key=="status"?(u(),p("div",ue,[r(a(X),{theme:I(t[g.key])},{default:c(()=>[ae(v(t[g.key]),1)]),_:2},1032,["theme"])])):(u(),p("div",oe,v(t[g.key]),1))]),_:2},1032,["item","align"])]),_:2},1032,["row"])]),_:2},1032,["to"]))),256))]),_:1})]),_:1},8,["columns","rows"])):(u(),p("div",me,[r(a(ne),{class:"size-8 mx-auto stroke-1 text-ink-gray-4"}),b("div",de,v(e.__("No submissions")),1),b("div",ce,v(e.__("There are no submissions for this assignment.")),1)]))])],64)}}};export{ve as default};
//# sourceMappingURL=AssignmentSubmissionList-CyiE41pw.js.map
