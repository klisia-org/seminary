import{s as E,c as I,l as L,G as q,i as H,b as z,d as o,h as c,e,o as s,t as n,f as l,F as S,k as M,H as O,g as F,w as V,j as B}from"./index-CVWiL_Ou.js";import{B as R}from"./book-open-check-yBkpgSvd.js";import{F as U}from"./file-up-BWU3Xov9.js";/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=E("PartyPopperIcon",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);function $(r,a){var h,i,k,p;const u=(h=a==null?void 0:a.data)==null?void 0:h.is_student,d=(i=a==null?void 0:a.data)==null?void 0:i.is_instructor;console.log("useCourseToDo",r,(k=a==null?void 0:a.data)==null?void 0:k.name,u,d);const _=I({url:"seminary.seminary.utils.get_course_details",cache:["course",r],params:{course:r},auto:!0}),m=I({url:"seminary.seminary.utils.get_assessments",cache:["assessments",r],params:{course:r}}),y=I({url:"seminary.seminary.utils.get_missingassessments",cache:["missingassessments",r],params:{course:r,member:(p=a==null?void 0:a.data)==null?void 0:p.name}}),D=I({url:"seminary.seminary.utils.get_assessments_tograde",cache:["assessments_tograde",r],params:{course:r}}),g=L(()=>{var x,f;const C=((x=y.data)==null?void 0:x.length)||0,w=(m.data||[]).filter(v=>new Date(v.due_date)>=new Date).length,b=((f=D.data)==null?void 0:f.length)||0;if(u)return C+w;if(d)return b});return console.log("Course: ",r,"countToDoItems",g.value),{course:_,assessments:m,missingAssessments:y,assessmentsToGrade:D,isStudent:u,isInstructor:d,countToDoItems:g}}const J={key:0,class:"border-2 rounded-md min-w-80 p-5"},K={key:0,class:"text-3xl font-semibold text-ink-gray-9 text-center"},Q={key:1,class:"text-ink-gray-7"},W={key:0,class:"missing-assessments mt-4"},X={class:"text-xl font-semibold text-ink-gray-9"},Y={key:1,class:"due-soon mt-4"},N={key:2,class:"no-assessments mt-4"},G={class:"text-xl font-semibold text-ink-gray-9"},tt={key:2,class:"text-ink-gray-7"},et={key:3,class:"text-ink-gray-7"},st={class:"text-xl text-center font-semibold text-gray-500 mt-5"},at={__name:"CourseCardToDo",props:{course:{type:String,required:!0},singleCourse:{type:Boolean,default:!0}},setup(r){const a=H("$user"),u=r,{course:d,assessments:_,missingAssessments:m,assessmentsToGrade:y,isStudent:D,isInstructor:g}=$(u.course,a),h=i=>O(i).fromNow();return(i,k)=>{var C,w,b,x,f,v,T,A,P,j;const p=z("router-link");return e(d)?(s(),o("div",J,[r.singleCourse?(s(),o("div",K,n(i.__("To Do")),1)):c("",!0),(C=e(d).data)!=null&&C.course&&e(D)?(s(),o("div",Q,[(w=e(m).data)!=null&&w.length?(s(),o("section",W,[l("h3",X,n(i.__("Missing Assessments")),1),l("ul",null,[(s(!0),o(S,null,M(e(m).data,t=>(s(),o("li",{key:t.id,class:"text-ink-gray-7"},n(t.title)+" (Due: "+n(h(t.due_date))+") ",1))),128))])])):c("",!0),(x=(b=e(_))==null?void 0:b.data)!=null&&x.length?(s(),o("section",Y,[k[0]||(k[0]=l("h3",null,"Due Soon",-1)),l("ul",null,[(s(!0),o(S,null,M(e(_).data.filter(t=>new Date(t.due_date)>=new Date).slice(0,5),t=>(s(),o("li",{key:t.id},n(t.title)+" (Due: "+n(h(t.due_date))+") ",1))),128))])])):c("",!0),!((f=e(m).data)!=null&&f.length)&&!((v=e(_).data)!=null&&v.length)?(s(),o("section",N,[l("h3",G,n(i.__("Congrats! No assessments for now.")),1)])):c("",!0)])):c("",!0),(T=e(d).data)!=null&&T.course&&e(g)&&((A=e(y).data)!=null&&A.length)?(s(),o("div",tt,[(s(!0),o(S,null,M(e(y).data,t=>(s(),o("div",{key:t.title,class:"text-ink-gray-7 mt-4"},[l("ul",null,[t.Type==="Exam"?(s(),F(p,{key:0,to:{name:"ExamSubmissionCS",params:{courseName:u.course,examID:t.assessmentID}},class:"text-ink-gray-7 mt-4 flex items-center space-x-2"},{default:V(()=>[B(e(R),{class:"h-4 w-4 stroke-1.5"}),l("span",null,n(t.title)+" ("+n(t.ToGrade)+" "+n(i.__(" to grade"))+")",1)]),_:2},1032,["to"])):t.Type==="Assignment"?(s(),F(p,{key:1,to:{name:"AssignmentSubmissionCS",params:{courseName:u.course,assignmentID:t.assessmentID}},class:"text-ink-gray-7 flex items-center space-x-2"},{default:V(()=>[B(e(U),{class:"h-4 w-4 stroke-1.5"}),l("span",null,n(t.title)+" ("+n(t.ToGrade)+" "+n(i.__(" to grade"))+")",1)]),_:2},1032,["to"])):c("",!0)])]))),128))])):c("",!0),(P=e(d).data)!=null&&P.course&&e(g)&&!((j=e(y).data)!=null&&j.length)?(s(),o("div",et,[B(e(Z),{class:"size-20 mx-auto stroke-1 text-gray-500 mt-5"}),l("h3",st,n(i.__("Congrats! No assessments to grade for now.")),1)])):c("",!0)])):c("",!0)}}},it=q(at,[["__scopeId","data-v-72fc3452"]]);export{it as C,Z as P,$ as u};
//# sourceMappingURL=CourseCardToDo-CYMHGz2T.js.map
