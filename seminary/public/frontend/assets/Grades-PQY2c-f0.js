import{c as $,j as C,k as D,l as T,m as B,o as G}from"./frappe-ui-DY2hYblR.js";import{bk as O,r as _,am as N,c as w,t as a,u as i,b as s,g as l,D as f,H as p,O as y,e as m,w as k,a as h}from"./vendor-BwXEY6tq.js";import{_ as A}from"./MissingData-BReUdTsw.js";import{u as v}from"./index-C-gjsqqd.js";const E={key:0},R={class:"text-xl font-bold text-gray-800 sticky flex items-center justify-between top-0 z-10 border-b bg-surface-white px-3 py-2.5 sm:px-5"},V={key:0,class:"px-5 py-4"},z={class:"text-lg font-bold text-gray-700"},F={key:1},H={key:1,class:"flex flex-col items-center justify-center"},I={class:"text-lg font-bold text-gray-500"},K={__name:"Grades",setup(L){v();const g=O("$user");_(0),v();let x=g.data.is_student,j=g.data.student;_([]),_(""),_({columns:[{label:__("Course"),key:"course"},{label:__("Academic Term"),key:"academic_term"}],rows:[]}),$({url:"seminary.seminary.api.get_student_programs",makeParams(){return{student:j}},onSuccess:n=>{u.rows=n.sort((e,t)=>e.academic_term<t.academic_term?-1:e.academic_term>t.academic_term?1:e.course_name<t.course_name?-1:e.course_name>t.course_name?1:0)},auto:!0});const u=N({rows:[],columns:[{label:__("Course"),key:"course_name",width:1},{label:__("Academic Term"),key:"academic_term",width:1},{label:__("Credits"),key:"credits",width:1},{label:__("Grade Code"),key:"pec_finalgradecode",width:1},{label:__("Grade"),key:"pec_finalgradenum",width:1},{label:__("Status"),key:"status",width:1}]}),b=w(()=>u.rows.reduce((e,t)=>{const r=t.program;return e[r]||(e[r]=[]),e[r].push(t),e},{})),S=w(()=>{const n=Object.entries(b.value).sort(([e,t],[r,o])=>{const c=t[0].pgmenrol_active,d=o[0].pgmenrol_active;return c>d?-1:c<d?1:e<r?-1:e>r?1:0});return Object.fromEntries(n)});return(n,e)=>i(x)?(s(),a("div",E,[l("h2",R,f(n.__("My Transcripts")),1),Object.keys(b.value).length>0?(s(),a("div",V,[(s(!0),a(p,null,y(S.value,(t,r)=>(s(),a("div",{key:r},[l("h2",z,f(r),1),e[0]||(e[0]=l("br",null,null,-1)),m(i(G),{columns:u.columns,rows:t,options:{selectable:!1,showTooltip:!1,onRowClick:()=>{}},"row-key":"id"},{default:k(()=>[m(i(C),null,{default:k(()=>[(s(!0),a(p,null,y(u.columns,o=>(s(),h(i(D),{key:o.key,item:o},null,8,["item"]))),128))]),_:1}),(s(!0),a(p,null,y(t,o=>(s(),h(i(T),{key:o.id,row:o},{default:k(({column:c,item:d})=>[m(i(B),{item:d,align:c.align},null,8,["item","align"])]),_:1},8,["row"]))),128))]),_:2},1032,["columns","rows"]),e[1]||(e[1]=l("br",null,null,-1))]))),128))])):(s(),a("div",F,[m(A,{message:"No grades found"})]))])):(s(),a("div",H,[l("p",I,f(n.__("Individual Student Transcripts are only displayed for Students")),1)]))}};export{K as default};
//# sourceMappingURL=Grades-PQY2c-f0.js.map
