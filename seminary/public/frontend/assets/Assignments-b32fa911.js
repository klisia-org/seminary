var q=Object.defineProperty,L=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable;var V=(l,s,o)=>s in l?q(l,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[s]=o,A=(l,s)=>{for(var o in s||(s={}))I.call(s,o)&&V(l,o,s[o]);if(x)for(var o of x(s))S.call(s,o)&&V(l,o,s[o]);return l},C=(l,s)=>L(l,U(s));import{i as F,r as h,x as z,m as M,n as E,l as p,ab as Y,d as w,e as _,h as r,b as a,w as f,f as G,t as v,g as H,F as J,j as K,o as g,_ as N,A as R}from"./index-02404b00.js";import{_ as O}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-cfe3999d.js";import{P as Q,a as b}from"./plus-8456e85b.js";import{d as W}from"./ListView-8c58bb68.js";import{P as X}from"./pencil-66476ae0.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-7635d666.js";const Z={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},ee={class:"md:w-3/4 md:mx-auto py-5 mx-5"},te={class:"grid grid-cols-3 gap-5 mb-5"},se={key:1,class:"text-center p-5 text-ink-gray-5 mt-52 w-3/4 md:w-1/2 mx-auto space-y-2"},ae={class:"text-xl font-medium"},oe={class:"leading-5"},le={key:2,class:"flex justify-center my-5"},pe={__name:"Assignments",setup(l){const s=F("$user"),o=F("$dayjs"),u=h(""),m=h(""),d=h(""),c=z();M(()=>{var t,e;!((t=s.data)!=null&&t.is_moderator)&&!((e=s.data)!=null&&e.is_instructor)&&c.push({name:"Courses"}),u.value=c.currentRoute.value.query.title,d.value=c.currentRoute.value.query.course,m.value=c.currentRoute.value.query.type}),E([u,d,m],()=>{c.push({query:{title:u.value,course:d.value,type:m.value}}),T()});const T=()=>{n.update({filters:$.value}),n.reload()},$=p(()=>{var e,y;let t={};return u.value&&(t.title=["like",`%${u.value}%`]),d.value&&(t.course=d.value),m.value&&(t.type=m.value),(e=s.data)!=null&&e.is_moderator||(t.owner=(y=s.data)==null?void 0:y.email),t}),n=Y({doctype:"Assignment Activity",fields:["name","title","course","type","creation"],orderBy:"modified desc",cache:["assignments"],transform(t){return t.map(e=>C(A({},e),{creation:o(e.creation).fromNow()}))}}),j=p(()=>[{label:__("Title"),key:"title",width:2},{label:__("Course"),key:"course",width:1,align:"left"},{label:__("Type"),key:"type",width:1,align:"left"},{label:__("Created"),key:"creation",width:1,align:"center"}]),P=p(()=>["","Document","Image","PDF","URL","Text"].map(e=>({label:__(e),value:e}))),B=p(()=>n.data?Array.from(new Set(n.data.map(e=>e.course))).map(e=>({label:e,value:e})):[]),D=p(()=>[{label:"Assignments",route:{name:"Assignments"}}]);return(t,e)=>{var k;const y=K("router-link");return g(),w(J,null,[_("header",Z,[r(a(O),{items:D.value},null,8,["items"]),r(y,{to:{name:"AssignmentForm",params:{assignmentID:"new"}}},{default:f(()=>[r(a(N),{variant:"solid"},{prefix:f(()=>[r(a(Q),{class:"w-4 h-4"})]),default:f(()=>[R(" "+v(t.__("New")),1)]),_:1})]),_:1})]),_("div",ee,[_("div",te,[r(a(b),{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=i=>u.value=i),placeholder:t.__("Search by title")},null,8,["modelValue","placeholder"]),r(a(b),{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=i=>d.value=i),type:"select",options:B.value,placeholder:t.__("Course")},null,8,["modelValue","options","placeholder"]),r(a(b),{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=i=>m.value=i),type:"select",options:P.value,placeholder:t.__("Type")},null,8,["modelValue","options","placeholder"])]),(k=a(n).data)!=null&&k.length?(g(),G(a(W),{key:0,columns:j.value,rows:a(n).data,"row-key":"name",options:{showTooltip:!1,selectable:!1,getRowRoute:i=>({name:"AssignmentForm",params:{assignmentID:i.name}})}},null,8,["columns","rows","options"])):(g(),w("div",se,[r(a(X),{class:"size-10 mx-auto stroke-1 text-ink-gray-4"}),_("div",ae,v(t.__("No assignments found")),1),_("div",oe,v(t.__('You have not created any assignments yet. To create a new assignment, click on the "New" button above.')),1)])),a(n).data&&a(n).hasNextPage?(g(),w("div",le,[r(a(N),{onClick:e[3]||(e[3]=i=>a(n).next())},{default:f(()=>[R(v(t.__("Load More")),1)]),_:1})])):H("",!0)])],64)}}};export{pe as default};
//# sourceMappingURL=Assignments-b32fa911.js.map
