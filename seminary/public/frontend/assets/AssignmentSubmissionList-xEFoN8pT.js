var I=Object.defineProperty,U=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var $=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var A=(r,s,n)=>s in r?I(r,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[s]=n,N=(r,s)=>{for(var n in s||(s={}))T.call(s,n)&&A(r,n,s[n]);if($)for(var n of $(s))z.call(s,n)&&A(r,n,s[n]);return r},G=(r,s)=>U(r,L(s));import{i as j,x as E,r as y,m as K,ac as M,n as O,l as h,b as H,d as f,o,f as b,j as i,e as a,g as k,w as c,F as x,k as B,A as J,t as v}from"./index-CVWiL_Ou.js";import{_ as Q}from"./Badge.vue_vue_type_script_setup_true_lang-DMvSTLfT.js";import{_ as W}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-4m6SQeM8.js";import{a as X}from"./FormControl.vue_vue_type_script_setup_true_lang-ClvexRF6.js";import{_ as Y,a as Z,e as ee,b as se,c as te,d as ae}from"./ListView-T6A9B2oi.js";import{_ as D}from"./Link-D0cze3Hl.js";import{P as ne}from"./pencil-W75E9_mf.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-9SPyKoxA.js";import"./plus-C5d9m71e.js";const le={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},re={class:"md:w-3/4 md:mx-auto py-5 mx-5"},ie={class:"grid grid-cols-3 gap-5 mb-5"},oe={key:0},ue={key:1},me={key:1,class:"text-center p-5 text-ink-gray-5 mt-52 w-3/4 md:w-1/2 mx-auto space-y-2"},de={class:"text-xl font-medium"},ce={class:"leading-5"},Se={__name:"AssignmentSubmissionList",setup(r){const s=j("$user"),n=j("$dayjs"),g=E(),u=y(""),m=y(""),d=y("");K(()=>{var e,l;!((e=s.data)!=null&&e.is_instructor)&&!((l=s.data)!=null&&l.is_moderator)&&g.push({name:"Courses"}),u.value=g.currentRoute.value.query.assignmentID,m.value=g.currentRoute.value.query.member,d.value=g.currentRoute.value.query.status,w()});const F=()=>{let e={};return u.value&&(e.assignment=u.value),m.value&&(e.member=m.value),d.value&&(e.status=d.value),e},_=M({doctype:"Assignment Submission",fields:["name","assignment","assignment_title","member_name","creation","status","grade"],orderBy:"creation desc",transform(e){return e.map(l=>G(N({},l),{creation:n(l.creation).fromNow()}))}});O([u,m,d],()=>{g.push({query:{assignmentID:u.value,member:m.value,status:d.value}}),w()});const w=()=>{_.update({filters:F()}),_.reload()},S=h(()=>[{label:"Student",key:"member_name",width:1},{label:"Assignment",key:"assignment_title",width:2},{label:"Submitted",key:"creation",width:1,align:"left"},{label:"Grade",key:"grade",width:1,align:"center"},{label:"Status",key:"status",width:1,align:"center"}]),P=h(()=>[{label:"",value:""},{label:"Pass",value:"Pass"},{label:"Fail",value:"Fail"},{label:"Not Graded",value:"Not Graded"},{label:"Graded",value:"Graded"}]),R=e=>e==="Pass"||e==="Graded"?"green":e==="Not Graded"?"blue":"red",q=h(()=>[{label:"Assignment Submissions"}]);return(e,l)=>{var V;const C=H("router-link");return o(),f(x,null,[b("header",le,[i(a(W),{items:q.value},null,8,["items"])]),b("div",re,[b("div",ie,[i(D,{doctype:"Assignment Activity",modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=t=>u.value=t),placeholder:e.__("Assignment")},null,8,["modelValue","placeholder"]),i(D,{doctype:"User",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=t=>m.value=t),placeholder:e.__("Student")},null,8,["modelValue","placeholder"]),i(a(X),{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=t=>d.value=t),type:"select",options:P.value,placeholder:e.__("Status")},null,8,["modelValue","options","placeholder"])]),a(_).loading||(V=a(_).data)!=null&&V.length?(o(),k(a(ae),{key:0,columns:S.value,rows:a(_).data,rowKey:"name"},{default:c(()=>[i(a(Y),{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2"},{default:c(()=>[(o(!0),f(x,null,B(S.value,t=>(o(),k(a(Z),{item:t},null,8,["item"]))),256))]),_:1}),i(a(ee),null,{default:c(()=>[(o(!0),f(x,null,B(a(_).data,t=>(o(),k(C,{to:{name:"AssignmentSubmission",params:{assignmentID:t.assignment,submissionName:t.name}}},{default:c(()=>[i(a(se),{row:t},{default:c(({column:p,item:_e})=>[i(a(te),{item:t[p.key],align:p.align},{default:c(()=>[p.key=="status"?(o(),f("div",oe,[i(a(Q),{theme:R(t[p.key])},{default:c(()=>[J(v(t[p.key]),1)]),_:2},1032,["theme"])])):(o(),f("div",ue,v(t[p.key]),1))]),_:2},1032,["item","align"])]),_:2},1032,["row"])]),_:2},1032,["to"]))),256))]),_:1})]),_:1},8,["columns","rows"])):(o(),f("div",me,[i(a(ne),{class:"size-8 mx-auto stroke-1 text-ink-gray-4"}),b("div",de,v(e.__("No submissions")),1),b("div",ce,v(e.__("There are no submissions for this assignment.")),1)]))])],64)}}};export{Se as default};
//# sourceMappingURL=AssignmentSubmissionList-xEFoN8pT.js.map
