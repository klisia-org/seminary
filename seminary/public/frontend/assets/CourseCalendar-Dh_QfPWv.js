import{c as u,u as y,q as g}from"./frappe-ui-DItCq3tW.js";import{bW as f,F as w,bk as x,c as m,t as d,b as c,g as t,e as _,u as n,D as a,w as k,H as R}from"./vendor-HNRiXHBS.js";import{u as v}from"./index-DAgtU4uR.js";import"./Link-CDfjKa6y.js";import"./index-DhRAnSEM.js";/* empty css                                                                     */const N={class:"sticky top-0 z-10 flex flex-col md:flex-row md:items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},U={class:"mt-5 mb-10 w-full px-5"},L={class:"text-2xl font-bold mb-3"},$={class:"text-gray-700 mb-5"},S={class:"space-y-4"},F={key:0},j=["innerHTML"],D={key:1},H={class:"text-2xl font-bold mt-8 mb-3"},I={class:"text-lg font-semibold mt-3"},M={class:"text-sm text-gray-600"},T={class:"text-lg font-semibold mt-3"},A={class:"text-sm text-gray-600"},B={class:"text-lg font-semibold mt-3"},O={class:"text-sm text-gray-600"},z={__name:"CourseCalendar",props:{courseName:{type:String,required:!0}},setup(p){f(),w(),x("$user");const r=p,i=u({url:"seminary.seminary.calendar.get_calendar_instructions",cache:["instructions"],auto:!0}),s=u({url:"seminary.seminary.utils.get_course_details",cache:["course",r.courseName],params:{course:r.courseName},auto:!0}),h=()=>{const e=`${window.location.origin}/api/method/seminary.seminary.calendar.course_ics?course_schedule=${encodeURIComponent(r.courseName)}&token=${encodeURIComponent(s.data.calendar_token)}`,o=fetch(e).then(l=>{if(!l.ok)throw new Error("Network response was not ok");return l.json()});console.log("Calendar URL:",e),console.log("Calendar Data:",o),navigator.clipboard.writeText(e).then(()=>{alert(__("Calendar URL copied to clipboard! You can now add it to your calendar application."))},()=>{alert(__("Failed to copy calendar URL. Please try again."))})},b=m(()=>{var o;let e=[{label:"Courses",route:{name:"Courses"}}];return e.push({label:(o=s==null?void 0:s.data)==null?void 0:o.course,route:{name:"CourseCalendar",params:{courseName:r.courseName}}}),e}),C=m(()=>{var e;return{title:(e=s==null?void 0:s.data)==null?void 0:e.title,description:"Course Calendar for the course"}});return v(C),(e,o)=>(c(),d(R,null,[t("header",N,[_(n(y),{class:"h-7",items:b.value},null,8,["items"])]),t("div",U,[t("h3",L,a(e.__("Course Calendar")),1),t("p",$,a(e.__("Subscribe to this course calendar to stay updated with assignments due dates and class schedule.")),1),_(n(g),{variant:"solid",onClick:o[0]||(o[0]=l=>h()),class:"mt-5 mb-5"},{default:k(()=>[t("span",null,a(e.__("Subscribe to this course calendar")),1)]),_:1}),t("div",S,[n(i).data?(c(),d("div",F,[t("p",{class:"text-sm text-gray-600",innerHTML:n(i).data},null,8,j)])):(c(),d("div",D,[t("div",null,[t("h3",H,a(e.__("How to Import the Calendar in the Major Platforms")),1),t("h4",I,a(e.__("Google Calendar")),1),t("p",M,a(e.__('Copy the calendar URL and add it to your Google Calendar by selecting "Other Calendars" > "From URL".')),1)]),t("div",null,[t("h4",T,a(e.__("Outlook Calendar")),1),t("p",A,a(e.__('Copy the calendar URL and add it to your Outlook Calendar by selecting "Add Calendar" > "Subscribe from Web".')),1)]),t("div",null,[t("h4",B,a(e.__("Apple Calendar")),1),t("p",O,a(e.__('Copy the calendar URL and add it to your Apple Calendar by selecting "File" > "New Calendar Subscription".')),1)])]))])])],64))}};export{z as default};
//# sourceMappingURL=CourseCalendar-Dh_QfPWv.js.map
