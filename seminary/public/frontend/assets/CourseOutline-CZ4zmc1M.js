var xe=Object.defineProperty,Ce=Object.defineProperties;var Se=Object.getOwnPropertyDescriptors;var K=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var ae=(e,r,a)=>r in e?xe(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,A=(e,r)=>{for(var a in r||(r={}))se.call(r,a)&&ae(e,a,r[a]);if(K)for(var a of K(r))le.call(r,a)&&ae(e,a,r[a]);return e},re=(e,r)=>Ce(e,Se(r));var B=(e,r)=>{var a={};for(var l in e)se.call(e,l)&&r.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&K)for(var l of K(e))r.indexOf(l)<0&&le.call(e,l)&&(a[l]=e[l]);return a};var oe=(e,r,a)=>new Promise((l,t)=>{var p=f=>{try{i(a.next(f))}catch(g){t(g)}},o=f=>{try{i(a.throw(f))}catch(g){t(g)}},i=f=>f.done?l(f.value):Promise.resolve(f.value).then(p,o);i((a=a.apply(e,r)).next())});import{U as z,r as V,V as H,W as ne,X as T,Y as X,Z as we,l as x,$ as G,a0 as R,m as Y,a1 as J,a2 as De,a3 as me,a4 as $e,a5 as ie,i as I,a6 as M,e as d,a7 as Ve,n as fe,a8 as ue,a9 as Ee,aa as Oe,ab as Pe,ac as Le,F as q,ad as Me,o as y,f as D,w,a as k,K as E,A as F,t as $,g as O,h as S,Q as Ne,R as W,s as ve,y as Te,z as ce,d as ze,b as N,c as L,_ as Z,D as Be,L as Fe,x as Re,j as Ie,k as de,M as pe,ae as je,af as Ue}from"./index-flDXq_bA.js";import{F as Ke,h as he,i as Ae,s as P,a as qe,j as He}from"./index-nCb1JY8w.js";import{d as Ge,p as Xe,a as Ye}from"./plus-DlUOwXB2.js";import{c as Qe,C as We}from"./telemetry-D49vQ4Br.js";import{u as Ze}from"./settings-67X4IFtx.js";import{X as Je}from"./Link-DjgbRK92.js";import{B as et}from"./book-open-check-CFVdhsmI.js";import{F as tt}from"./file-up-3cmMvdsi.js";import{C as at}from"./check-BZhJaMw5.js";var st=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(st||{});let ge=Symbol("DisclosureContext");function ee(e){let r=I(ge,null);if(r===null){let a=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(a,ee),a}return r}let ye=Symbol("DisclosurePanelContext");function lt(){return I(ye,null)}let rt=z({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(e,{slots:r,attrs:a}){let l=V(e.defaultOpen?0:1),t=V(null),p=V(null),o={buttonId:V(`headlessui-disclosure-button-${H()}`),panelId:V(`headlessui-disclosure-panel-${H()}`),disclosureState:l,panel:t,button:p,toggleDisclosure(){l.value=ne(l.value,{0:1,1:0})},closeDisclosure(){l.value!==1&&(l.value=1)},close(i){o.closeDisclosure();let f=i?i instanceof HTMLElement?i:i.value instanceof HTMLElement?T(i):T(o.button):T(o.button);f==null||f.focus()}};return X(ge,o),we(x(()=>ne(l.value,{0:G.Open,1:G.Closed}))),()=>{let v=e,{defaultOpen:i}=v,f=B(v,["defaultOpen"]),g={open:l.value===0,close:o.close};return R({theirProps:f,ourProps:{},slot:g,slots:r,attrs:a,name:"Disclosure"})}}}),ot=z({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:r,slots:a,expose:l}){let t=ee("DisclosureButton"),p=lt(),o=x(()=>p===null?!1:p.value===t.panelId.value);Y(()=>{o.value||e.id!==null&&(t.buttonId.value=e.id)}),J(()=>{o.value||(t.buttonId.value=null)});let i=V(null);l({el:i,$el:i}),o.value||De(()=>{t.button.value=i.value});let f=me(x(()=>({as:e.as,type:r.type})),i);function g(){var s;e.disabled||(o.value?(t.toggleDisclosure(),(s=T(t.button))==null||s.focus()):t.toggleDisclosure())}function v(s){var u;if(!e.disabled)if(o.value)switch(s.key){case M.Space:case M.Enter:s.preventDefault(),s.stopPropagation(),t.toggleDisclosure(),(u=T(t.button))==null||u.focus();break}else switch(s.key){case M.Space:case M.Enter:s.preventDefault(),s.stopPropagation(),t.toggleDisclosure();break}}function h(s){switch(s.key){case M.Space:s.preventDefault();break}}return()=>{var s;let u={open:t.disclosureState.value===0},C=e,{id:m}=C,n=B(C,["id"]),c=o.value?{ref:i,type:f.value,onClick:g,onKeydown:v}:{id:(s=t.buttonId.value)!=null?s:m,ref:i,type:f.value,"aria-expanded":t.disclosureState.value===0,"aria-controls":t.disclosureState.value===0||T(t.panel)?t.panelId.value:void 0,disabled:e.disabled?!0:void 0,onClick:g,onKeydown:v,onKeyup:h};return R({ourProps:c,theirProps:n,slot:u,attrs:r,slots:a,name:"DisclosureButton"})}}}),nt=z({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:r,slots:a,expose:l}){let t=ee("DisclosurePanel");Y(()=>{e.id!==null&&(t.panelId.value=e.id)}),J(()=>{t.panelId.value=null}),l({el:t.panel,$el:t.panel}),X(ye,t.panelId);let p=$e(),o=x(()=>p!==null?(p.value&G.Open)===G.Open:t.disclosureState.value===0);return()=>{var i;let f={open:t.disclosureState.value===0,close:t.close},s=e,{id:g}=s,v=B(s,["id"]),h={id:(i=t.panelId.value)!=null?i:g,ref:t.panel};return R({ourProps:h,theirProps:v,slot:f,attrs:r,slots:a,features:ie.RenderStrategy|ie.Static,visible:o.value,name:"DisclosurePanel"})}}}),be=Symbol("LabelContext");function _e(){let e=I(be,null);if(e===null){let r=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(r,_e),r}return e}function it({slot:e={},name:r="Label",props:a={}}={}){let l=V([]);function t(p){return l.value.push(p),()=>{let o=l.value.indexOf(p);o!==-1&&l.value.splice(o,1)}}return X(be,{register:t,slot:e,name:r,props:a}),x(()=>l.value.length>0?l.value.join(" "):void 0)}let ut=z({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-label-${H()}`}},setup(e,{slots:r,attrs:a}){let l=_e();return Y(()=>J(l.register(e.id))),()=>{let{name:t="Label",slot:p={},props:o={}}=l,h=e,{id:i,passive:f}=h,g=B(h,["id","passive"]),v=re(A({},Object.entries(o).reduce((s,[u,m])=>Object.assign(s,{[u]:d(m)}),{})),{id:i});return f&&(delete v.onClick,delete v.htmlFor,delete g.onClick),R({ourProps:v,theirProps:g,slot:p,attrs:a,slots:r,name:t})}}}),ke=Symbol("GroupContext"),ct=z({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:r,attrs:a}){let l=V(null),t=it({name:"SwitchLabel",props:{htmlFor:x(()=>{var o;return(o=l.value)==null?void 0:o.id}),onClick(o){l.value&&(o.currentTarget.tagName==="LABEL"&&o.preventDefault(),l.value.click(),l.value.focus({preventScroll:!0}))}}}),p=Ve({name:"SwitchDescription"});return X(ke,{switchRef:l,labelledby:t,describedby:p}),()=>R({theirProps:e,ourProps:{},slot:{},slots:r,attrs:a,name:"SwitchGroup"})}}),dt=z({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:()=>`headlessui-switch-${H()}`}},inheritAttrs:!1,setup(e,{emit:r,attrs:a,slots:l,expose:t}){let p=I(ke,null),[o,i]=Ge(x(()=>e.modelValue),c=>r("update:modelValue",c),x(()=>e.defaultChecked));function f(){i(!o.value)}let g=V(null),v=p===null?g:p.switchRef,h=me(x(()=>({as:e.as,type:a.type})),v);t({el:v,$el:v});function s(c){c.preventDefault(),f()}function u(c){c.key===M.Space?(c.preventDefault(),f()):c.key===M.Enter&&Xe(c.currentTarget)}function m(c){c.preventDefault()}let n=x(()=>{var c,C;return(C=(c=T(v))==null?void 0:c.closest)==null?void 0:C.call(c,"form")});return Y(()=>{fe([n],()=>{if(!n.value||e.defaultChecked===void 0)return;function c(){i(e.defaultChecked)}return n.value.addEventListener("reset",c),()=>{var C;(C=n.value)==null||C.removeEventListener("reset",c)}},{immediate:!0})}),()=>{let te=e,{id:c,name:C,value:j,form:_}=te,Q=B(te,["id","name","value","form"]),U={checked:o.value},b={id:c,ref:v,role:"switch",type:h.value,tabIndex:0,"aria-checked":o.value,"aria-labelledby":p==null?void 0:p.labelledby.value,"aria-describedby":p==null?void 0:p.describedby.value,onClick:s,onKeyup:u,onKeypress:m};return ue(q,[C!=null&&o.value!=null?ue(Ee,Oe({features:Pe.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:o.value,form:_,name:C,value:j})):null,R({ourProps:b,theirProps:A(A({},a),Le(Q,["modelValue","defaultChecked"])),slot:U,attrs:a,slots:l,name:"Switch"})])}}}),pt=ut,mt=Me;const ft=z({__name:"Switch",props:{size:{default:"sm"},label:{default:""},description:{default:""},disabled:{type:Boolean,default:!1},modelValue:{type:[Boolean,Number,String]}},emits:["change","update:modelValue"],setup(e,{emit:r}){const a=e,l=r,t=x(()=>a.label&&a.description?2:a.label?1:0),p=x(()=>["relative inline-flex flex-shrink-0 cursor-pointer rounded-full border-transparent transition-colors duration-100 ease-in-out items-center","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-400","disabled:cursor-not-allowed disabled:bg-gray-200",a.modelValue?"bg-gray-900 enabled:hover:bg-gray-800 active:bg-gray-700 group-hover:enabled:bg-gray-800":"bg-gray-300 enabled:hover:bg-gray-400 active:bg-gray-500 group-hover:enabled:bg-gray-400",a.size==="md"?"h-5 w-8 border-[3px]":"h-4 w-[26px] border-2"]),o=x(()=>["pointer-events-none inline-block transform rounded-full bg-white shadow ring-0 transition duration-100 ease-in-out",a.size==="md"?"h-3.5 w-3.5":"h-3 w-3",a.size==="md"?a.modelValue?"translate-x-3":"translate-x-0":a.modelValue?"translate-x-2.5":"translate-x-0"]),i=x(()=>["font-medium leading-normal",a.disabled&&t.value===1?"text-gray-500":"text-gray-800",a.size==="md"?"text-lg":"text-base"]),f=x(()=>["max-w-xs text-p-base text-gray-700"]),g=x(()=>{const h=["flex justify-between"];return t.value===1?(h.push("group items-center space-x-3 cursor-pointer rounded focus-visible:bg-gray-100 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-gray-400"),h.push(a.disabled?"cursor-not-allowed":"hover:bg-gray-200 active:bg-gray-300"),h.push(a.size==="md"?"px-3 py-1.5":"px-2.5 py-1.5")):t.value===2&&(h.push("items-start"),h.push(a.size==="md"?"space-x-3.5":"space-x-2.5")),h}),v=x(()=>["flex flex-col text-left space-y-0.5"]);return(h,s)=>(y(),D(d(ct),{as:"div",tabindex:t.value==1?0:-1,onKeyup:s[1]||(s[1]=Ne(W(u=>l("update:modelValue",!h.modelValue),["self"]),["space"])),class:E(g.value)},{default:w(()=>[k("span",{class:E(v.value)},[a.label?(y(),D(d(pt),{key:0,as:"span",class:E(i.value)},{default:w(()=>[F($(a.label),1)]),_:1},8,["class"])):O("",!0),a.description?(y(),D(d(mt),{key:1,as:"span",class:E(f.value)},{default:w(()=>[F($(a.description),1)]),_:1},8,["class"])):O("",!0)],2),S(d(dt),{disabled:a.disabled,"model-value":h.modelValue,class:E(p.value),"onUpdate:modelValue":s[0]||(s[0]=u=>l("update:modelValue",!h.modelValue))},{default:w(()=>[k("span",{"aria-hidden":"true",class:E(o.value)},null,2)]),_:1},8,["disabled","model-value","class"])]),_:1},8,["tabindex","class"]))}});/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=ve("FilePenLineIcon",[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]]);/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=ve("MonitorPlayIcon",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]),gt={class:"space-y-4 text-base"},yt={key:0},bt={class:"mb-4"},_t={key:1,class:""},kt={class:"flex items-center"},xt={class:"border rounded-md p-2 mr-2"},Ct={class:"flex flex-col"},St={class:"text-sm text-ink-gray-4 mt-1"},wt={__name:"ChapterModal",props:Te({course:{type:String,required:!0},chapterDetail:{type:Object}},{modelValue:{},modelModifiers:{},outline:{},outlineModifiers:{}}),emits:["update:modelValue","update:outline"],setup(e){const r=ce(e,"modelValue"),a=ce(e,"outline");Ze();const l=e,t=ze({title:"",is_scorm_package:0,scorm_package:null}),p=N({url:"seminary.seminary.api.upsert_chapter",makeParams(s){var u;return{chapter_title:t.chapter_title,course:l.course,is_scorm_package:t.is_scorm_package,scorm_package:t.scorm_package,name:(u=l.chapterDetail)==null?void 0:u.name}}}),o=N({url:"frappe.client.insert",makeParams(s){return{doc:{doctype:"Course Schedule Chapter Reference",chapter:s.name,parent:l.course,parenttype:"Course Schedule",parentfield:"chapters"}}}}),i=s=>oe(this,null,function*(){p.submit({},{validate(){return f()},onSuccess:u=>{Qe("chapter_created"),o.submit({name:u.name},{onSuccess(m){g(),a.value.reload(),P(__("Success"),__("Chapter added successfully"),"check")},onError(m){var n;P(__("Error"),((n=m.messages)==null?void 0:n[0])||m,"x")}}),s()},onError(u){var m;P(__("Error"),((m=u.messages)==null?void 0:m[0])||u,"x")}})}),f=()=>{if(!t.chapter_title)return __("Chapter Title is required");if(t.is_scorm_package&&!t.scorm_package)return __("Please upload a SCORM package or uncheck the SCORM package option")},g=()=>{t.chapter_title="",t.is_scorm_package=0,t.scorm_package=null},v=s=>{p.submit({},{validate(){if(!t.chapter_title)return"Chapter Title is required"},onSuccess(){a.value.reload(),P(__("Success"),__("Chapter updated successfully"),"check"),s()},onError(u){var m;P(__("Error"),((m=u.messages)==null?void 0:m[0])||u,"x")}})};fe(()=>l.chapterDetail,s=>{t.chapter_title=s==null?void 0:s.chapter_title,t.is_scorm_package=s==null?void 0:s.is_scorm_package,t.scorm_package=s==null?void 0:s.scorm_package});const h=s=>{if(s.name.split(".").pop().toLowerCase()!=="zip")return __("Only zip files are allowed")};return(s,u)=>(y(),D(d(Be),{modelValue:r.value,"onUpdate:modelValue":u[4]||(u[4]=m=>r.value=m),options:{title:e.chapterDetail?s.__("Edit Chapter"):s.__("Add Chapter"),size:"lg",actions:[{label:e.chapterDetail?s.__("Edit"):s.__("Create"),variant:"solid",onClick:m=>e.chapterDetail?v(m):i(m)}]}},{"body-content":w(()=>[k("div",gt,[S(d(Ye),{label:"Title",modelValue:t.chapter_title,"onUpdate:modelValue":u[0]||(u[0]=m=>t.chapter_title=m),required:!0},null,8,["modelValue"]),S(d(ft),{size:"sm",label:s.__("SCORM Package"),description:s.__("Enable this only if you want to upload a SCORM package as a chapter."),modelValue:t.is_scorm_package,"onUpdate:modelValue":u[1]||(u[1]=m=>t.is_scorm_package=m)},null,8,["label","description","modelValue"]),t.is_scorm_package?(y(),L("div",yt,[t.scorm_package?(y(),L("div",_t,[k("div",kt,[k("div",xt,[S(d(he),{class:"h-5 w-5 stroke-1.5 text-ink-gray-7"})]),k("div",Ct,[k("span",null,$(t.scorm_package.file_name),1),k("span",St,$(d(Ae)(t.scorm_package.file_size)),1)]),S(d(Je),{onClick:u[3]||(u[3]=()=>t.scorm_package=null),class:"bg-surface-gray-3 rounded-md cursor-pointer stroke-1.5 w-5 h-5 p-1 ml-4"})])])):(y(),D(d(Ke),{key:0,fileTypes:[".zip"],validateFile:h,onSuccess:u[2]||(u[2]=m=>t.scorm_package=m)},{default:w(({file:m,progress:n,uploading:c,openFileSelector:C})=>[k("div",bt,[S(d(Z),{onClick:C,loading:c},{default:w(()=>[F($(c?`Uploading ${n}%`:"Upload an zip file"),1)]),_:2},1032,["onClick","loading"])])]),_:1}))])):O("",!0)])]),_:1},8,["modelValue","options"]))}},Dt={class:"text-base"},$t={class:"grid grid-cols-[70%,30%] mb-4 px-2"},Vt=["onClick"],Et={class:"flex ml-auto space-x-4"},Ot={class:"flex flex-col items-start text-sm leading-5 group"},Pt={class:"flex items-center"},Lt={key:0,class:"rounded-md bg-[#E6F4FF] p-2 w-full mt-2"},Mt={key:1,class:"rounded-md bg-[#E6F7F4] p-2 mt-2"},Nt={class:"flex mt-2 mb-4 pl-8"},qt={__name:"CourseOutline",props:{courseName:{type:String,required:!0},showOutline:{type:Boolean,default:!1},title:{type:String,default:""},allowEdit:{type:Boolean,default:!1},getProgress:{type:Boolean,default:!1}},setup(e){const r=Fe(),a=Re(),l=I("$user"),t=V(!1),p=V(null),o=e,i=N({url:"seminary.seminary.utils.get_course_outline",cache:["course_outline",o.courseName],params:{course:o.courseName,progress:o.getProgress},auto:!0});N({url:"seminary.seminary.utils.get_course_title",cache:["course_title",o.courseName],params:{course:o.courseName},auto:!0}),N({url:"seminary.seminary.api.delete_lesson",makeParams(n){return{lesson:n.lesson,chapter:n.chapter}},onSuccess(){i.reload(),P("Success","Lesson deleted successfully","check")}}),N({url:"seminary.seminary.api.update_lesson_index",makeParams(n){return{lesson:n.lesson,sourceChapter:n.sourceChapter,targetChapter:n.targetChapter,idx:n.idx}},onSuccess(){P("Success","Lesson moved successfully","check")}});const f=n=>n==r.params.chapterNumber||n==1,g=(n=null)=>{p.value=n,t.value=!0},v=()=>p.value,h=N({url:"seminary.seminary.api.delete_chapter",makeParams(n){return{chapter:n.chapter}},onSuccess(){i.reload(),P("Success","Chapter deleted successfully","check")}}),s=n=>{console.log("trashChapter called with:",n),Ue({title:__("Delete this chapter?"),message:__("Deleting this chapter will also delete all its lessons and permanently remove it from the course. This action cannot be undone. Are you sure you want to continue?"),actions:[{label:__("Delete"),theme:"red",variant:"solid",onClick(c){h.submit({chapter:n}),c()}}]})},u=n=>{if(n.is_scorm_package&&(event.preventDefault(),!o.allowEdit)){if(!l.data){P(__("You are not enrolled"),__("Please enroll for this course to view this lesson"),"alert-circle");return}a.push({name:"SCORMChapter",params:{courseName:o.courseName,chapterName:n.name}})}},m=n=>r.params.chapterNumber==n.split(".")[0]&&r.params.lessonNumber==n.split(".")[1];return(n,c)=>{var j;const C=Ie("router-link");return y(),L(q,null,[k("div",Dt,[k("div",$t,[c[3]||(c[3]=k("div",{class:"font-semibold text-lg leading-5 text-ink-gray-9"},null,-1)),S(d(Z),{size:"sm",onClick:c[0]||(c[0]=_=>g())},{default:w(()=>[F($(n.__("Add Chapter")),1)]),_:1})]),k("div",{class:E({"border-2 rounded-md py-2 px-2":e.showOutline&&((j=d(i).data)==null?void 0:j.length)})},[(y(!0),L(q,null,de(d(i).data,(_,Q)=>(y(),D(d(rt),{key:_.name,defaultOpen:f(_.idx)},{default:w(({open:U})=>[S(d(ot),{ref_for:!0,ref:"",class:"flex items-center w-full p-2 group"},{default:w(()=>[S(d(We),{class:E([{"rotate-90 transform duration-200":U,"duration-200":!U,hidden:_.is_scorm_package,open:Q==1},"h-4 w-4 text-ink-gray-9 stroke-1"])},null,8,["class"]),k("div",{class:"text-base text-left text-ink-gray-9 font-medium leading-5 ml-2",onClick:b=>u(_)},$(_.chapter_title),9,Vt),k("div",Et,[S(d(pe),{text:n.__("Edit Chapter"),placement:"bottom"},{default:w(()=>[S(d(vt),{onClick:W(b=>g(_),["prevent"]),class:"h-4 w-4 text-ink-gray-9 invisible group-hover:visible"},null,8,["onClick"])]),_:2},1032,["text"]),S(d(pe),{text:n.__("Delete Chapter"),placement:"bottom"},{default:w(()=>[S(d(qe),{onClick:W(b=>s(_.name),["prevent"]),class:"h-4 w-4 text-red-500 invisible group-hover:visible"},null,8,["onClick"])]),_:2},1032,["text"])])]),_:2},1536),_.is_scorm_package?O("",!0):(y(),D(d(nt),{key:0},{default:w(()=>[(y(!0),L(q,null,de(_.lessons,b=>(y(),L("div",{key:b.name,class:E(["outline-lesson pl-8 py-2 pr-4 text-ink-gray-9",m(b.number)?"bg-surface-selected":""])},[S(C,{to:{name:"Lesson",params:{courseName:e.courseName,chapterNumber:b.number.split(".")[0],lessonNumber:b.number.split(".")[1]}}},{default:w(()=>[k("div",Ot,[k("div",Pt,[b.icon==="icon-youtube"?(y(),D(d(ht),{key:0,class:"h-4 w-4 stroke-1 mr-2"})):b.icon==="icon-quiz"?(y(),D(d(He),{key:1,class:"h-4 w-4 stroke-1 mr-2"})):b.icon==="icon-exam"?(y(),D(d(et),{key:2,class:"h-4 w-4 stroke-1 mr-2"})):b.icon==="icon-assignment"?(y(),D(d(tt),{key:3,class:"h-4 w-4 stroke-1 mr-2"})):b.icon==="icon-list"?(y(),D(d(he),{key:4,class:"h-4 w-4 text-ink-gray-9 stroke-1 mr-2"})):O("",!0),F(" "+$(b.lesson_title)+" ",1),b.is_complete?(y(),D(d(at),{key:5,class:"h-4 w-4 text-green-700 ml-2"})):O("",!0)]),b.preview?(y(),L("div",Lt,$(b.preview),1)):O("",!0),b.due_date?(y(),L("div",Mt,$(n.__("Due: ")+new Intl.DateTimeFormat(d(l).data.language||"en-US",{dateStyle:"medium"}).format(new Date(b.due_date))),1)):O("",!0)])]),_:2},1032,["to"])],2))),128)),k("div",Nt,[_.is_scorm_package?O("",!0):(y(),D(C,{key:0,to:{name:"LessonForm",params:{courseName:e.courseName,chapterNumber:_.idx,lessonNumber:_.lessons.length+1}}},{default:w(()=>[S(d(Z),null,{default:w(()=>[F($(n.__("Add Lesson")),1)]),_:1})]),_:2},1032,["to"]))])]),_:2},1024))]),_:2},1032,["defaultOpen"]))),128))],2)]),S(wt,{modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=_=>t.value=_),outline:d(i),"onUpdate:outline":c[2]||(c[2]=_=>je(i)?i.value=_:null),course:e.courseName,chapterDetail:v()},null,8,["modelValue","outline","course","chapterDetail"])],64)}}};export{qt as _};
