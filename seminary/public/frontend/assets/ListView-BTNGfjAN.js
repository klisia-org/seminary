import{i as x,o as r,c,am as f,a,t as z,e as t,f as m,J as k,_ as T,g as b,r as O,l as g,an as U,ao as $,ap as S,K as R,R as M,F as L,k as K,q as N,w as A,aq as j,M as D,E as F,h as C,A as I,ar as P,as as X,d as J,n as Y,Y as Z}from"./index-flDXq_bA.js";import{_ as H}from"./Checkbox.vue_vue_type_script_setup_true_lang-DT0r2lvZ.js";const Q={class:"flex h-full w-full flex-col items-center justify-center text-base"},ee={class:"text-xl font-medium"},te={class:"mt-1 text-base text-gray-600"},se={__name:"ListEmptyState",setup(o){const s=x("list");return(e,n)=>(r(),c("div",Q,[f(e.$slots,"default",{},()=>[a("div",ee,z(t(s).options.emptyState.title),1),a("div",te,z(t(s).options.emptyState.description),1),t(s).options.emptyState.button?(r(),m(T,k({key:0},t(s).options.emptyState.button,{class:"mt-4"}),null,16)):b("",!0)])]))}};function q(o,s=!0){let e=s?"14px ":"",n=o.map(l=>{let i=l.width||1;return typeof i=="number"?i+"fr":i}).join(" ");return e+n}const V={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},oe={class:"truncate"},le={__name:"ListHeaderItem",props:{item:{type:Object,required:!0},debounce:{type:Number,default:1e3}},emits:["columnWidthUpdated"],setup(o,{emit:s}){const e=o,n=s,l=O(null),i=O(null),y=g(()=>{if(typeof e.item.width=="string"){const p=parseInt(e.item.width);if(e.item.width.includes("rem"))return p*16;if(e.item.width.includes("px"))return p}return i.value.offsetWidth}),w=p=>{const W=p.clientX,u=y.value,v=G=>{document.body.classList.add("select-none"),document.body.classList.add("cursor-col-resize"),l.value.style.backgroundColor="rgb(199 199 199)";let E=u+(G.clientX-W);e.item.width=`${E<50?50:E}px`,_(e.item.width)},h=()=>{document.body.classList.remove("select-none"),document.body.classList.remove("cursor-col-resize"),l.value.style.backgroundColor="",window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",h)};window.addEventListener("mousemove",v),window.addEventListener("mouseup",h)},_=U(p=>{e.item.width=p,n("columnWidthUpdated")},e.debounce),d=x("list");return(p,W)=>(r(),c("div",{ref_key:"columnRef",ref:i,class:R(["group flex items-center",o.item.align?t(V)[o.item.align]:"justify-between"])},[a("div",{class:R(["flex items-center space-x-2 truncate text-sm text-gray-600",p.$attrs.class])},[f(p.$slots,"prefix",$(S({item:o.item}))),f(p.$slots,"default",{},()=>[a("div",oe,z(o.item.label),1)]),f(p.$slots,"suffix",$(S({item:o.item})))],2),t(d).options.resizeColumn?f(p.$slots,"resizer",$(k({key:0},{item:o.item})),()=>[a("div",{class:"flex h-4 w-2 cursor-col-resize justify-center",onMousedown:w},[a("div",{ref_key:"resizer",ref:l,class:"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400"},null,512)],32)]):b("",!0)],2))}},re={__name:"ListHeader",emits:["columnWidthUpdated"],setup(o,{emit:s}){const e=s,n=x("list");return(l,i)=>(r(),c("div",{class:"mb-2 grid items-center space-x-4 rounded bg-gray-100 p-2",style:N({gridTemplateColumns:t(q)(t(n).columns,t(n).options.selectable)})},[t(n).options.selectable?(r(),m(H,{key:0,class:"cursor-pointer duration-300",modelValue:t(n).allRowsSelected,onClick:M(t(n).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):b("",!0),f(l.$slots,"default",{},()=>[(r(!0),c(L,null,K(t(n).columns,y=>(r(),m(le,{key:y.key,item:y,onColumnWidthUpdated:w=>e("columnWidthUpdated",y)},null,8,["item","onColumnWidthUpdated"]))),128))])],4))}},ne={class:"truncate text-base"},ie={__name:"ListRowItem",props:{column:{type:Object,default:{}},row:{type:Object,default:{}},item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(o){const s=o,e=g(()=>n(s.item).label||"");function n(i){return i&&typeof i=="object"?i:{label:i}}const l=x("list");return(i,y)=>(r(),m(j(t(l).options.showTooltip?t(D):"div"),$(S(t(l).options.showTooltip?{text:e.value}:{})),{default:A(()=>[a("div",{class:R(["flex items-center space-x-2",t(V)[o.align]])},[f(i.$slots,"prefix",{},()=>[o.column.prefix?(r(),m(j(typeof o.column.prefix=="function"?o.column.prefix({row:o.row}):o.column.prefix),{key:0})):b("",!0)]),f(i.$slots,"default",$(S({label:e.value})),()=>{var w;return[a("div",ne,z((w=o.column)!=null&&w.getLabel?o.column.getLabel({row:o.row}):e.value),1)]}),f(i.$slots,"suffix")],2)]),_:3},16))}},ae={key:0,class:"mx-2 h-px border-t border-gray-200"},B={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(o){const s=o,e=x("list"),n=g(()=>{var w;return(w=e.value.rows)!=null&&w.length?e.value.rows[e.value.rows.length-1][e.value.rowKey]===s.row[e.value.rowKey]:!1}),l=g(()=>e.value.selections.has(s.row[e.value.rowKey])),i=g(()=>e.value.options.getRowRoute||e.value.options.onRowClick),y=g(()=>typeof e.value.options.rowHeight=="number"?`${e.value.options.rowHeight}px`:e.value.options.rowHeight);return(w,_)=>(r(),m(j(t(e).options.getRowRoute?"router-link":"div"),k({class:[{"cursor-pointer":i.value},"flex flex-col transition-all duration-300 ease-in-out"]},{to:t(e).options.getRowRoute?t(e).options.getRowRoute(o.row):void 0,onClick:t(e).options.onRowClick?()=>t(e).options.onRowClick(o.row):void 0}),{default:A(()=>[(r(),m(j(t(e).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:A(()=>[a("div",{class:R(["grid items-center space-x-4 rounded px-2",[l.value?"bg-gray-100":"",i.value?l.value?"hover:bg-gray-200":"hover:bg-gray-50":""]]),style:N({height:y.value,gridTemplateColumns:t(q)(t(e).columns,t(e).options.selectable)})},[t(e).options.selectable?(r(),m(H,{key:0,modelValue:t(e).selections.has(o.row[t(e).rowKey]),onClick:_[0]||(_[0]=M(d=>t(e).toggleRow(o.row[t(e).rowKey]),["stop"])),class:"cursor-pointer duration-300"},null,8,["modelValue"])):b("",!0),(r(!0),c(L,null,K(t(e).columns,(d,p)=>(r(),c("div",{key:d.key,class:R([t(V)[d.align],p==0?"text-gray-900":"text-gray-700"])},[f(w.$slots,"default",k({ref_for:!0},{idx:p,column:d,item:o.row[d.key]}),()=>[t(e).slots.cell?(r(),m(j(t(e).slots.cell),k({key:0,ref_for:!0},{column:d,row:o.row,item:o.row[d.key],align:d.align}),null,16)):(r(),m(ie,{key:1,column:d,row:o.row,item:o.row[d.key],align:d.align},null,8,["column","row","item","align"]))])],2))),128))],6),n.value?b("",!0):(r(),c("div",ae))]),_:3}))]),_:3},16,["class"]))}},ue={class:"h-full overflow-y-auto"},ce={__name:"ListRows",setup(o){const s=x("list");return(e,n)=>(r(),c("div",ue,[f(e.$slots,"default",{},()=>[(r(!0),c(L,null,K(t(s).rows,l=>(r(),m(B,{key:l[t(s).rowKey],row:l},null,8,["row"]))),128))])]))}},de={},me={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"};function fe(o,s){return r(),c("svg",me,s[0]||(s[0]=[a("path",{fill:"currentColor",d:"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z"},null,-1)]))}const pe=F(de,[["render",fe]]),we={class:"flex items-center"},ge={class:"w-full py-1.5 pr-2"},ye={key:1,class:"text-base font-medium leading-6"},ve={__name:"ListGroupHeader",props:{group:{type:Object,required:!0}},setup(o){const s=o,e=x("list");function n(){s.group.collapsed==null&&(s.group.collapsed=!1),s.group.collapsed=!s.group.collapsed}return(l,i)=>(r(),c(L,null,[a("div",we,[a("button",{onClick:n,class:"ml-[3px] mr-[11px] rounded p-1 hover:bg-gray-100"},[C(pe,{class:R(["h-4 w-4 text-gray-900 transition-transform duration-200",[o.group.collapsed?"-rotate-90":""]])},null,8,["class"])]),f(l.$slots,"default",{},()=>[a("div",ge,[t(e).slots["group-header"]?(r(),m(j(t(e).slots["group-header"]),$(k({key:0},{group:o.group})),null,16)):(r(),c("span",ye,z(o.group.group),1))])])]),i[0]||(i[0]=a("div",{class:"mx-2 h-px border-t border-gray-200"},null,-1))],64))}},he={key:0,class:"mb-5 mt-2"},be={__name:"ListGroupRows",props:{group:{type:Object,required:!0}},setup(o){const s=x("list");return(e,n)=>o.group.collapsed?b("",!0):(r(),c("div",he,[f(e.$slots,"default",{},()=>[(r(!0),c(L,null,K(o.group.rows,l=>(r(),m(B,{key:l[t(s).rowKey],row:l},null,8,["row"]))),128))])]))}},xe={class:"h-full overflow-y-auto"},$e={__name:"ListGroups",setup(o){const s=x("list");return(e,n)=>(r(),c("div",xe,[(r(!0),c(L,null,K(t(s).rows,l=>(r(),c("div",{key:l.group},[f(e.$slots,"default",{},()=>[C(ve,{group:l},{default:A(()=>[e.$slots["group-header"]?f(e.$slots,"group-header",k({key:0,ref_for:!0},{group:l})):b("",!0)]),_:2},1032,["group"]),C(be,{group:l},null,8,["group"])])]))),128))]))}},Re={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},_e={class:"flex flex-1 justify-between border-r border-gray-300 text-gray-900"},ke={class:"flex items-center space-x-3"},Ce={class:"mr-3"},Se={class:"flex items-center space-x-1"},Le=Object.assign({inheritAttrs:!1},{__name:"ListSelectBanner",setup(o){const s=x("list");let e=g(()=>{let n=s.value.selections.size===1?"Row":"Rows";return`${s.value.selections.size} ${n} selected`});return(n,l)=>(r(),m(P,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:A(()=>[t(s).selections.size?(r(),c("div",Re,[a("div",{class:R(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-white px-4 py-2 shadow-2xl",n.$attrs.class])},[f(n.$slots,"default",$(S({selections:t(s).selections,allRowsSelected:t(s).allRowsSelected,selectAll:()=>t(s).toggleAllRows(!0),unselectAll:()=>t(s).toggleAllRows(!1)})),()=>[a("div",_e,[a("div",ke,[C(H,{modelValue:!0,disabled:!0,class:"text-gray-900"}),a("div",null,z(t(e)),1)]),a("div",Ce,[f(n.$slots,"actions",$(S({selections:t(s).selections,allRowsSelected:t(s).allRowsSelected,selectAll:()=>t(s).toggleAllRows(!0),unselectAll:()=>t(s).toggleAllRows(!1)})))])]),a("div",Se,[C(T,{class:R(["w- text-gray-700",t(s).allRowsSelected?"cursor-not-allowed":""]),disabled:t(s).allRowsSelected,variant:"ghost",onClick:l[0]||(l[0]=i=>t(s).toggleAllRows(!0))},{default:A(()=>l[2]||(l[2]=[I(" Select all ")])),_:1},8,["disabled","class"]),C(T,{icon:"x",variant:"ghost",onClick:l[1]||(l[1]=i=>t(s).toggleAllRows(!1))})])])],2)])):b("",!0)]),_:3}))}}),je={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},Ke=Object.assign({inheritAttrs:!1},{__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:()=>({getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:40,emptyState:{title:"No Data",description:"No data available"}})}},emits:["update:selections"],setup(o,{emit:s}){const e=o,n=X();let l=J(new Set);const i=s;Y(l,u=>{i("update:selections",u)});let y=g(()=>{function u(h){return h===void 0?!0:h}function v(h){return h===void 0?!1:h}return{getRowRoute:e.options.getRowRoute||null,onRowClick:e.options.onRowClick||null,showTooltip:u(e.options.showTooltip),selectable:u(e.options.selectable),resizeColumn:v(e.options.resizeColumn),rowHeight:e.options.rowHeight||40,emptyState:e.options.emptyState}});const w=g(()=>e.rows.length?d.value?l.size===e.rows.reduce((u,v)=>u+v.rows.length,0):l.size===e.rows.length:!1),_=g(()=>y.value.selectable);let d=g(()=>e.rows.every(u=>u.group&&u.rows&&Array.isArray(u.rows)));function p(u){l.delete(u)||l.add(u)}function W(u){if(!u||w.value){l.clear();return}if(d.value){e.rows.forEach(v=>{v.rows.forEach(h=>l.add(h[e.rowKey]))});return}e.rows.forEach(v=>l.add(v[e.rowKey]))}return Z("list",g(()=>({rowKey:e.rowKey,rows:e.rows,columns:e.columns,options:y.value,selections:l,allRowsSelected:w.value,slots:n,toggleRow:p,toggleAllRows:W}))),(u,v)=>(r(),c("div",je,[a("div",{class:R(["flex w-max min-w-full flex-col overflow-y-hidden",u.$attrs.class])},[f(u.$slots,"default",$(S({showGroupedRows:t(d),selectable:_.value})),()=>[C(re),e.rows.length?(r(),c(L,{key:0},[t(d)?(r(),m($e,{key:0})):(r(),m(ce,{key:1}))],64)):(r(),m(se,{key:1})),_.value?(r(),m(Le,{key:2})):b("",!0)])],2)]))}});export{le as _,re as a,B as b,ie as c,Ke as d,ce as e,Le as f};
