import{F as x,bk as C,r as y,av as A,c as D,I as B,a8 as $,t as b,b as p,g as r,e as l,u as i,w as S,C as I,D as c,L as j,aR as V,H as w,O as q}from"./vendor-CA0oFrry.js";import{c as g,u as L}from"./frappe-ui-BC6vlBMo.js";import{j as R}from"./index-Bde-fBPp.js";import"./Link-Dl_y0tb2.js";import"./index-aYBfEZmz.js";/* empty css                                                                     */const F={class:"flex justify-between sticky top-0 z-10 border-b bg-surface-white px-3 py-2.5 sm:px-5"},G={class:"flex items-center justify-between mb-5"},M={class:"w-1/3"},z={for:"submissionDropdown",class:"block text-sm font-medium text-gray-700"},E=["value"],H={class:"overflow-hidden h-[calc(100vh-3.2rem)]"},Q={__name:"AssignmentSubmission",props:{assignmentID:{type:String,required:!0},submissionName:{type:String,required:!0},courseName:{type:String,required:!0}},setup(_){const f=x(),v=C("$user"),a=_,o=y(a.submissionName),N=y(a.submissionName);g({url:"frappe.client.get_value",params:{doctype:"Assignment Activity",fieldname:"title",filters:{name:a.assignmentID}},auto:!0});const t=g({url:"frappe.client.get_list",params:{doctype:"Assignment Submission",filters:[["assignment","=",a.assignmentID],["course","=",a.courseName]],fields:["name","member_name"],order_by:"member_name asc"},auto:!0});console.log("Submission List:",t),A(()=>{var e,s;!((e=v.data)!=null&&e.is_instructor)&&!((s=v.data)!=null&&s.is_moderator)&&f.push({name:"Courses"})});const u=D(()=>{var e;return(e=t.data)==null?void 0:e.findIndex(s=>s.name===o.value)});B(o,e=>{N.value=e,f.push({name:"AssignmentSubmission",params:{assignmentID:a.assignmentID,courseName:a.courseName,submissionName:e}})});const d=g({url:"seminary.seminary.utils.get_course_details",cache:["course",a.courseName],params:{course:a.courseName},auto:!0}),k=D(()=>{var s;let e=[{label:"Courses",route:{name:"Courses"}}];return e.push({label:(s=d==null?void 0:d.data)==null?void 0:s.course,route:{name:"CourseDetail",params:{courseName:a.courseName}}}),e.push({label:"Gradebook",route:{name:"Gradebook",params:{courseName:a.courseName}}}),e.push({label:"Assignment Submissions",route:{name:"AssignmentSubmissionCS",params:{courseName:a.courseName,assignmentID:a.assignmentID}}}),e});return(e,s)=>{const h=$("Button");return p(),b(w,null,[r("header",F,[l(i(L),{items:k.value},null,8,["items"])]),r("div",G,[l(h,{variant:"subtle",disabled:u.value===0,onClick:s[0]||(s[0]=n=>{var m;return o.value=(m=i(t).data[u.value-1])==null?void 0:m.name})},{default:S(()=>[I(c(e.__("Previous")),1)]),_:1},8,["disabled"]),r("div",M,[r("label",z,c(e.__("Select Submission")),1),j(r("select",{id:"submissionDropdown","onUpdate:modelValue":s[1]||(s[1]=n=>o.value=n),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"},[(p(!0),b(w,null,q(i(t).data,n=>(p(),b("option",{key:n.name,value:n.name},c(n.member_name),9,E))),128))],512),[[V,o.value]])]),l(h,{variant:"subtle",disabled:!i(t).data||u.value===i(t).data.length-1,onClick:s[2]||(s[2]=n=>{var m;return o.value=(m=i(t).data[u.value+1])==null?void 0:m.name})},{default:S(()=>[I(c(e.__("Next")),1)]),_:1},8,["disabled"])]),r("div",H,[l(R,{assignmentID:_.assignmentID,submissionName:N.value},null,8,["assignmentID","submissionName"])])],64)}}};export{Q as default};
//# sourceMappingURL=AssignmentSubmission-CPoZbMP1.js.map
