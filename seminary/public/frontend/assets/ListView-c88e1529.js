import{i as R,o as r,d,N as w,e as m,t as T,b as s,f as g,a0 as L,_ as E,g as k,r as O,l as y,ad as F,Q as $,R as j,U as C,P as V,F as z,k as K,q as N,ae as H,h as _,w as W,Z as X,E as Z,A as Q,af as J,ag as Y,a as ee,n as G,a3 as te}from"./index-aa2d5c8c.js";import{_ as B}from"./Checkbox.vue_vue_type_script_setup_true_lang-98ed7af9.js";const se={class:"flex h-full w-full flex-col items-center justify-center text-base"},oe={class:"text-xl font-medium text-ink-gray-8 mt-6"},le={class:"mt-1 text-base text-ink-gray-5"},ne={__name:"ListEmptyState",setup(l){const t=R("list");return(e,o)=>(r(),d("div",se,[w(e.$slots,"default",{},()=>[m("div",oe,T(s(t).options.emptyState.title),1),m("div",le,T(s(t).options.emptyState.description),1),s(t).options.emptyState.button?(r(),g(s(E),L({key:0},s(t).options.emptyState.button,{class:"mt-4"}),null,16)):k("",!0)])]))}};function M(l,t=!0){let e=t?"14px ":"",o=l.map(i=>{let a=i.width||1;return typeof a=="number"?a+"fr":a}).join(" ");return e+o}const U={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},re={class:"truncate"},ie={__name:"ListHeaderItem",props:{item:{type:Object,required:!0},debounce:{type:Number,default:1e3}},emits:["columnWidthUpdated"],setup(l,{emit:t}){const e=l,o=t,i=O(null),a=O(null),c=y(()=>{if(typeof e.item.width=="string"){const u=parseInt(e.item.width);if(e.item.width.includes("rem"))return u*16;if(e.item.width.includes("px"))return u}return a.value.offsetWidth}),b=u=>{const p=u.clientX,h=c.value,x=f=>{document.body.classList.add("select-none"),document.body.classList.add("cursor-col-resize"),i.value.style.backgroundColor="rgb(199 199 199)";let v=h+(f.clientX-p);e.item.width=`${v<50?50:v}px`,S(e.item.width)},n=()=>{document.body.classList.remove("select-none"),document.body.classList.remove("cursor-col-resize"),i.value.style.backgroundColor="",window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",n)};window.addEventListener("mousemove",x),window.addEventListener("mouseup",n)},S=F(u=>{e.item.width=u,o("columnWidthUpdated")},e.debounce),A=R("list");return(u,p)=>(r(),d("div",{ref_key:"columnRef",ref:a,class:C(["group relative flex items-center",l.item.align?s(U)[l.item.align]:"justify-between"])},[m("div",{class:C(["flex items-center space-x-2 truncate text-sm text-ink-gray-5",u.$attrs.class])},[w(u.$slots,"prefix",$(j({item:l.item}))),w(u.$slots,"default",{},()=>[m("div",re,T(l.item.label),1)]),w(u.$slots,"suffix",$(j({item:l.item})))],2),s(A).options.resizeColumn?w(u.$slots,"resizer",$(L({key:0},{item:l.item})),()=>[m("div",{class:"flex h-4 absolute -right-2 w-2 cursor-col-resize justify-center",onMousedown:b},[m("div",{ref_key:"resizer",ref:i,class:"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400"},null,512)],32)]):k("",!0)],2))}},ae={__name:"ListHeader",emits:["columnWidthUpdated"],setup(l,{emit:t}){const e=t,o=R("list");return(i,a)=>(r(),d("div",{class:"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2",style:N({gridTemplateColumns:s(M)(s(o).columns,s(o).options.selectable)})},[s(o).options.selectable?(r(),g(B,{key:0,class:"cursor-pointer duration-300",modelValue:s(o).allRowsSelected,onClick:V(s(o).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):k("",!0),w(i.$slots,"default",{},()=>[(r(!0),d(z,null,K(s(o).columns,c=>(r(),g(ie,{key:c.key,item:c,onColumnWidthUpdated:b=>e("columnWidthUpdated",c)},null,8,["item","onColumnWidthUpdated"]))),128))])],4))}},ue={class:"truncate text-base"},ce={__name:"ListRowItem",props:{column:{type:Object,default:{}},row:{type:Object,default:{}},item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(l){const t=l,e=y(()=>{var c,b;return(c=t.column)!=null&&c.getLabel?(b=t.column)==null?void 0:b.getLabel({row:t.row}):i(t.item).label||""}),o=y(()=>a.value.options.showTooltip?t.column.getTooltip?t.column.getTooltip(t.row):i(t.item).label:"");function i(c){return c&&typeof c=="object"?c:{label:c}}const a=R("list");return(c,b)=>(r(),d("div",{class:C(["flex items-center space-x-2",s(U)[l.align]])},[w(c.$slots,"prefix",{},()=>[l.column.prefix?(r(),g(H(typeof l.column.prefix=="function"?l.column.prefix({row:l.row}):l.column.prefix),{key:0})):k("",!0)]),_(s(X),$(j(s(a).options.showTooltip?{text:o.value}:{text:""})),{default:W(()=>[w(c.$slots,"default",$(j({label:e.value})),()=>[m("div",ue,T(e.value),1)])]),_:3},16),w(c.$slots,"suffix")],2))}},q={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(l){const t=l,e=R("list"),o=y(()=>{var u;return(u=e.value.rows)!=null&&u.length?e.value.rows[e.value.rows.length-1][e.value.rowKey]===t.row[e.value.rowKey]:!1}),i=y(()=>e.value.selections.has(t.row[e.value.rowKey])),a=y(()=>e.value.options.enableActive&&e.value.activeRow.value===t.row.name),c=y(()=>e.value.options.getRowRoute||e.value.options.onRowClick),b=y(()=>typeof e.value.options.rowHeight=="number"?`${e.value.options.rowHeight}px`:e.value.options.rowHeight),S=y(()=>{var h,x,n;if(!i.value)return"rounded";const u=[...e.value.selections];let p=(h=e.value.rows[0])!=null&&h.group?e.value.rows.map(f=>f.rows):[e.value.rows];for(let f of p){let v=f.findIndex(P=>P==t.row);if(v===-1)continue;let D=!u.includes((x=f[v+1])==null?void 0:x.name),I=!u.includes((n=f[v-1])==null?void 0:n.name);return(D?"rounded-b ":"")+(I?"rounded-t":"")}}),A=(u,p)=>{e.value.options.onRowClick&&e.value.options.onRowClick(u,p),e.value.activeRow.value===u.name?e.value.activeRow.value=null:e.value.activeRow.value=u.name};return(u,p)=>(r(),g(H(s(e).options.getRowRoute?"router-link":"div"),L({class:[[S.value,i.value||a.value?"bg-surface-gray-2":"",c.value?"cursor-pointer":"",c.value?i.value||a.value?"hover:bg-surface-gray-3":"hover:bg-surface-menu-bar":""],"flex flex-col transition-all duration-300 ease-in-out"]},{to:s(e).options.getRowRoute?s(e).options.getRowRoute(l.row):void 0,onClick:h=>A(l.row,h)}),{default:W(()=>[(r(),g(H(s(e).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:W(()=>{var h,x;return[m("div",{class:"grid items-center space-x-4 px-2",style:N({height:b.value,gridTemplateColumns:s(M)(s(e).columns,s(e).options.selectable)})},[s(e).options.selectable?(r(),d("div",{key:0,class:"w-fit pr-2 py-3 flex",onClick:p[1]||(p[1]=V(()=>{},["stop","prevent"])),onDblclick:p[2]||(p[2]=V(()=>{},["stop"]))},[_(B,{modelValue:i.value,class:"cursor-pointer duration-300",onClick:p[0]||(p[0]=V(n=>s(e).toggleRow(l.row[s(e).rowKey]),["stop"]))},null,8,["modelValue"])],32)):k("",!0),(r(!0),d(z,null,K(s(e).columns,(n,f)=>(r(),d("div",{key:n.key,class:C([s(U)[n.align],f==0?"text-ink-gray-9":"text-ink-gray-7"])},[w(u.$slots,"default",L({ref_for:!0},{idx:f,column:n,item:l.row[n.key],isActive:a.value}),()=>[s(e).slots.cell?(r(),g(H(s(e).slots.cell),L({key:0,ref_for:!0},{column:n,row:l.row,item:l.row[n.key],align:n.align}),null,16)):(r(),g(ce,{key:1,column:n,row:l.row,item:l.row[n.key],align:n.align},null,8,["column","row","item","align"]))])],2))),128))],4),o.value?k("",!0):(r(),d("div",{key:0,class:C(["h-px border-t",S.value==="rounded"||(x=(h=S.value)==null?void 0:h.includes)!=null&&x.call(h,"rounded-b")?"mx-2 border-outline-gray-1":"border-t-[--surface-gray-2]"])},null,2))]}),_:3}))]),_:3},16,["class"]))}},de={class:"h-full overflow-y-auto"},fe={__name:"ListRows",setup(l){const t=R("list");return(e,o)=>(r(),d("div",de,[w(e.$slots,"default",{},()=>[(r(!0),d(z,null,K(s(t).rows,i=>(r(),g(q,{key:i[s(t).rowKey],row:i},null,8,["row"]))),128))])]))}},me={},pe={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"};function we(l,t){return r(),d("svg",pe,[...t[0]||(t[0]=[m("path",{fill:"currentColor",d:"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z"},null,-1)])])}const ve=Z(me,[["render",we]]),ge={class:"flex items-center"},ye={class:"w-full py-1.5 pr-2"},he={key:1,class:"text-base font-medium leading-6"},be={__name:"ListGroupHeader",props:{group:{type:Object,required:!0}},setup(l){const t=l,e=R("list");function o(){t.group.collapsed==null&&(t.group.collapsed=!1),t.group.collapsed=!t.group.collapsed}return(i,a)=>(r(),d(z,null,[m("div",ge,[m("button",{onClick:o,class:"ml-[3px] mr-[11px] rounded p-1 hover:bg-surface-gray-2"},[_(ve,{class:C(["h-4 w-4 text-ink-gray-6 transition-transform duration-200",[l.group.collapsed?"-rotate-90":""]])},null,8,["class"])]),w(i.$slots,"default",{},()=>[m("div",ye,[s(e).slots["group-header"]?(r(),g(H(s(e).slots["group-header"]),$(L({key:0},{group:l.group})),null,16)):(r(),d("span",he,T(l.group.group),1))])])]),a[0]||(a[0]=m("div",{class:"mx-2 h-px border-t border-outline-gray-modals"},null,-1))],64))}},xe={key:0,class:"mb-5 mt-2"},ke={__name:"ListGroupRows",props:{group:{type:Object,required:!0}},setup(l){const t=R("list");return(e,o)=>l.group.collapsed?k("",!0):(r(),d("div",xe,[w(e.$slots,"default",{},()=>[(r(!0),d(z,null,K(l.group.rows,i=>(r(),g(q,{key:i[s(t).rowKey],row:i},null,8,["row"]))),128))])]))}},Re={class:"h-full overflow-y-auto"},$e={__name:"ListGroups",setup(l){const t=R("list");return(e,o)=>(r(),d("div",Re,[(r(!0),d(z,null,K(s(t).rows,i=>(r(),d("div",{key:i.group},[w(e.$slots,"default",{},()=>[_(be,{group:i},{default:W(()=>[e.$slots["group-header"]?w(e.$slots,"group-header",L({key:0,ref_for:!0},{group:i})):k("",!0)]),_:2},1032,["group"]),_(ke,{group:i},null,8,["group"])])]))),128))]))}},_e={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},Ce={class:"flex flex-1 justify-between border-r border-outline-gray-2 text-ink-gray-9"},Se={class:"flex items-center space-x-3"},Ae={class:"mr-3"},Le={class:"flex items-center space-x-1"},je=Object.assign({inheritAttrs:!1},{__name:"ListSelectBanner",setup(l){const t=R("list");let e=y(()=>t.value.options.selectionText(t.value.selections.size));return(o,i)=>(r(),g(J,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:W(()=>[s(t).selections.size?(r(),d("div",_e,[m("div",{class:C(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-surface-white px-4 py-2 shadow-2xl",o.$attrs.class])},[w(o.$slots,"default",$(j({selections:s(t).selections,allRowsSelected:s(t).allRowsSelected,selectAll:()=>s(t).toggleAllRows(!0),unselectAll:()=>s(t).toggleAllRows(!1)})),()=>[m("div",Ce,[m("div",Se,[_(B,{modelValue:!0,disabled:!0,class:"text-ink-gray-9"}),m("div",null,T(s(e)),1)]),m("div",Ae,[w(o.$slots,"actions",$(j({selections:s(t).selections,allRowsSelected:s(t).allRowsSelected,selectAll:()=>s(t).toggleAllRows(!0),unselectAll:()=>s(t).toggleAllRows(!1)})))])]),m("div",Le,[_(s(E),{class:C(["w- text-ink-gray-7",s(t).allRowsSelected?"cursor-not-allowed":""]),disabled:s(t).allRowsSelected,variant:"ghost",onClick:i[0]||(i[0]=a=>s(t).toggleAllRows(!0))},{default:W(()=>[...i[2]||(i[2]=[Q(" Select all ",-1)])]),_:1},8,["disabled","class"]),_(s(E),{icon:"x",variant:"ghost",onClick:i[1]||(i[1]=a=>s(t).toggleAllRows(!1))})])])],2)])):k("",!0)]),_:3}))}}),ze={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},He=Object.assign({inheritAttrs:!1},{__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:()=>({getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:40,emptyState:{title:"No Data",description:"No data available"}})}},emits:["update:selections","update:active-row"],setup(l,{expose:t,emit:e}){const o=l,i=Y();let a=ee(new Set),c=O(null);const b=e;G(a,n=>{a.size&&(c.value=null),b("update:selections",n)}),G(c,n=>{b("update:active-row",n)});let S=y(()=>{function n(v){return v===void 0?!0:v}function f(v){return v===void 0?!1:v}return{getRowRoute:o.options.getRowRoute||null,onRowClick:o.options.onRowClick||null,showTooltip:n(o.options.showTooltip),selectionText:o.options.selectionText||(v=>v===1?"1 row selected":`${v} rows selected`),enableActive:f(o.options.enableActive),selectable:n(o.options.selectable),resizeColumn:f(o.options.resizeColumn),rowHeight:o.options.rowHeight||40,emptyState:o.options.emptyState}});const A=y(()=>o.rows.length?p.value?a.size===o.rows.reduce((n,f)=>n+f.rows.length,0):a.size===o.rows.length:!1),u=y(()=>S.value.selectable);let p=y(()=>o.rows.every(n=>n.group&&n.rows&&Array.isArray(n.rows)));function h(n){a.delete(n)||a.add(n)}function x(n){if(!n||A.value){a.clear();return}if(p.value){o.rows.forEach(f=>{f.rows.forEach(v=>a.add(v[o.rowKey]))});return}o.rows.forEach(f=>a.add(f[o.rowKey]))}return te("list",y(()=>({rowKey:o.rowKey,rows:o.rows,columns:o.columns,options:S.value,selections:a,activeRow:c,allRowsSelected:A.value,slots:i,toggleRow:h,toggleAllRows:x}))),t({selections:a,allRowsSelected:A,toggleRow:h,toggleAllRows:x}),(n,f)=>(r(),d("div",ze,[m("div",{class:C(["flex w-max min-w-full flex-col overflow-y-hidden",n.$attrs.class]),style:N(n.$attrs.style)},[w(n.$slots,"default",$(j({showGroupedRows:s(p),selectable:u.value})),()=>[_(ae),o.rows.length?(r(),d(z,{key:0},[s(p)?(r(),g($e,{key:0})):(r(),g(fe,{key:1}))],64)):(r(),g(ne,{key:1})),u.value?(r(),g(je,{key:2})):k("",!0)])],6)]))}});export{ie as _,ae as a,q as b,ce as c,He as d,fe as e,je as f};
//# sourceMappingURL=ListView-c88e1529.js.map
