import{u as g,i as $,r as m,c as j,a as C,l as w,b as o,d as a,e as i,F as f,k as p,h as _,o as s,t as T,w as y,f as x}from"./index-99ce2d99.js";import{a as B,_ as D,c as G,b as N,d as O}from"./ListView-f45a89e6.js";import{_ as A}from"./MissingData-c5c55a45.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-89c1576a.js";const E={key:0},F={key:0,class:"px-5 py-4"},R={class:"text-lg font-bold text-gray-700"},V={key:1},z={key:1,class:"flex flex-col items-center justify-center"},H={__name:"Grades",setup(I){g();const k=$("$user");m(0),g();let v=k.data.is_student,h=k.data.student;m([]),m(""),m({columns:[{label:"Course",key:"course"},{label:"Academic Term",key:"academic_term"}],rows:[]}),j({url:"seminary.seminary.api.get_student_programs",makeParams(){return{student:h}},onSuccess:l=>{u.rows=l.sort((e,t)=>e.academic_term<t.academic_term?-1:e.academic_term>t.academic_term?1:e.course_name<t.course_name?-1:e.course_name>t.course_name?1:0)},auto:!0});const u=C({rows:[],columns:[{label:"Course",key:"course_name",width:1},{label:"Academic Term",key:"academic_term",width:1},{label:"Credits",key:"credits",width:1},{label:"Grade Code",key:"pec_finalgradecode",width:1},{label:"Grade",key:"pec_finalgradenum",width:1},{label:"Status",key:"status",width:1}]}),b=w(()=>u.rows.reduce((e,t)=>{const r=t.program;return e[r]||(e[r]=[]),e[r].push(t),e},{})),S=w(()=>{const l=Object.entries(b.value).sort(([e,t],[r,n])=>{const c=t[0].pgmenrol_active,d=n[0].pgmenrol_active;return c>d?-1:c<d?1:e<r?-1:e>r?1:0});return Object.fromEntries(l)});return(l,e)=>o(v)?(s(),a("div",E,[e[2]||(e[2]=i("h2",{class:"text-xl font-bold text-gray-800 sticky flex items-center justify-between top-0 z-10 border-b bg-surface-white px-3 py-2.5 sm:px-5"}," My Transcripts ",-1)),Object.keys(b.value).length>0?(s(),a("div",F,[(s(!0),a(f,null,p(S.value,(t,r)=>(s(),a("div",{key:r},[i("h2",R,T(r),1),e[0]||(e[0]=i("br",null,null,-1)),_(o(O),{columns:u.columns,rows:t,options:{selectable:!1,showTooltip:!1,onRowClick:()=>{}},"row-key":"id"},{default:y(()=>[_(o(B),null,{default:y(()=>[(s(!0),a(f,null,p(u.columns,n=>(s(),x(o(D),{key:n.key,item:n},null,8,["item"]))),128))]),_:1}),(s(!0),a(f,null,p(t,n=>(s(),x(o(N),{key:n.id,row:n},{default:y(({column:c,item:d})=>[_(o(G),{item:d,align:c.align},null,8,["item","align"])]),_:1},8,["row"]))),128))]),_:2},1032,["columns","rows"]),e[1]||(e[1]=i("br",null,null,-1))]))),128))])):(s(),a("div",V,[_(A,{message:"No grades found"})]))])):(s(),a("div",z,[...e[3]||(e[3]=[i("p",{class:"text-lg font-bold text-gray-500"},"Individual Student Transcripts are only displayed for Students",-1)])]))}};export{H as default};
//# sourceMappingURL=Grades-6d0c0d48.js.map
