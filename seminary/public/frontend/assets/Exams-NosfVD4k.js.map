{"version":3,"file":"Exams-NosfVD4k.js","sources":["../../../../frontend/src/pages/Exams.vue"],"sourcesContent":["<template>\n\t<header\n\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t>\n\t\t<Breadcrumbs :items=\"breadcrumbs\" />\n\t\t<router-link\n\t\t\t:to=\"{\n\t\t\t\tname: 'ExamForm',\n\t\t\t\tparams: {\n\t\t\t\t\texamID: 'new',\n\t\t\t\t},\n\t\t\t}\"\n\t\t>\n\t\t\t<Button variant=\"solid\">\n\t\t\t\t<template #prefix>\n\t\t\t\t\t<Plus class=\"w-4 h-4\" />\n\t\t\t\t</template>\n\t\t\t\t{{ __('New Exam') }}\n\t\t\t</Button>\n\t\t</router-link>\n\t</header>\n\t<div v-if=\"exams.data?.length\" class=\"md:w-3/4 md:mx-auto py-5 mx-5\">\n\t\t<ListView\n\t\t\t:columns=\"examColumns\"\n\t\t\t:rows=\"exams.data\"\n\t\t\trow-key=\"name\"\n\t\t\t:options=\"{ showTooltip: false, selectable: false }\"\n\t\t>\n\t\t\t<ListHeader\n\t\t\t\tclass=\"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2\"\n\t\t\t>\n\t\t\t\t<ListHeaderItem :item=\"item\" v-for=\"item in examColumns\">\n\t\t\t\t</ListHeaderItem>\n\t\t\t</ListHeader>\n\t\t\t<ListRows>\n\t\t\t\t<router-link\n\t\t\t\t\tv-for=\"row in exams.data\"\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'ExamForm',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\texamID: row.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<ListRow :row=\"row\" />\n\t\t\t\t</router-link>\n\t\t\t</ListRows>\n\t\t</ListView>\n\t\t<div class=\"flex justify-center my-5\">\n\t\t\t<Button v-if=\"exams.hasNextPage\" @click=\"exams.next()\">\n\t\t\t\t{{ __('Load More') }}\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n\t<div\n\t\tv-else\n\t\tclass=\"text-center p-5 text-ink-gray-5 mt-52 w-3/4 md:w-1/2 mx-auto space-y-2\"\n\t>\n\t\t<BookOpen class=\"size-10 mx-auto stroke-1 text-ink-gray-4\" />\n\t\t<div class=\"text-xl font-medium\">\n\t\t\t{{ __('No exams found') }}\n\t\t</div>\n\t\t<div class=\"leading-5\">\n\t\t\t{{\n\t\t\t\t__(\n\t\t\t\t\t'You have not created any exams yet. To create a new exam, click on the \"New Exam\" button above.'\n\t\t\t\t)\n\t\t\t}}\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport {\n\tBreadcrumbs,\n\tButton,\n\tcreateListResource,\n\tListView,\n\tListRows,\n\tListRow,\n\tListHeader,\n\tListHeaderItem\n} from 'frappe-ui'\nimport { useRouter } from 'vue-router'\nimport { computed, inject, onMounted } from 'vue'\nimport { BookOpen, Plus } from 'lucide-vue-next'\nimport { updateDocumentTitle } from '@/utils'\n\nconst user = inject('$user')\nconst router = useRouter()\n\nonMounted(() => {\n\tif (!user.data?.is_moderator && !user.data?.is_instructor) {\n\t\trouter.push({ name: 'Courses' })\n\t}\n})\n\nconst examFilter = computed(() => {\n\tif (user.data?.is_moderator) return {}\n\treturn {\n\t\towner: user.data?.name,\n\t}\n})\n\nconst exams = createListResource({\n\tdoctype: 'Exam Activity',\n\tfilters: examFilter,\n\tfields: ['name', 'title', 'total_points'],\n\tauto: true,\n\tcache: ['exams', user.data?.name],\n\torderBy: 'modified desc',\n})\n\nconst examColumns = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Title'),\n\t\t\tkey: 'title',\n\t\t\twidth: 2,\n\t\t},\n\t\t{\n\t\t\tlabel: __('Total Points'),\n\t\t\tkey: 'total_points',\n\t\t\twidth: 1,\n\t\t\talign: 'center',\n\t\t},\n\t\n\t]\n})\n\nconst breadcrumbs = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Exams'),\n\t\t\troute: {\n\t\t\t\tname: 'Exams',\n\t\t\t},\n\t\t},\n\t]\n})\n\nconst pageMeta = computed(() => {\n\treturn {\n\t\ttitle: __('Exams'),\n\t\tdescription: __('List of exams'),\n\t}\n})\n\nupdateDocumentTitle(pageMeta)\n</script>\n"],"names":["user","inject","router","useRouter","onMounted","_a","_b","examFilter","computed","exams","createListResource","examColumns","breadcrumbs","pageMeta","updateDocumentTitle","_createElementVNode","_hoisted_1","_createVNode","_unref","Breadcrumbs","_component_router_link","Button","Plus","_createTextVNode","__","_openBlock","_createElementBlock","_hoisted_2","ListView","ListHeader","_Fragment","_renderList","item","_createBlock","ListHeaderItem","ListRows","row","ListRow","_hoisted_3","_cache","$event","_hoisted_4","BookOpen","_hoisted_5","_toDisplayString","_hoisted_6"],"mappings":"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"}