{"version":3,"file":"QuizSubmissionCS-CtzxFo34.js","sources":["../../../../frontend/src/pages/QuizSubmissionCS.vue"],"sourcesContent":["<template>\n\t<header\n\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t>\n\t\t<Breadcrumbs :items=\"breadcrumbs\" />\n\t</header>\n\t<div v-if=\"submissions.data?.length\" class=\"md:w-3/4 md:mx-auto py-5 mx-5\">\n\t\t<div class=\"text-xl font-semibold mb-5\">\n\t\t\t{{ submissions.data[0].quiz_title }}\n\t\t</div>\n\t\t<ListView\n\t\t\t:columns=\"quizColumns\"\n\t\t\t:rows=\"submissions.data\"\n\t\t\trow-key=\"name\"\n\t\t\t:options=\"{ showTooltip: false, selectable: false }\"\n\t\t>\n\t\t\t<ListHeader\n\t\t\t\tclass=\"mb-2 grid items-center space-x-4 rounded bg-surface-gray-2 p-2\"\n\t\t\t>\n\t\t\t\t<ListHeaderItem :item=\"item\" v-for=\"item in quizColumns\">\n\t\t\t\t</ListHeaderItem>\n\t\t\t</ListHeader>\n\t\t\t<ListRows>\n\t\t\t\t<router-link\n\t\t\t\t\tv-for=\"row in submissions.data\"\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'QuizSubmission',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tsubmission: row.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<ListRow :row=\"row\" />\n\t\t\t\t</router-link>\n\t\t\t</ListRows>\n\t\t</ListView>\n\t\t<div class=\"flex justify-center my-5\">\n\t\t\t<Button v-if=\"submissions.hasNextPage\" @click=\"submissions.next()\">\n\t\t\t\t{{ __('Load More') }}\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport {\n\tcreateListResource,\n    createResource,\n\tBreadcrumbs,\n\tButton,\n\tListView,\n\tListRow,\n\tListRows,\n\tListHeader,\n\tListHeaderItem,\n} from 'frappe-ui'\nimport { computed, onMounted, inject } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst router = useRouter()\nconst user = inject('$user')\n\n\nonMounted(() => {\n\tif (!user.data?.is_instructor && !user.data?.is_moderator)\n\t\trouter.push({ name: 'Courses' })\n})\n\nconst props = defineProps({\n\tquizID: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n    courseName: {\n        type: String,\n        required: true,\n    },\n})\n\nconst course = createResource({\n\turl: 'seminary.seminary.utils.get_course_details',\n\tcache: ['course', props.courseName],\n\tparams: {\n\t\tcourse: props.courseName,\n\t},\n\tauto: true,\n}) //Neded for the breadcrumbs\n\nconst submissions = createListResource({\n\tdoctype: 'Quiz Submission',\n\tfilters: {\n\t\tquiz: props.quizID,\n        course: props.courseName\n\t},\n\tfields: ['name', 'member_name', 'score', 'percentage', 'quiz_title'],\n\torderBy: 'creation desc',\n\tauto: true,\n})\n\nconst quizColumns = computed(() => {\n\treturn [\n\t\t{\n\t\t\tlabel: __('Student'),\n\t\t\tkey: 'member_name',\n\t\t\twidth: 1,\n\t\t},\n\t\t{\n\t\t\tlabel: __('Score'),\n\t\t\tkey: 'score',\n\t\t\twidth: 1,\n\t\t\talign: 'center',\n\t\t},\n\t\t{\n\t\t\tlabel: __('Percentage'),\n\t\t\tkey: 'percentage',\n\t\t\twidth: 1,\n\t\t\talign: 'center',\n\t\t},\n\t]\n})\n\nconst breadcrumbs = computed(() => {\n\tlet items = [{ label: 'Courses', route: { name: 'Courses' } }]\n\titems.push({\n\t\tlabel: course?.data?.course,\n\t\troute: { name: 'CourseDetail', params: { courseName: props.courseName } },\n\t})\n    items.push({\n        label: 'Gradebook',\n        route: { name: 'Gradebook', params: { courseName: props.courseName} },\n    })\n    items.push({\n        label: 'Quiz Submissions',\n    })\n\treturn items\n})\n</script>\n"],"names":["router","useRouter","user","inject","onMounted","_a","_b","props","__props","course","createResource","submissions","createListResource","quizColumns","computed","breadcrumbs","items","_createElementVNode","_hoisted_1","_createVNode","_unref","Breadcrumbs","_openBlock","_createElementBlock","_hoisted_2","_hoisted_3","_toDisplayString","ListView","ListHeader","_Fragment","_renderList","item","_createBlock","ListHeaderItem","ListRows","row","_component_router_link","ListRow","_hoisted_4","Button","_cache","$event","__"],"mappings":"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"}