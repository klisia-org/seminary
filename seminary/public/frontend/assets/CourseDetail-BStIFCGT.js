import{m as $,p as C,i as L,l as k,j as T,o as l,c,g as v,a as s,h as u,w as m,e as t,_ as h,t as n,f as b,B as M,b as z,F as B,k as j,q as O,s as S}from"./index-D2hg7nHX.js";import{_ as D}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-Dx4-1JCs.js";import{_ as E}from"./CourseOutline-CGVkqM9v.js";import{f as I,s as V,u as q}from"./index-CUzxg6RN.js";import{_ as A}from"./InstructorAvatar-DiIKSlIG.js";import"./telemetry-CE2EJSOe.js";import"./settings-CXJgiWd5.js";import"./trash-2-BHrUJgjV.js";import"./table-DhGkjCET.js";import"./ListView-6JS4BnER.js";/**
 * @license lucide-vue-next v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=$("UsersIcon",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),H={class:"border-2 rounded-md min-w-80"},P=["src"],R={class:"p-5"},U={key:0,class:"space-y-2"},Y={class:"space-y-4"},G={class:"flex items-center text-ink-gray-9"},J={class:"ml-2"},K={class:"flex items-center text-ink-gray-9"},Q={class:"ml-2"},W={__name:"CourseCardOverlay",props:{course:{type:Object,default:null}},setup(o){const f=C(),e=L("$user"),_=o,y=k(()=>_.course.data.video_link?"https://www.youtube.com/embed/"+_.course.data.video_link:null);function d(){e.data?setTimeout(()=>{f.push({name:"Lesson",params:{courseName:_.course.data.name,chapterNumber:1,lessonNumber:1}})},2e3):(V(__("Please Login"),__("You need to login first to enroll for this course"),"alert-circle"),setTimeout(()=>{window.location.href=`/login?redirect-to=${window.location.pathname}`},2e3))}const r=()=>{let i=!1;return _.course.data.instructors.forEach(a=>{var p;!i&&a.user==((p=e.data)==null?void 0:p.name)&&(i=!0)}),console.log(i),i};return(i,a)=>{var g,w,x,N;const p=T("router-link");return l(),c("div",H,[o.course.data.video_link?(l(),c("iframe",{key:0,src:y.value,class:"rounded-t-md min-h-56 w-full"},null,8,P)):v("",!0),s("div",R,[o.course.data.membership?(l(),c("div",U,[u(p,{to:{name:"Lesson",params:{courseName:o.course.name,chapterNumber:o.course.data.current_lesson?o.course.data.current_lesson.split("-")[0]:1,lessonNumber:o.course.data.current_lesson?o.course.data.current_lesson.split("-")[1]:1}}},{default:m(()=>[u(t(h),{variant:"solid",size:"md",class:"w-full"},{default:m(()=>a[1]||(a[1]=[s("span",null,n("Continue Learning"),-1)])),_:1})]),_:1},8,["to"])])):(l(),b(t(h),{key:1,onClick:a[0]||(a[0]=me=>d()),variant:"solid",class:"w-full",size:"md"},{default:m(()=>a[2]||(a[2]=[s("span",null,n("Start Learning"),-1)])),_:1})),(w=(g=t(e))==null?void 0:g.data)!=null&&w.is_moderator||r()?(l(),b(p,{key:2,to:{name:"CourseForm",params:{courseName:o.course.data.name}}},{default:m(()=>[u(t(h),{variant:"subtle",class:"w-full mt-2",size:"md"},{default:m(()=>a[3]||(a[3]=[s("span",null,n("Edit"),-1)])),_:1})]),_:1},8,["to"])):v("",!0),(N=(x=t(e))==null?void 0:x.data)!=null&&N.is_moderator||r()?(l(),b(p,{key:3,to:{name:"CourseAssessment",params:{courseName:o.course.data.name}}},{default:m(()=>[u(t(h),{variant:"subtle",class:"w-full mt-2",size:"md"},{default:m(()=>a[4]||(a[4]=[s("span",null,n("Configure Assessments"),-1)])),_:1})]),_:1},8,["to"])):v("",!0),s("div",Y,[a[5]||(a[5]=s("div",{class:"mt-8 font-medium text-ink-gray-9"},n("This course has:"),-1)),s("div",G,[u(t(M),{class:"h-4 w-4 stroke-1.5"}),s("span",J,n(o.course.data.lessons)+" "+n("Lessons"),1)]),s("div",K,[u(t(F),{class:"h-4 w-4 stroke-1.5"}),s("span",Q,n(t(I)(o.course.data.enrollments))+" "+n("Enrolled Students"),1)])])])])}}},X={key:0},Z={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},ee={class:"m-5"},se={class:"flex justify-between w-full"},te={class:"md:w-2/3"},oe={class:"text-3xl font-semibold text-ink-gray-9"},ae={class:"my-3 leading-6 text-ink-gray-7"},re=["innerHTML"],ne={class:"mt-10"},ie={key:0,class:"text-lg font-semibold"},le={key:1,class:"text-lg font-semibold"},ue={class:"flex items-center"},de={class:"mt-10"},ce={class:"border-0 rounded-md min-w-80"},xe={__name:"CourseDetail",props:{courseName:{type:String,required:!0}},setup(o){const f=o,e=z({url:"seminary.seminary.utils.get_course_details",cache:["course",f.courseName],params:{course:f.courseName},auto:!0});console.log(e);const _=k(()=>{var r,i;let d=[{label:"Courses",route:{name:"Courses"}}];return d.push({label:(r=e==null?void 0:e.data)==null?void 0:r.course,route:{name:"CourseDetail",params:{courseName:(i=e==null?void 0:e.data)==null?void 0:i.name}}}),d}),y=k(()=>{var d,r;return{title:(d=e==null?void 0:e.data)==null?void 0:d.title,description:(r=e==null?void 0:e.data)==null?void 0:r.short_introduction}});return q(y),(d,r)=>t(e).data?(l(),c("div",X,[s("header",Z,[u(t(D),{class:"h-7",items:_.value},null,8,["items"])]),s("div",ee,[s("div",se,[s("div",te,[s("div",oe,n(t(e).data.course),1),s("div",ae,n(t(e).data.short_introduction),1),s("div",{innerHTML:t(e).data.course_description_for_lms,class:"ProseMirror prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-outline-gray-2 prose-th:border-outline-gray-2 prose-td:relative prose-th:relative prose-th:bg-surface-gray-2 prose-sm max-w-none !whitespace-normal"},null,8,re),s("div",ne,[t(e).data.instructors.length===1?(l(),c("div",ie,"Instructor")):(l(),c("div",le,"Instructors")),(l(!0),c(B,null,j(t(e).data.instructors,i=>(l(),c("div",ue,[r[1]||(r[1]=s("br",null,null,-1)),O(" "+n(i.instructor_name)+" ",1),s("span",{class:S(["h-6 mr-1 p-2",{"avatar-group overlap":t(e).data.instructors.length>1}])},[u(A,{instructor:i},null,8,["instructor"]),r[0]||(r[0]=s("br",null,null,-1))],2)]))),256))]),s("div",de,[u(E,{title:"Course Outline",courseName:t(e).data.name,showOutline:!0},null,8,["courseName"])])]),s("div",ce,[u(W,{course:t(e),class:"mb-4"},null,8,["course"])])])])])):v("",!0)}};export{xe as default};
